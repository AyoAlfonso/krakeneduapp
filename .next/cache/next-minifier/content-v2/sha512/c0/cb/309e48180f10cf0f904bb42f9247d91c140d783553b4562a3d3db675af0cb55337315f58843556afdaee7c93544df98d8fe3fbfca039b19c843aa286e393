{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[29],{HyjB:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/courses/create\",function(){return r(\"Iwx+\")}])},\"Iwx+\":function(e,t,r){\"use strict\";r.r(t);var n=r(\"vJKn\"),u=r.n(n),a=r(\"cpVT\"),c=r(\"rg98\"),i=r(\"xvhg\"),o=r(\"j+1P\"),s=r.n(o),p=r(\"20a2\"),b=r(\"q1tI\"),l=r(\"rk+T\"),h=r(\"Hzj1\"),d=r(\"9Hbq\"),f=r(\"0CBl\"),g=r(\"5++N\");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.default=function(){var e=Object(g.i)().data,t=Object(p.useRouter)(),r=Object(b.useState)({name:\"\",description:\"\",prerequisites:\"\",duration:\"\",cost:5,type:\"course\",maintainers:[]}),n=r[0],a=r[1],o=Object(f.b)([n]),m=Object(i.a)(o,2),y=m[0],O=m[1];!1===e&&t.push(\"/\"),e&&!1===e.admin&&t.push(\"/dashboard\");var j=function(){var e=Object(c.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,O(\"/api/courses\",v({},n));case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s()(\"div\",[s()(\"h1\",\"Create a New Course\"),\"error\"===y?s()(l.b,\"An error occured\"):null,\"success\"===y?s()(l.c,\"Course created!\"):null,s()(d.d,{onSubmit:j},[s()(l.a,{style:{marginTop:\"16px\"}},[s()(l.d,{type:\"checkbox\",checked:\"club\"===n.type,onChange:function(e){return a(v(v({},n),{},{type:e.currentTarget.checked?\"club\":\"course\"}))}}),s()(\"h4\",\"Club? \")]),s()(d.e,{gap:8},[s()(\"h4\",\"Name\"),s()(l.d,{required:!0,type:\"text\",maxLength:50,value:n.name,onChange:function(e){return a(v(v({},n),{},{name:e.currentTarget.value}))}})]),s()(d.e,{gap:8},[s()(\"h4\",\"Description\"),s()(l.h,{required:!0,maxLength:200,value:n.description,onChange:function(e){return a(v(v({},n),{},{description:e.currentTarget.value}))}})]),s()(d.e,{gap:8},[s()(\"h4\",\"Duration\"),s()(l.d,{type:\"text\",value:n.duration,onChange:function(e){return a(v(v({},n),{},{duration:e.currentTarget.value}))}})]),s()(d.e,{gap:8},[s()(\"h4\",\"Prerequisites\"),s()(l.h,{value:n.prerequisites,onChange:function(e){return a(v(v({},n),{},{prerequisites:e.currentTarget.value}))}})]),s()(d.e,{gap:8},[s()(\"h4\",\"Cost (USD)\"),s()(l.d,{required:!0,type:\"number\",min:\"5\",max:\"1000\",value:n.cost,onChange:function(e){return a(v(v({},n),{},{cost:parseInt(e.currentTarget.value)}))}})]),s()(d.e,{gap:8},[s()(\"h4\",\"Maintainers\"),s()(l.d,{required:!0,type:\"email\",multiple:!0,onChange:function(e){return a(v(v({},n),{},{maintainers:e.currentTarget.value.split(\",\").map((function(e){return e.trim()}))}))}})]),s()(h.f,{status:y,type:\"submit\"},\"Submit\")])])}}},[[\"HyjB\",0,2,1,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/courses/create-eb0d197f5c154115cb1c.js"],"names":["_N_E","window","push","HyjB","module","exports","__webpack_require__","__NEXT_P","Iwx+","__webpack_exports__","r","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","react_hyperscript__WEBPACK_IMPORTED_MODULE_4__","react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default","next_router__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","components_Form__WEBPACK_IMPORTED_MODULE_7__","components_Button__WEBPACK_IMPORTED_MODULE_8__","components_Layout__WEBPACK_IMPORTED_MODULE_9__","src_apiHelpers__WEBPACK_IMPORTED_MODULE_10__","src_data__WEBPACK_IMPORTED_MODULE_11__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","user","data","router","_useState","name","description","prerequisites","duration","cost","type","maintainers","formData","setFormData","_useApi","_useApi2","status","callCreateCourse","admin","onSubmit","_ref","a","mark","_callee","e","wrap","_context","prev","next","preventDefault","stop","_x","this","style","marginTop","checked","onChange","currentTarget","gap","required","maxLength","value","min","max","parseInt","multiple","split","map","x","trim"],"mappings":"AAAAA,MACCC,OAAyB,iBAAIA,OAAyB,kBAAK,IAAIC,KAAK,CAAC,CAAC,IAAI,CAErEC,KACA,SAAUC,EAAQC,EAASC,IAG1BL,OAAOM,SAAWN,OAAOM,UAAY,IAAIL,KAAK,CAC7C,kBACA,WACE,OAAOI,EAAoB,YAO/BE,OACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aACAA,EAAoBI,EAAED,GACD,IAAIE,EAAiIL,EAAoB,QACrJM,EAAsJN,EAAoBO,EAAEF,GAC5KG,EAAgJR,EAAoB,QACpKS,EAAkJT,EAAoB,QACtKU,EAA+IV,EAAoB,QACnKW,EAAiDX,EAAoB,QACrEY,EAAsEZ,EAAoBO,EAAEI,GAC5FE,EAA2Cb,EAAoB,QAE/Dc,EAAqCd,EAAoB,QAEzDe,EAA+Cf,EAAoB,QACnEgB,EAAiDhB,EAAoB,QACrEiB,EAAiDjB,EAAoB,QACrEkB,EAA+ClB,EAAoB,QACnEmB,EAAyCnB,EAAoB,QAMtF,SAASoB,EAAQC,EAAQC,GAAkB,IAAIC,EAAOC,OAAOD,KAAKF,GAAS,GAAIG,OAAOC,sBAAuB,CAAE,IAAIC,EAAUF,OAAOC,sBAAsBJ,GAAaC,IAAgBI,EAAUA,EAAQC,QAAO,SAAUC,GAAO,OAAOJ,OAAOK,yBAAyBR,EAAQO,GAAKE,eAAgBP,EAAK3B,KAAKmC,MAAMR,EAAMG,GAAY,OAAOH,EAE9U,SAASS,EAAcC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAAQA,EAAI,EAAKd,EAAQI,OAAOa,IAAS,GAAMC,SAAQ,SAAUC,GAAOf,OAAOhB,EAA+J,EAAtKgB,CAAyKS,EAAQM,EAAKF,EAAOE,OAAsBf,OAAOgB,0BAA6BhB,OAAOiB,iBAAiBR,EAAQT,OAAOgB,0BAA0BH,IAAmBjB,EAAQI,OAAOa,IAASC,SAAQ,SAAUC,GAAOf,OAAOkB,eAAeT,EAAQM,EAAKf,OAAOK,yBAAyBQ,EAAQE,OAAe,OAAON,EAoJzoB9B,EAA6B,QAzIvC,WACjB,IACIwC,EADenB,OAAOL,EAA4D,EAAnEK,GACKoB,KAEpBC,EAASrB,OAAOX,EAAoD,UAA3DW,GAETsB,EAAYtB,OAAOV,EAA6C,SAApDU,CAAuD,CACrEuB,KAAM,GACNC,YAAa,GACbC,cAAe,GACfC,SAAU,GACVC,KAAM,EACNC,KAAM,SACNC,YAAa,KAEXC,EAAWR,EAAU,GACrBS,EAAcT,EAAU,GAExBU,EAAUhC,OAAON,EAA6D,EAApEM,CAAuE,CAAC8B,IAClFG,EAAWjC,OAAOd,EAA8J,EAArKc,CAAwKgC,EAAS,GAC5LE,EAASD,EAAS,GAClBE,EAAmBF,EAAS,IAEnB,IAATd,GAAgBE,EAAOjD,KAAK,KAC5B+C,IAAuB,IAAfA,EAAKiB,OAAiBf,EAAOjD,KAAK,cAE9C,IAAIiE,EAAwB,WAC1B,IAAIC,EAAOtC,OAAOf,EAAiK,EAAxKe,CAAyLlB,EAAuIyD,EAAEC,MAAK,SAASC,EAAQC,GACjW,OAAO5D,EAAuIyD,EAAEI,MAAK,SAAkBC,GACrK,OACE,OAAQA,EAASC,KAAOD,EAASE,MAC/B,KAAK,EAGH,OAFAJ,EAAEK,iBACFH,EAASE,KAAO,EACTX,EAAiB,eAAgB3B,EAAc,GAAIsB,IAE5D,KAAK,EACL,IAAK,MACH,OAAOc,EAASI,UAGrBP,OAGL,OAAO,SAAkBQ,GACvB,OAAOX,EAAK/B,MAAM2C,KAAMvC,YAnBA,GAuB5B,OAAOvB,GAAAA,CAAyD,MAAO,CAACA,GAAAA,CAAyD,KAAM,uBAAmC,UAAX8C,EAAqB9C,GAAAA,CAAyDG,EAA4D,EAAG,oBAAsB,KAAiB,YAAX2C,EAAuB9C,GAAAA,CAAyDG,EAA2D,EAAG,mBAAqB,KAAMH,GAAAA,CAAyDK,EAAgE,EAAG,CAC3mB4C,SAAUA,GACT,CAACjD,GAAAA,CAAyDG,EAA+D,EAAG,CAC7H4D,MAAO,CACLC,UAAW,SAEZ,CAAChE,GAAAA,CAAyDG,EAA4D,EAAG,CAC1HqC,KAAM,WACNyB,QAA2B,SAAlBvB,EAASF,KAClB0B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEF,KAAMc,EAAEa,cAAcF,QAAU,OAAS,eAG3CjE,GAAAA,CAAyD,KAAM,YAAaA,GAAAA,CAAyDK,EAAiE,EAAG,CAC3M+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,QAASA,GAAAA,CAAyDG,EAA4D,EAAG,CAClMkE,UAAU,EACV7B,KAAM,OACN8B,UAAW,GACXC,MAAO7B,EAASP,KAChB+B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEP,KAAMmB,EAAEa,cAAcI,cAGtBvE,GAAAA,CAAyDK,EAAiE,EAAG,CACjI+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,eAAgBA,GAAAA,CAAyDG,EAA+D,EAAG,CAC5MkE,UAAU,EACVC,UAAW,IACXC,MAAO7B,EAASN,YAChB8B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEN,YAAakB,EAAEa,cAAcI,cAG7BvE,GAAAA,CAAyDK,EAAiE,EAAG,CACjI+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,YAAaA,GAAAA,CAAyDG,EAA4D,EAAG,CACtMqC,KAAM,OACN+B,MAAO7B,EAASJ,SAChB4B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEJ,SAAUgB,EAAEa,cAAcI,cAG1BvE,GAAAA,CAAyDK,EAAiE,EAAG,CACjI+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,iBAAkBA,GAAAA,CAAyDG,EAA+D,EAAG,CAC9MoE,MAAO7B,EAASL,cAChB6B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEL,cAAeiB,EAAEa,cAAcI,cAG/BvE,GAAAA,CAAyDK,EAAiE,EAAG,CACjI+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,cAAeA,GAAAA,CAAyDG,EAA4D,EAAG,CACxMkE,UAAU,EACV7B,KAAM,SACNgC,IAAK,IACLC,IAAK,OACLF,MAAO7B,EAASH,KAChB2B,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChEH,KAAMmC,SAASpB,EAAEa,cAAcI,eAG/BvE,GAAAA,CAAyDK,EAAiE,EAAG,CACjI+D,IAAK,GACJ,CAACpE,GAAAA,CAAyD,KAAM,eAAgBA,GAAAA,CAAyDG,EAA4D,EAAG,CACzMkE,UAAU,EACV7B,KAAM,QACNmC,UAAU,EACVT,SAAU,SAAkBZ,GAC1B,OAAOX,EAAYvB,EAAcA,EAAc,GAAIsB,GAAW,GAAI,CAChED,YAAaa,EAAEa,cAAcI,MAAMK,MAAM,KAAKC,KAAI,SAAUC,GAC1D,OAAOA,EAAEC,kBAIX/E,GAAAA,CAAyDI,EAAgE,EAAG,CAChI0C,OAAQA,EACRN,KAAM,UACL,iBAOH,CAAC,CAAC,OAAO,EAAE,EAAE,EAAE,EAAE"},"name":"static/chunks/pages/courses/create-eb0d197f5c154115cb1c.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[29],{\n\n/***/ \"HyjB\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/create\",\n        function () {\n          return __webpack_require__(\"Iwx+\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"Iwx+\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var components_Form__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"rk+T\");\n/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"Hzj1\");\n/* harmony import */ var components_Layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var src_apiHelpers__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"0CBl\");\n/* harmony import */ var src_data__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"5++N\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\nvar CreateCourse = function CreateCourse() {\n  var _useUserData = Object(src_data__WEBPACK_IMPORTED_MODULE_11__[/* useUserData */ \"i\"])(),\n      user = _useUserData.data;\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_5__[\"useRouter\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    name: '',\n    description: '',\n    prerequisites: '',\n    duration: \"\",\n    cost: 5,\n    type: 'course',\n    maintainers: []\n  }),\n      formData = _useState[0],\n      setFormData = _useState[1];\n\n  var _useApi = Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_10__[/* useApi */ \"b\"])([formData]),\n      _useApi2 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useApi, 2),\n      status = _useApi2[0],\n      callCreateCourse = _useApi2[1];\n\n  if (user === false) router.push('/');\n  if (user && user.admin === false) router.push('/dashboard');\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return callCreateCourse('/api/courses', _objectSpread({}, formData));\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('div', [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h1', 'Create a New Course'), status === 'error' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Error */ \"b\"], 'An error occured') : null, status === 'success' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Info */ \"c\"], 'Course created!') : null, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* FormBox */ \"d\"], {\n    onSubmit: onSubmit\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* CheckBox */ \"a\"], {\n    style: {\n      marginTop: '16px'\n    }\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Input */ \"d\"], {\n    type: 'checkbox',\n    checked: formData.type === 'club',\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        type: e.currentTarget.checked ? 'club' : 'course'\n      }));\n    }\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Club? ')]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Name'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Input */ \"d\"], {\n    required: true,\n    type: 'text',\n    maxLength: 50,\n    value: formData.name,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        name: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Description'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Textarea */ \"h\"], {\n    required: true,\n    maxLength: 200,\n    value: formData.description,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        description: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Duration'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Input */ \"d\"], {\n    type: 'text',\n    value: formData.duration,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        duration: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Prerequisites'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Textarea */ \"h\"], {\n    value: formData.prerequisites,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        prerequisites: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Cost (USD)'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Input */ \"d\"], {\n    required: true,\n    type: 'number',\n    min: '5',\n    max: '1000',\n    value: formData.cost,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        cost: parseInt(e.currentTarget.value)\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', 'Maintainers'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_7__[/* Input */ \"d\"], {\n    required: true,\n    type: 'email',\n    multiple: true,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        maintainers: e.currentTarget.value.split(',').map(function (x) {\n          return x.trim();\n        })\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Primary */ \"f\"], {\n    status: status,\n    type: 'submit'\n  }, 'Submit')])]);\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CreateCourse);\n\n/***/ })\n\n},[[\"HyjB\",0,2,1,3,4]]]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fcourses%2Fcreate&absolutePagePath=private-next-pages%2Fcourses%2Fcreate.ts!","/Users/ayooluwaalfonso/code/krakeneduapp/pages/courses/create.ts"],"names":["CreateCourse","useUserData","user","data","router","useRouter","useState","name","description","prerequisites","duration","cost","type","maintainers","formData","setFormData","useApi","status","callCreateCourse","push","admin","onSubmit","e","preventDefault","h","Error","Info","FormBox","CheckBox","style","marginTop","Input","checked","onChange","currentTarget","LabelBox","gap","required","maxLength","value","Textarea","min","max","parseInt","multiple","split","map","x","trim","Primary"],"mappings":";;;;;;;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAsC;AAC/D;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;;AAGA,IAAMA,YAAY,GAAG,SAAfA,YAAe,GAAK;AAAA,qBACLC,qEAAW,EADN;AAAA,MACbC,IADa,gBACnBC,IADmB;;AAExB,MAAIC,MAAM,GAAGC,6DAAS,EAAtB;;AAFwB,kBAGMC,sDAAQ,CAAC;AACrCC,QAAI,EAAE,EAD+B;AAErCC,eAAW,EAAE,EAFwB;AAGrCC,iBAAa,EAAE,EAHsB;AAIrCC,YAAQ,EAAE,EAJ2B;AAKrCC,QAAI,EAAE,CAL+B;AAMrCC,QAAI,EAAE,QAN+B;AAOrCC,eAAW,EAAE;AAPwB,GAAD,CAHd;AAAA,MAGnBC,QAHmB;AAAA,MAGTC,WAHS;;AAAA,gBAaSC,sEAAM,CAAwC,CAACF,QAAD,CAAxC,CAbf;AAAA;AAAA,MAanBG,MAbmB;AAAA,MAaXC,gBAbW;;AAexB,MAAGhB,IAAI,KAAK,KAAZ,EAAmBE,MAAM,CAACe,IAAP,CAAY,GAAZ;AACnB,MAAGjB,IAAI,IAAKA,IAAI,CAACkB,KAAL,KAAe,KAA3B,EAAkChB,MAAM,CAACe,IAAP,CAAY,YAAZ;;AAElC,MAAME,QAAQ;AAAA,sVAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AACfA,eAAC,CAACC,cAAF;AADe;AAAA,qBAETL,gBAAgB,CAAC,cAAD,oBAAqBJ,QAArB,EAFP;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARO,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAKA,SAAOG,wDAAC,CAAC,KAAD,EAAQ,CACdA,wDAAC,CAAC,IAAD,EAAO,qBAAP,CADa,EAEdP,MAAM,KAAK,OAAX,GAAqBO,wDAAC,CAACC,6DAAD,EAAQ,kBAAR,CAAtB,GAAoD,IAFtC,EAGdR,MAAM,KAAK,SAAX,GAAuBO,wDAAC,CAACE,4DAAD,EAAO,iBAAP,CAAxB,GAAoD,IAHtC,EAIdF,wDAAC,CAACG,iEAAD,EAAU;AAACN,YAAQ,EAARA;AAAD,GAAV,EAAsB,CACrBG,wDAAC,CAACI,gEAAD,EAAW;AAACC,SAAK,EAAC;AAACC,eAAS,EAAE;AAAZ;AAAP,GAAX,EAAwC,CACvCN,wDAAC,CAACO,6DAAD,EAAQ;AACPnB,QAAI,EAAE,UADC;AAEPoB,WAAO,EAAElB,QAAQ,CAACF,IAAT,KAAkB,MAFpB;AAGPqB,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAGP,WAAW,iCAAKD,QAAL;AAAeF,YAAI,EAAEU,CAAC,CAACY,aAAF,CAAgBF,OAAhB,GAA0B,MAA1B,GAAmC;AAAxD,SAAd;AAAA;AAHJ,GAAR,CADsC,EAMvCR,wDAAC,CAAC,IAAD,EAAO,QAAP,CANsC,CAAxC,CADoB,EASrBA,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,MAAP,CADkB,EAEjBA,wDAAC,CAACO,6DAAD,EAAQ;AACPM,YAAQ,EAAE,IADH;AAEPzB,QAAI,EAAE,MAFC;AAGP0B,aAAS,EAAE,EAHJ;AAIPC,SAAK,EAAEzB,QAAQ,CAACP,IAJT;AAKP0B,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAIP,WAAW,iCAAKD,QAAL;AAAeP,YAAI,EAAEe,CAAC,CAACY,aAAF,CAAgBK;AAArC,SAAf;AAAA;AALJ,GAAR,CAFgB,CAApB,CAToB,EAmBrBf,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,aAAP,CADkB,EAEjBA,wDAAC,CAACgB,gEAAD,EAAW;AACVH,YAAQ,EAAE,IADA;AAEVC,aAAS,EAAE,GAFD;AAGVC,SAAK,EAAEzB,QAAQ,CAACN,WAHN;AAIVyB,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAIP,WAAW,iCAAKD,QAAL;AAAeN,mBAAW,EAAEc,CAAC,CAACY,aAAF,CAAgBK;AAA5C,SAAf;AAAA;AAJD,GAAX,CAFgB,CAApB,CAnBoB,EA4BrBf,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,UAAP,CADkB,EAEnBA,wDAAC,CAACO,6DAAD,EAAQ;AACPnB,QAAI,EAAE,MADC;AAEP2B,SAAK,EAAEzB,QAAQ,CAACJ,QAFT;AAGPuB,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAGP,WAAW,iCAAKD,QAAL;AAAeJ,gBAAQ,EAAEY,CAAC,CAACY,aAAF,CAAgBK;AAAzC,SAAd;AAAA;AAHJ,GAAR,CAFkB,CAApB,CA5BoB,EAoCrBf,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,eAAP,CADkB,EAEnBA,wDAAC,CAACgB,gEAAD,EAAW;AACVD,SAAK,EAAEzB,QAAQ,CAACL,aADN;AAEVwB,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAGP,WAAW,iCAAKD,QAAL;AAAeL,qBAAa,EAAEa,CAAC,CAACY,aAAF,CAAgBK;AAA9C,SAAd;AAAA;AAFD,GAAX,CAFkB,CAApB,CApCoB,EA2CrBf,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,YAAP,CADkB,EAEnBA,wDAAC,CAACO,6DAAD,EAAQ;AACPM,YAAQ,EAAE,IADH;AAEPzB,QAAI,EAAE,QAFC;AAGP6B,OAAG,EAAE,GAHE;AAIPC,OAAG,EAAE,MAJE;AAKPH,SAAK,EAAEzB,QAAQ,CAACH,IALT;AAMPsB,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAGP,WAAW,iCAAKD,QAAL;AAAeH,YAAI,EAAEgC,QAAQ,CAACrB,CAAC,CAACY,aAAF,CAAgBK,KAAjB;AAA7B,SAAd;AAAA;AANJ,GAAR,CAFkB,CAApB,CA3CoB,EAsDrBf,wDAAC,CAACW,kEAAD,EAAW;AAACC,OAAG,EAAC;AAAL,GAAX,EAAoB,CACnBZ,wDAAC,CAAC,IAAD,EAAO,aAAP,CADkB,EAEnBA,wDAAC,CAACO,6DAAD,EAAQ;AACPM,YAAQ,EAAE,IADH;AAEPzB,QAAI,EAAE,OAFC;AAGPgC,YAAQ,EAAE,IAHH;AAIPX,YAAQ,EAAE,kBAAAX,CAAC;AAAA,aAAGP,WAAW,iCAAKD,QAAL;AAAeD,mBAAW,EAAES,CAAC,CAACY,aAAF,CAAgBK,KAAhB,CAAsBM,KAAtB,CAA4B,GAA5B,EAAiCC,GAAjC,CAAqC,UAAAC,CAAC;AAAA,iBAAEA,CAAC,CAACC,IAAF,EAAF;AAAA,SAAtC;AAA5B,SAAd;AAAA;AAJJ,GAAR,CAFkB,CAApB,CAtDoB,EA+DrBxB,wDAAC,CAACyB,iEAAD,EAAU;AAAChC,UAAM,EAANA,MAAD;AAASL,QAAI,EAAE;AAAf,GAAV,EAAoC,QAApC,CA/DoB,CAAtB,CAJa,CAAR,CAAR;AAsED,CA7FD;;AA+FeZ,2EAAf,E","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/create\",\n        function () {\n          return require(\"private-next-pages/courses/create.ts\");\n        }\n      ]);\n    ","import h from 'react-hyperscript'\nimport { useRouter } from 'next/router'\nimport { useState } from 'react'\n\nimport {  Input, Error, Info, Textarea, CheckBox} from 'components/Form'\nimport { Primary } from 'components/Button'\nimport { LabelBox, FormBox } from 'components/Layout'\n\nimport { useApi } from 'src/apiHelpers'\nimport { useUserData } from 'src/data'\nimport { CreateCourseMsg, CreateCourseResponse } from 'pages/api/courses'\n\nconst CreateCourse = ()=> {\n  let {data: user} = useUserData()\n  let router = useRouter()\n  let [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    prerequisites: '',\n    duration: \"\",\n    cost: 5,\n    type: 'course' as 'course' | 'club',\n    maintainers: [] as string[]\n  })\n\n  let [status, callCreateCourse] = useApi<CreateCourseMsg, CreateCourseResponse>([formData])\n\n  if(user === false) router.push('/')\n  if(user &&  user.admin === false) router.push('/dashboard')\n\n  const onSubmit = async (e:React.FormEvent) => {\n    e.preventDefault()\n    await callCreateCourse('/api/courses', {...formData})\n  }\n\n  return h('div', [\n    h('h1', 'Create a New Course'),\n    status === 'error' ? h(Error, 'An error occured') : null,\n    status === 'success' ? h(Info, 'Course created!') : null,\n    h(FormBox, {onSubmit}, [\n      h(CheckBox, {style:{marginTop: '16px'}}, [\n        h(Input, {\n          type: 'checkbox',\n          checked: formData.type === 'club',\n          onChange: e=> setFormData({...formData, type: e.currentTarget.checked ? 'club' : 'course'})\n        }),\n        h('h4', 'Club? '),\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Name'),\n          h(Input, {\n            required: true,\n            type: 'text',\n            maxLength: 50,\n            value: formData.name,\n            onChange: e => setFormData({...formData, name: e.currentTarget.value})\n          }),\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Description'),\n          h(Textarea, {\n            required: true,\n            maxLength: 200,\n            value: formData.description,\n            onChange: e => setFormData({...formData, description: e.currentTarget.value})\n          }),\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Duration'),\n        h(Input, {\n          type: 'text',\n          value: formData.duration,\n          onChange: e=> setFormData({...formData, duration: e.currentTarget.value})\n        })\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Prerequisites'),\n        h(Textarea, {\n          value: formData.prerequisites,\n          onChange: e=> setFormData({...formData, prerequisites: e.currentTarget.value})\n        })\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Cost (USD)'),\n        h(Input, {\n          required: true,\n          type: 'number',\n          min: '5',\n          max: '1000',\n          value: formData.cost,\n          onChange: e=> setFormData({...formData, cost: parseInt(e.currentTarget.value)})\n        })\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Maintainers'),\n        h(Input, {\n          required: true,\n          type: 'email',\n          multiple: true,\n          onChange: e=> setFormData({...formData, maintainers: e.currentTarget.value.split(',').map(x=>x.trim())})\n        })\n      ]),\n      h(Primary, {status, type: 'submit'}, 'Submit')\n    ])\n  ])\n}\n\nexport default CreateCourse\n"]}}