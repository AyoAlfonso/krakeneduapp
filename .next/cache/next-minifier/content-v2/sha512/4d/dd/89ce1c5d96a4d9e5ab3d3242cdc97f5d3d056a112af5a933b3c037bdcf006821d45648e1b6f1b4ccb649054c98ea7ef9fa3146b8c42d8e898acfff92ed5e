{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{\"6d7b\":function(e,t,n){\"use strict\";var o=n(\"vJKn\"),r=n.n(o),i=n(\"rg98\"),a=n(\"wTIg\"),c=n(\"j+1P\"),s=n.n(c),u=n(\"9Hbq\"),l=n(\"mirl\"),d=n(\"q1tI\"),p=n(\"GRjo\"),h=n(\"0CBl\"),f=n(\"BTHN\");t.a=function(e){var t,n,o,a,c,b,m=Object(p.c)().data,v=(null===(t=e.course)||void 0===t?void 0:t.cost)||0,y=null===m||void 0===m?void 0:m.find((function(t){var n;return t.course==(null===(n=e.course)||void 0===n?void 0:n.id)}));return Object(d.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&m){e.next=2;break}return e.abrupt(\"return\");case 2:return e.next=4,Object(h.a)(\"/api/discounts/\"+y.code);case 4:(200!==(t=e.sent).status||t.result.deleted||0!==t.result.max_redeems&&t.result.max_redeems<=t.result.redeems)&&Object(p.b)(m.filter((function(e){return e.code!==(null===y||void 0===y?void 0:y.code)})));case 6:case\"end\":return e.stop()}}),e)})))()}),[y,m]),y&&(\"absolute\"===y.type?v-=y.amount:v-=Math.floor(y.amount/100*v)),s()(u.b,{gap:16},[s()(u.b,{gap:8},[y?s()(g,{green:!0},\"$\"+v):null,s()(g,{discounted:!!y},\"$\"+(null===(n=e.course)||void 0===n?void 0:n.cost))]),s()(u.b,{gap:8,style:{color:l.d.textSecondary}},[s()(\"b\",null===(o=e.course)||void 0===o?void 0:o.duration),0===(null===(a=e.course)||void 0===a?void 0:a.cohort_max_size)?null:s()(\"b\",\"Up to \".concat(null===(c=e.course)||void 0===c?void 0:c.cohort_max_size,\" learners\")),s()(u.b,{gap:4},[s()(\"b\",\"Prerequisites\"),s()(f.a,{source:null===(b=e.course)||void 0===b?void 0:b.prerequisites,disallowedTypes:[\"heading\"]})])]),e.children])};var g=Object(a.a)(\"span\",{target:\"egkpgdv0\"})(\"width:min-content;line-height:56px;font-size:56px;font-weight:bold;\",(function(e){return e.green?\"color: \".concat(l.d.accentSuccess,\";\"):\"\"}),\" \",(function(e){return e.discounted?\"\\nfont-size: 32px;\\nline-height: 32px;\\nbackground: linear-gradient(20deg, transparent 45.75%, currentColor 47.5%, currentColor 52.5%, transparent 53.25%);\\n\":\"\"}),\"\")},\"9GwF\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return u}));var o=n(\"j+1P\"),r=n.n(o),i=n(\"Sl1R\"),a=n(\"q1tI\"),c=n(\"rk+T\"),s=i.Array(i.Boolean);function u(e){var t=e.items.filter((function(e){return!!e})),n=Object(a.useState)(new Array(t.length).fill(!1)),o=n[0],i=n[1];return Object(a.useEffect)((function(){if(e.persistKey){var t=localStorage.getItem(e.persistKey);try{var n=s.check(JSON.parse(t||\"\"));i(n)}catch(o){}}}),[]),Object(a.useEffect)((function(){e.persistKey&&localStorage.setItem(e.persistKey,JSON.stringify(o))}),[o]),r()(a.Fragment,t.map((function(e,t){return r()(c.a,[r()(c.d,{type:\"checkbox\",checked:o[t],onChange:function(e){var n=o.slice(0);n[t]=e.currentTarget.checked,i(n)}}),e])})))}},he5r:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o}));var o=\"https://forum.krakenedu.com\"},ptY8:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSG\",(function(){return W})),n.d(t,\"Cohort\",(function(){return $}));var o=n(\"vJKn\"),r=n.n(o),i=n(\"rg98\"),a=n(\"xvhg\"),c=n(\"cpVT\"),s=n(\"z7pX\"),u=n(\"wTIg\"),l=n(\"j+1P\"),d=n.n(l),p=n(\"q1tI\"),h=n(\"YFqc\"),f=n.n(h),g=n(\"9Hbq\"),b=n(\"lnWS\"),m=n(\"mirl\"),v=n(\"kacE\"),y=n(\"rk+T\"),_=n(\"+ErQ\"),O=n(\"6d7b\"),j=n(\"BTHN\"),k=n(\"+6Um\"),w=n(\"fdqv\"),x=function(e){var t=new Date(e.start_date)<new Date;return d()(f.a,{href:\"/courses/[slug]/[id]/cohorts/[cohortId]\",as:\"/courses/\".concat(e.courses.slug,\"/\").concat(e.course,\"/cohorts/\").concat(e.id),passHref:!0},[d()(k.a,{style:{border:\"1px solid\",borderTop:\"4px solid\",borderRadius:\"2px\"}},[d()(g.b,{gap:8},[d()(g.b,{h:!0},[d()(\"h3\",Object(w.a)(e.name)),e.enrolled||e.facilitating?d()(g.b,{gap:8,h:!0,style:{alignSelf:\"center\"}},[e.facilitating?d()(_.a,{borderOnly:!0},\"facilitator\"):null,e.enrolled?d()(_.a,\"enrolled\"):null,e.live?null:d()(_.a,{red:!0,borderOnly:!0},\"draft\")]):null]),d()(\"div\",[d()(\"h4\",\"\".concat(t?\"Started\":\"Starts\",\" \").concat(Object(w.f)(e.start_date))),d()(\"p\",{style:{color:m.d.textSecondary}},\"Facilitated by \".concat(e.facilitators.join(\", \")))])])])])},S=n(\"Zp4/\"),C=n(\"wyA/\"),I=n(\"Hzj1\"),T=n(\"AX+V\"),D=n(\"he5r\"),z=n(\"5++N\"),P=n(\"0CBl\"),q=n(\"Lq9q\"),R=n(\"+Xui\"),E=n(\"g4pe\"),F=n.n(E),Y=n(\"20a2\"),A=n(\"R1ly\"),B=n(\"9GwF\");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=\"Curriculum\",H=\"All Cohorts\",J=\"Your Current Cohorts\",M=\"You can edit details, create new cohorts, and more.\",G=function(e){return d()(y.c,[\"\\ud83d\\udca1 You can make changes to the curriculum by editing \",d()(\"a\",{href:\"\".concat(D.a,\"/session/sso?return_path=/t/\").concat(e.id)},\"this topic\"),\" in the forum\"])},W=!0,U=(t.default=function(e){return e.notFound?d()(R.default):d()(U,e)},function(e){var t,n=Object(z.i)().data,o=Object(z.g)().data,r=Object(z.b)(e.id,e.course||void 0).data;if(!r)return d()(v.a);var i=r.course_cohorts.filter((function(e){return!!n&&(null===e.completed&&(!!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))||e.people_in_cohorts.find((function(e){return e.people.id===(n?n.id:void 0)}))))})).sort(w.g),a=i.filter((function(e){return!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))})).length>0,u=r.course_cohorts.filter((function(e){return new Date(e.start_date)>new Date&&e.live})).sort(w.g),l=!(null===r||void 0===r||!r.course_maintainers.find((function(e){return n&&e.maintainer===n.id}))),p=!(null===o||void 0===o||!o.invited_courses.find((function(t){return t.id===e.course.id})));return d()(\"div\",[d()(F.a,{children:[d()(\"meta\",{property:\"og:title\",content:r.name,key:\"og:title\"}),d()(\"meta\",{property:\"og:description\",content:r.description,key:\"og:description\"}),d()(\"meta\",{property:\"og:image\",content:r.card_image.split(\",\")[0],key:\"og:image\"}),d()(\"meta\",{property:\"twitter:card\",content:\"summary\",key:\"twitter:card\"})]}),d()(Z,{draft:\"draft\"===r.status,id:e.id,isMaintainer:l,slug:r.slug}),d()(g.h,[d()(g.b,{gap:32},[d()(g.b,{gap:16},[d()(\"h1\",null===r||void 0===r?void 0:r.name)]),d()(\"p.big\",(null===r||void 0===r?void 0:r.description)||\"\"),u.length>0&&0===i.length?d()(g.b,{padding:32,style:{backgroundColor:m.d.accentPeach}},Object(s.a)(u.flatMap((function(e){return[d()($,{cohort:e,enrolled:!1,facilitating:!1,invited:p,slug:(null===r||void 0===r?void 0:r.slug)||\"\",cohort_max_size:(null===r||void 0===r?void 0:r.cohort_max_size)||0}),d()(g.f)]})).slice(0,-1))):0===i.length?null:d()(g.b,{padding:32,style:{backgroundColor:m.d.grey95}},[d()(\"h3\",J)].concat(Object(s.a)(i.map((function(e){return d()(x,K(K({},e),{},{facilitators:e.cohort_facilitators.map((function(e){return e.people.display_name||e.people.username})),courses:{name:(null===r||void 0===r?void 0:r.name)||\"\",slug:(null===r||void 0===r?void 0:r.slug)||\"\"},facilitating:!!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id})),enrolled:!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))}))})))))]),d()(b.b,{tabs:(t={},Object(c.a)(t,L,d()(g.b,[l?d()(G,{id:e.content.id}):null,d()(j.a,{source:e.content.text})])),Object(c.a)(t,H,d()(V,{cohorts:r.course_cohorts,slug:r.slug,user:n?n.id:\"\",invited:p,cohort_max_size:(null===r||void 0===r?void 0:r.cohort_max_size)||0})),Object(c.a)(t,\"Facilitators\",d()(g.b,{gap:32},r.course_maintainers.map((function(e){return d()(g.b,{},[d()(\"h3\",e.people.display_name||e.people.username),e.people.link?d()(\"a\",{href:e.people.link},d()(\"b\",e.people.link)):null,e.people.bio?d()(g.b,{width:640},d()(j.a,{source:e.people.bio})):null])})))),t)}),d()(g.g,[d()(b.a,[d()(O.a,{course:r},[d()(g.b,[d()(X,{courseId:r.id,courseSlug:r.slug,draft:\"draft\"===r.status,maintainer:l,inviteOnly:r.invite_only,invited:p,loggedIn:!!n,enrolled:a,upcoming:0!==u.length}),d()(g.f),l?d()(g.b,[d()(g.b,{gap:8},[d()(\"h3\",\"You maintain this \".concat(r.type)),d()(\"p.textSecondary\",M)]),d()(f.a,{href:\"/courses/[slug]/[id]/settings\",as:\"/courses/\".concat(r.slug,\"/\").concat(r.id,\"/settings\")},d()(I.b,\"Settings\"))]):d()(T.a,{id:r.id})])])])])])])});function X(e){return e.draft?e.maintainer?d()(\"span.accentRed\",\"Learners can't enroll in this course until you publish it!\"):d()(\"span.accentRed\",\"This course is still a draft. You can enroll once the creator publishes it!\"):e.enrolled?e.upcoming?d()(\"span.accentSuccess\",\"You're enrolled in an upcoming cohort. Feel free to enroll in another one though!\"):d()(\"span.accentSuccess\",\"You're enrolled in an upcoming cohort\"):e.upcoming?e.inviteOnly?e.maintainer?d()(\"span.accentRed\",[\"Learners need to be invited to enroll. Invite someone \",d()(f.a,{href:\"/courses/\".concat(e.courseSlug,\"/\").concat(e.courseId,\"/settings\")},d()(\"a\",\"here\")),\".\"]):e.invited?d()(\"span.accentSuccess\",\"You're invited!\"):e.loggedIn?d()(\"div\",{},d()(\"span.accentRed\",\"This course is invite only. Reach out to the facilitators if you're interested!\")):d()(\"div\",{},d()(\"span.accentRed\",\"This course is invite only. If you've been invited, please log in.\")):null:e.maintainer?d()(\"span.accentRed\",[\"Looks like there aren't any cohorts planned. Create one \",d()(f.a,{href:\"/courses/[slug]/[id]/settings\",as:\"/courses/\".concat(e.courseSlug,\"/\").concat(e.courseId,\"/settings\")},d()(\"a\",\"here\")),\".\"]):d()(\"span.accentRed\",\"Looks like there aren't any cohorts planned :(\")}var V=function(e){var t=e.cohorts.filter((function(t){return!!t.live||!!t.cohort_facilitators.find((function(t){return t.facilitator===e.user}))})).sort(w.g).reduce((function(t,n){var o=!!n.people_in_cohorts.find((function(t){return t.people.id===e.user})),r=!!n.cohort_facilitators.find((function(t){return t.facilitator===e.user}));return t[new Date(n.start_date)<new Date?0:1].push(d()($,{cohort:n,enrolled:o,facilitating:r,slug:e.slug,cohort_max_size:e.cohort_max_size,invited:e.invited})),t}),[[],[]]),n=Object(a.a)(t,2),o=n[0],r=n[1];return d()(g.b,{gap:32},[0===r.length?null:d()(\"h2\",\"Upcoming Cohorts\")].concat(Object(s.a)(r),[0===r.length||0===o.length?null:d()(g.f),0===o.length?null:d()(\"h2\",\"Ongoing and Past Cohorts\")],Object(s.a)(o)))},$=function(e){var t=e.cohort.id,n=Object(Y.useRouter)(),o=new Date(e.cohort.start_date)<new Date;return d()(g.b,{h:!0,style:{gridAutoColumns:\"auto\"}},[d()(g.b,{gap:4},[e.enrolled||e.facilitating?d()(\"div\",[e.enrolled?d()(_.a,\"enrolled\"):null,\" \",e.facilitating?d()(_.a,{borderOnly:!0},\"facilitating\"):null,\" \",e.cohort.live?null:d()(_.a,{borderOnly:!0,red:!0},\"draft\")]):null,d()(\"h3\",{},d()(f.a,{href:\"/courses/[slug]/[id]/cohorts/[cohortId]\",as:\"/courses/\".concat(e.slug,\"/\").concat(e.cohort.course,\"/cohorts/\").concat(t)},d()(\"a\",{style:{textDecoration:\"none\"}},Object(w.a)(e.cohort.name)))),d()(g.b,{style:{color:m.d.textSecondary},gap:4},[d()(\"strong\",Object(q.c)(e.cohort.start_date,e.cohort.completed)),d()(\"div\",[\"Facilitated by \"].concat(Object(s.a)(e.cohort.cohort_facilitators.flatMap((function(e){return[d()(f.a,{href:\"/people/\".concat(e.people.username)},d()(\"a\",e.people.display_name||e.people.username)),\", \"]})).slice(0,-1))))]),0===e.cohort_max_size||o?null:e.cohort_max_size>e.cohort.people_in_cohorts.length?d()(\"span.accentSuccess\",\"\".concat(e.cohort_max_size-e.cohort.people_in_cohorts.length,\" \").concat(e.cohort_max_size-e.cohort.people_in_cohorts.length===1?\"spot\":\"spots\",\" left!\")):d()(\"span.accentRed\",\"Sorry! This cohort is full.\")]),o||e.enrolled||e.facilitating?null:d()(g.b,{gap:8,style:{alignItems:\"center\",alignContent:\"center\",justifySelf:\"right\",textAlign:\"right\"}},[d()(f.a,{href:\"/courses/\".concat(n.query.slug,\"/\").concat(e.cohort.course,\"/cohorts/\").concat(e.cohort.id)},d()(\"a\",{},d()(I.f,\"See schedule\")))])])};function Q(e){var t=Object(z.b)(e.id),n=t.data,o=t.mutate,a=Object(p.useState)(\"normal\"),c=a[0],s=a[1],u=function(){var t=Object(i.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),n){t.next=3;break}return t.abrupt(\"return\");case 3:return s(\"loading\"),t.next=6,Object(P.a)(\"/api/courses/\".concat(e.id),{status:\"live\"});case 6:200===t.sent.status&&(s(\"normal\"),o(K(K({},n),{},{status:\"live\"})));case 8:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return\"confirm\"===c||\"loading\"===c?d()(C.a,{display:!0,closeText:\"nevermind\",onExit:function(){return s(\"normal\")}},[d()(g.b,{gap:32},[d()(\"h2\",{style:{textAlign:\"center\"}},\"Are you sure?\"),d()(g.b,{gap:16},[\"Before going live please check that you've done these things\",d()(g.b.withComponent(\"ul\",{target:\"e1iqf50g1\"}),{gap:16},[d()(\"li\",[\"Edit important details in \",d()(\"a\",{href:\"https://app.krakenedu.com/courses/\".concat(e.slug,\"/\").concat(e.id,\"/settings?tab=Details\")},\"course settings\"),\".\"]),d()(\"li\",[\"Written a \",d()(\"a\",{href:\"\".concat(D.a,\"/session/sso?return_path=/t/\").concat(e.id)},\"curriculum\"),\".\"])]),d()(I.f,{style:{justifySelf:\"center\"},onClick:u},\"loading\"===c?d()(v.b):\"Go Live!\")])])]):d()(I.f,{onClick:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s(\"confirm\");case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},\"Publish!\")}var Z=function(e){return e.draft&&e.isMaintainer?e.isMaintainer?d()(ee,e):d()(S.a,{red:!0},d()(g.b,{gap:16},[d()(g.b,{gap:16},[d()(\"h3\",\"This course isn't live yet!\"),d()(\"p\",[\"The maintainer is still working on getting this course in shape. Let them know\\nif you have any feedback!\"])])])):null},ee=function(e){var t=Object(p.useState)(!1),n=t[0],o=t[1];return d()(S.a,{red:!0},[d()(te,[d()(A.a,{height:32,width:36,src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Seedling.png\"}),d()(g.b,{gap:8},[d()(\"h4\",\"This course is still a draft\"),d()(\"p\",\"It\\u2019s hidden from public view. People can\\u2019t see this page until you publish it.\")])].concat(Object(s.a)(n?[d()(A.a,{height:32,width:36,src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Bud.png\"}),d()(g.b,{gap:16},[d()(\"h4\",\"Before you publish this course make sure that you ...  \"),d()(B.a,{persistKey:\"course-creation-todo\",items:[d()(\"span\",[\"Edit important details, like description and price, in \",d()(\"a\",{href:\"https://app.krakenedu.com/courses/\".concat(e.slug,\"/\").concat(e.id,\"/settings?tab=Details\")},\"course settings\"),\".\"]),d()(\"span\",[\"Write a comprehensive curriculum for your course, by editing the \",d()(\"a\",{href:\"\".concat(D.a,\"/session/sso?return_path=/t/\").concat(e.id)},\"Curriculum topic\"),\" in the forum.\"]),d()(\"span\",[\"Create or edit \",d()(\"a\",{href:\"https://app.krakenedu.com/courses/\".concat(e.slug,\"/\").concat(e.id,\"/settings?tab=Templates\")},\"templates\"),\" for reusable forum topics so you don't need to rewrite them for every cohort you run (or you can add these later).\"]),d()(\"span\",[\"Create your first cohort, in \",d()(\"a\",{href:\"https://app.krakenedu.com/courses/\".concat(e.slug,\"/\").concat(e.id,\"/settings?tab=Cohorts\")},\"course settings\"),\". It will also be a draft that you need to edit before publishing. We'll guide you through it!\"])]})]),d()(A.a,{height:32,width:36,src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Flower.png\"}),d()(g.b,{gap:16},[d()(\"h4\",\"Once you're ready, you can publish it here!\"),d()(Q,e)])]:[]))),d()(I.e,{style:{justifySelf:\"right\",textDecoration:\"none\"},onClick:function(){return o(!n)}},n?\"hide checklist\":\"show checklist\")])},te=Object(u.a)(\"div\",{target:\"e1iqf50g0\"})({name:\"12gnjoo\",styles:\"display:grid;grid-template-columns:min-content auto;grid-column-gap:16px;grid-row-gap:32px;\"})}}]);","map":{"version":3,"sources":["static/chunks/435e89fe4f1e2c992e828e345bd02f15d171fea0.ee554a9cbb0fd02a7a0b.js"],"names":["window","push","6d7b","module","__webpack_exports__","__webpack_require__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_2__","react_hyperscript__WEBPACK_IMPORTED_MODULE_3__","react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default","_Layout__WEBPACK_IMPORTED_MODULE_4__","_Tokens__WEBPACK_IMPORTED_MODULE_5__","react__WEBPACK_IMPORTED_MODULE_6__","src_clientData__WEBPACK_IMPORTED_MODULE_7__","src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__","components_Text__WEBPACK_IMPORTED_MODULE_9__","props","_props$course","_props$course3","_props$course4","_props$course5","_props$course6","_props$course7","discounts","Object","data","price","course","cost","discount","find","d","_props$course2","id","a","mark","_callee","res","wrap","_context","prev","next","abrupt","code","sent","status","result","deleted","max_redeems","redeems","filter","stop","type","amount","Math","floor","gap","Cost","green","discounted","style","color","textSecondary","duration","cohort_max_size","concat","source","prerequisites","disallowedTypes","children","target","accentSuccess","9GwF","TodoList","react_hyperscript__WEBPACK_IMPORTED_MODULE_0__","react_hyperscript__WEBPACK_IMPORTED_MODULE_0___default","runtypes__WEBPACK_IMPORTED_MODULE_1__","react__WEBPACK_IMPORTED_MODULE_2__","_Form__WEBPACK_IMPORTED_MODULE_3__","TodoParser","items","i","_useState","Array","length","fill","checked","setChecked","persistKey","savedValue","localStorage","getItem","localData","check","JSON","parse","e","setItem","stringify","map","todo","index","onChange","newValues","slice","currentTarget","he5r","DISCOURSE_URL","ptY8","r","__N_SSG","_id_Cohort","regenerator","regenerator_default","asyncToGenerator","slicedToArray","defineProperty","toConsumableArray","styled_base_browser_esm","react_hyperscript","react_hyperscript_default","react","next_link","link_default","Layout","Tabs","Tokens","Loader","Form","Pill","Enroll","Text","Cards","utils","SmallCohortCard_SmallCohortCard","started","Date","start_date","href","as","courses","slug","passHref","border","borderTop","borderRadius","h","name","enrolled","facilitating","alignSelf","borderOnly","live","red","facilitators","join","Banner","Modal","Button","WatchCourse","constants","apiHelpers","CohortCard","_404","head","head_default","next_router","Images","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","arguments","forEach","key","getOwnPropertyDescriptors","defineProperties","COPY","_id_CoursePage","notFound","_tabs","user","userCohorts","undefined","activeCohorts","course_cohorts","c","completed","cohort_facilitators","f","facilitator","people_in_cohorts","p","people","sort","upcomingCohorts","isMaintainer","course_maintainers","maintainer","invited","invited_courses","property","content","description","card_image","split","_id_Banners","draft","padding","backgroundColor","accentPeach","flatMap","cohort","grey95","display_name","username","tabs","text","_id_Cohorts","cohorts","link","bio","width","EnrollStatus","courseId","courseSlug","inviteOnly","invite_only","loggedIn","upcoming","_props$cohorts$filter","reduce","acc","_props$cohorts$filter2","pastCohorts","router","past","gridAutoColumns","textDecoration","alignItems","alignContent","justifySelf","textAlign","query","MarkCourseLive","_useCourseData2","mutate","state","setState","onClick","_ref","preventDefault","_x","this","display","closeText","onExit","withComponent","_onClick","_callee2","_context2","_x2","_id_TODOBanner","_useState2","expanded","setExpanded","BannerContent","height","src","styles"],"mappings":"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"},"name":"static/chunks/435e89fe4f1e2c992e828e345bd02f15d171fea0.ee554a9cbb0fd02a7a0b.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[15],{\n\n/***/ \"6d7b\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export StickyWrapper */\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var _Tokens__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"mirl\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_clientData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"GRjo\");\n/* harmony import */ var src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"0CBl\");\n/* harmony import */ var components_Text__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"BTHN\");\n\n\n\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\n\nvar Enroll = function Enroll(props) {\n  var _props$course, _props$course3, _props$course4, _props$course5, _props$course6, _props$course7;\n\n  var _useLocalDiscounts = Object(src_clientData__WEBPACK_IMPORTED_MODULE_7__[/* useLocalDiscounts */ \"c\"])(),\n      discounts = _useLocalDiscounts.data;\n\n  var price = ((_props$course = props.course) === null || _props$course === void 0 ? void 0 : _props$course.cost) || 0;\n  var discount = discounts === null || discounts === void 0 ? void 0 : discounts.find(function (d) {\n    var _props$course2;\n\n    return d.course == ((_props$course2 = props.course) === null || _props$course2 === void 0 ? void 0 : _props$course2.id);\n  });\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee() {\n      var res;\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!discount || !discounts)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.next = 4;\n              return Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__[/* callApi */ \"a\"])('/api/discounts/' + discount.code);\n\n            case 4:\n              res = _context.sent;\n\n              if (res.status !== 200 || res.result.deleted || res.result.max_redeems !== 0 && res.result.max_redeems <= res.result.redeems) {\n                Object(src_clientData__WEBPACK_IMPORTED_MODULE_7__[/* setDiscounts */ \"b\"])(discounts.filter(function (d) {\n                  return d.code !== (discount === null || discount === void 0 ? void 0 : discount.code);\n                }));\n              }\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }))();\n  }, [discount, discounts]);\n\n  if (discount) {\n    if (discount.type === 'absolute') price = price - discount.amount;else price = price - Math.floor(discount.amount / 100 * price);\n  } //Laying out the Enroll Panel\n\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(_Layout__WEBPACK_IMPORTED_MODULE_4__[/* Box */ \"b\"], {\n    gap: 16\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(_Layout__WEBPACK_IMPORTED_MODULE_4__[/* Box */ \"b\"], {\n    gap: 8\n  }, [discount ? react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(Cost, {\n    green: true\n  }, '$' + price) : null, react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(Cost, {\n    discounted: !!discount\n  }, '$' + ((_props$course3 = props.course) === null || _props$course3 === void 0 ? void 0 : _props$course3.cost))]), react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(_Layout__WEBPACK_IMPORTED_MODULE_4__[/* Box */ \"b\"], {\n    gap: 8,\n    style: {\n      color: _Tokens__WEBPACK_IMPORTED_MODULE_5__[/* colors */ \"d\"].textSecondary\n    }\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()('b', (_props$course4 = props.course) === null || _props$course4 === void 0 ? void 0 : _props$course4.duration), ((_props$course5 = props.course) === null || _props$course5 === void 0 ? void 0 : _props$course5.cohort_max_size) === 0 ? null : react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()('b', \"Up to \".concat((_props$course6 = props.course) === null || _props$course6 === void 0 ? void 0 : _props$course6.cohort_max_size, \" learners\")), react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(_Layout__WEBPACK_IMPORTED_MODULE_4__[/* Box */ \"b\"], {\n    gap: 4\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()('b', 'Prerequisites'), react_hyperscript__WEBPACK_IMPORTED_MODULE_3___default()(components_Text__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"a\"], {\n    source: (_props$course7 = props.course) === null || _props$course7 === void 0 ? void 0 : _props$course7.prerequisites,\n    disallowedTypes: [\"heading\"]\n  })])]), props.children]);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Enroll);\n\nvar Cost = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])('span', {\n  target: \"egkpgdv0\"\n})(\"width:min-content;line-height:56px;font-size:56px;font-weight:bold;\", function (props) {\n  return props.green ? \"color: \".concat(_Tokens__WEBPACK_IMPORTED_MODULE_5__[/* colors */ \"d\"].accentSuccess, \";\") : '';\n}, \" \", function (props) {\n  return props.discounted ? \"\\nfont-size: 32px;\\nline-height: 32px;\\nbackground: linear-gradient(20deg, transparent 45.75%, currentColor 47.5%, currentColor 52.5%, transparent 53.25%);\\n\" : '';\n}, true ? \"\" : undefined); // Add a wrapper around Enroll Panel so apply the sticky feature on screens above 768px\n\n\nvar StickyWrapper = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])('div', {\n  target: \"egkpgdv1\"\n})(true ? {\n  name: \"h8kt2i\",\n  styles: \"position:sticky;top:32px;\"\n} : undefined);\n\n/***/ }),\n\n/***/ \"9GwF\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TodoList; });\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var runtypes__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"Sl1R\");\n/* harmony import */ var runtypes__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(runtypes__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"rk+T\");\n\n\n\n\nvar TodoParser = runtypes__WEBPACK_IMPORTED_MODULE_1__[\"Array\"](runtypes__WEBPACK_IMPORTED_MODULE_1__[\"Boolean\"]);\nfunction TodoList(props) {\n  var items = props.items.filter(function (i) {\n    return !!i;\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useState\"])(new Array(items.length).fill(false)),\n      checked = _useState[0],\n      setChecked = _useState[1];\n\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!props.persistKey) return;\n    var savedValue = localStorage.getItem(props.persistKey);\n\n    try {\n      var localData = TodoParser.check(JSON.parse(savedValue || ''));\n      setChecked(localData);\n    } catch (e) {}\n  }, []);\n  Object(react__WEBPACK_IMPORTED_MODULE_2__[\"useEffect\"])(function () {\n    if (!props.persistKey) return;\n    localStorage.setItem(props.persistKey, JSON.stringify(checked));\n  }, [checked]);\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_0___default()(react__WEBPACK_IMPORTED_MODULE_2__[\"Fragment\"], items.map(function (todo, index) {\n    return react_hyperscript__WEBPACK_IMPORTED_MODULE_0___default()(_Form__WEBPACK_IMPORTED_MODULE_3__[/* CheckBox */ \"a\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_0___default()(_Form__WEBPACK_IMPORTED_MODULE_3__[/* Input */ \"d\"], {\n      type: 'checkbox',\n      checked: checked[index],\n      onChange: function onChange(e) {\n        var newValues = checked.slice(0);\n        newValues[index] = e.currentTarget.checked;\n        setChecked(newValues);\n      }\n    }), todo]);\n  }));\n}\n\n/***/ }),\n\n/***/ \"he5r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DISCOURSE_URL; });\nvar DISCOURSE_URL = 'https://forum.krakenedu.com';\n\n/***/ }),\n\n/***/ \"ptY8\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSG\", function() { return /* binding */ __N_SSG; });\n__webpack_require__.d(__webpack_exports__, \"Cohort\", function() { return /* binding */ _id_Cohort; });\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"z7pX\");\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js + 1 modules\nvar styled_base_browser_esm = __webpack_require__(\"wTIg\");\n\n// EXTERNAL MODULE: ./node_modules/react-hyperscript/index.js\nvar react_hyperscript = __webpack_require__(\"j+1P\");\nvar react_hyperscript_default = /*#__PURE__*/__webpack_require__.n(react_hyperscript);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./components/Layout/index.ts + 3 modules\nvar Layout = __webpack_require__(\"9Hbq\");\n\n// EXTERNAL MODULE: ./components/Tabs.ts\nvar Tabs = __webpack_require__(\"lnWS\");\n\n// EXTERNAL MODULE: ./components/Tokens.ts\nvar Tokens = __webpack_require__(\"mirl\");\n\n// EXTERNAL MODULE: ./components/Loader.ts\nvar Loader = __webpack_require__(\"kacE\");\n\n// EXTERNAL MODULE: ./components/Form.ts\nvar Form = __webpack_require__(\"rk+T\");\n\n// EXTERNAL MODULE: ./components/Pill.ts\nvar Pill = __webpack_require__(\"+ErQ\");\n\n// EXTERNAL MODULE: ./components/Course/Enroll.ts\nvar Enroll = __webpack_require__(\"6d7b\");\n\n// EXTERNAL MODULE: ./components/Text.ts\nvar Text = __webpack_require__(\"BTHN\");\n\n// EXTERNAL MODULE: ./components/Cards/index.ts\nvar Cards = __webpack_require__(\"+6Um\");\n\n// EXTERNAL MODULE: ./src/utils.ts\nvar utils = __webpack_require__(\"fdqv\");\n\n// CONCATENATED MODULE: ./components/Cards/SmallCohortCard.ts\n\n\n\n\n\n\n\nvar SmallCohortCard_SmallCohortCard = function SmallCohortCard(props) {\n  var started = new Date(props.start_date) < new Date();\n  return react_hyperscript_default()(link_default.a, {\n    href: \"/courses/[slug]/[id]/cohorts/[cohortId]\",\n    as: \"/courses/\".concat(props.courses.slug, \"/\").concat(props.course, \"/cohorts/\").concat(props.id),\n    passHref: true\n  }, [react_hyperscript_default()(Cards[\"a\" /* Card */], {\n    style: {\n      border: '1px solid',\n      borderTop: '4px solid',\n      borderRadius: '2px'\n    }\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true\n  }, [react_hyperscript_default()('h3', Object(utils[\"a\" /* cohortName */])(props.name)), props.enrolled || props.facilitating ? react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8,\n    h: true,\n    style: {\n      alignSelf: \"center\"\n    }\n  }, [props.facilitating ? react_hyperscript_default()(Pill[\"a\" /* Pill */], {\n    borderOnly: true\n  }, 'facilitator') : null, props.enrolled ? react_hyperscript_default()(Pill[\"a\" /* Pill */], 'enrolled') : null, !props.live ? react_hyperscript_default()(Pill[\"a\" /* Pill */], {\n    red: true,\n    borderOnly: true\n  }, 'draft') : null]) : null]), react_hyperscript_default()('div', [react_hyperscript_default()('h4', \"\".concat(started ? \"Started\" : \"Starts\", \" \").concat(Object(utils[\"f\" /* prettyDate */])(props.start_date))), react_hyperscript_default()('p', {\n    style: {\n      color: Tokens[\"d\" /* colors */].textSecondary\n    }\n  }, \"Facilitated by \".concat(props.facilitators.join(', ')))])])])]);\n};\n// EXTERNAL MODULE: ./components/Banner.ts\nvar Banner = __webpack_require__(\"Zp4/\");\n\n// EXTERNAL MODULE: ./components/Modal.ts\nvar Modal = __webpack_require__(\"wyA/\");\n\n// EXTERNAL MODULE: ./components/Button.ts\nvar Button = __webpack_require__(\"Hzj1\");\n\n// EXTERNAL MODULE: ./components/Course/WatchCourse.ts\nvar WatchCourse = __webpack_require__(\"AX+V\");\n\n// EXTERNAL MODULE: ./src/constants.ts\nvar constants = __webpack_require__(\"he5r\");\n\n// EXTERNAL MODULE: ./src/data.ts\nvar data = __webpack_require__(\"5++N\");\n\n// EXTERNAL MODULE: ./src/apiHelpers.ts\nvar apiHelpers = __webpack_require__(\"0CBl\");\n\n// EXTERNAL MODULE: ./components/Cards/CohortCard.ts\nvar CohortCard = __webpack_require__(\"Lq9q\");\n\n// EXTERNAL MODULE: ./pages/404.ts\nvar _404 = __webpack_require__(\"+Xui\");\n\n// EXTERNAL MODULE: ./node_modules/next/head.js\nvar head = __webpack_require__(\"g4pe\");\nvar head_default = /*#__PURE__*/__webpack_require__.n(head);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./components/Images.ts\nvar Images = __webpack_require__(\"R1ly\");\n\n// EXTERNAL MODULE: ./components/TodoList.ts\nvar TodoList = __webpack_require__(\"9GwF\");\n\n// CONCATENATED MODULE: ./pages/courses/[slug]/[id]/index.ts\n\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar COPY = {\n  curriculumTab: \"Curriculum\",\n  cohortTab: \"All Cohorts\",\n  activeCohorts: \"Your Current Cohorts\",\n  settings: \"You can edit details, create new cohorts, and more.\",\n  enrollButton: \"Enroll in a cohort\",\n  updateCurriculum: function updateCurriculum(props) {\n    return react_hyperscript_default()(Form[\"c\" /* Info */], [\"\\uD83D\\uDCA1 You can make changes to the curriculum by editing \", react_hyperscript_default()('a', {\n      href: \"\".concat(constants[\"a\" /* DISCOURSE_URL */], \"/session/sso?return_path=/t/\").concat(props.id)\n    }, \"this topic\"), \" in the forum\"]);\n  }\n};\n\nvar _id_WrappedCoursePage = function WrappedCoursePage(props) {\n  return props.notFound ? react_hyperscript_default()(_404[\"default\"]) : react_hyperscript_default()(_id_CoursePage, props);\n};\n\nvar __N_SSG = true;\n/* harmony default export */ var _id_ = __webpack_exports__[\"default\"] = (_id_WrappedCoursePage);\n\nvar _id_CoursePage = function CoursePage(props) {\n  var _tabs;\n\n  var _useUserData = Object(data[\"i\" /* useUserData */])(),\n      user = _useUserData.data;\n\n  var _useUserCohorts = Object(data[\"g\" /* useUserCohorts */])(),\n      userCohorts = _useUserCohorts.data;\n\n  var _useCourseData = Object(data[\"b\" /* useCourseData */])(props.id, props.course || undefined),\n      course = _useCourseData.data;\n\n  if (!course) return react_hyperscript_default()(Loader[\"a\" /* PageLoader */]);\n  var activeCohorts = course.course_cohorts.filter(function (c) {\n    if (!user) return false;\n    return c.completed === null && (!!c.cohort_facilitators.find(function (f) {\n      return user && f.facilitator === user.id;\n    }) || c.people_in_cohorts.find(function (p) {\n      return p.people.id === (user ? user.id : undefined);\n    }));\n  }).sort(utils[\"g\" /* sortByDateAndName */]);\n  var enrolled = activeCohorts.filter(function (c) {\n    return !c.cohort_facilitators.find(function (f) {\n      return user && f.facilitator === user.id;\n    });\n  }).length > 0;\n  var upcomingCohorts = course.course_cohorts.filter(function (c) {\n    return new Date(c.start_date) > new Date() && c.live;\n  }).sort(utils[\"g\" /* sortByDateAndName */]);\n  var isMaintainer = !!(course !== null && course !== void 0 && course.course_maintainers.find(function (maintainer) {\n    return user && maintainer.maintainer === user.id;\n  }));\n  var invited = !!(userCohorts !== null && userCohorts !== void 0 && userCohorts.invited_courses.find(function (course) {\n    return course.id === props.course.id;\n  })); //Setting up the layout for the course page\n\n  return react_hyperscript_default()('div', [react_hyperscript_default()(head_default.a, {\n    children: [react_hyperscript_default()('meta', {\n      property: \"og:title\",\n      content: course.name,\n      key: \"og:title\"\n    }), react_hyperscript_default()('meta', {\n      property: \"og:description\",\n      content: course.description,\n      key: \"og:description\"\n    }), react_hyperscript_default()('meta', {\n      property: \"og:image\",\n      content: course.card_image.split(',')[0],\n      key: \"og:image\"\n    }), react_hyperscript_default()('meta', {\n      property: \"twitter:card\",\n      content: \"summary\",\n      key: \"twitter:card\"\n    })]\n  }), react_hyperscript_default()(_id_Banners, {\n    draft: course.status === 'draft',\n    id: props.id,\n    isMaintainer: isMaintainer,\n    slug: course.slug\n  }), react_hyperscript_default()(Layout[\"h\" /* TwoColumn */], [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [react_hyperscript_default()('h1', course === null || course === void 0 ? void 0 : course.name)]), react_hyperscript_default()('p.big', (course === null || course === void 0 ? void 0 : course.description) || ''), upcomingCohorts.length > 0 && activeCohorts.length === 0 ? react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    padding: 32,\n    style: {\n      backgroundColor: Tokens[\"d\" /* colors */].accentPeach\n    }\n  }, Object(toConsumableArray[\"a\" /* default */])(upcomingCohorts.flatMap(function (cohort) {\n    return [react_hyperscript_default()(_id_Cohort, {\n      cohort: cohort,\n      enrolled: false,\n      facilitating: false,\n      invited: invited,\n      slug: (course === null || course === void 0 ? void 0 : course.slug) || '',\n      cohort_max_size: (course === null || course === void 0 ? void 0 : course.cohort_max_size) || 0\n    }), react_hyperscript_default()(Layout[\"f\" /* Seperator */])];\n  }).slice(0, -1))) : activeCohorts.length === 0 ? null : react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    padding: 32,\n    style: {\n      backgroundColor: Tokens[\"d\" /* colors */].grey95\n    }\n  }, [react_hyperscript_default()('h3', COPY.activeCohorts)].concat(Object(toConsumableArray[\"a\" /* default */])(activeCohorts.map(function (cohort) {\n    return react_hyperscript_default()(SmallCohortCard_SmallCohortCard, _objectSpread(_objectSpread({}, cohort), {}, {\n      facilitators: cohort.cohort_facilitators.map(function (f) {\n        return f.people.display_name || f.people.username;\n      }),\n      courses: {\n        name: (course === null || course === void 0 ? void 0 : course.name) || '',\n        slug: (course === null || course === void 0 ? void 0 : course.slug) || ''\n      },\n      facilitating: !!cohort.cohort_facilitators.find(function (f) {\n        return user && f.facilitator === user.id;\n      }),\n      enrolled: !cohort.cohort_facilitators.find(function (f) {\n        return user && f.facilitator === user.id;\n      })\n    }));\n  }))))]), react_hyperscript_default()(Tabs[\"b\" /* Tabs */], {\n    tabs: (_tabs = {}, Object(defineProperty[\"a\" /* default */])(_tabs, COPY.curriculumTab, react_hyperscript_default()(Layout[\"b\" /* Box */], [isMaintainer ? react_hyperscript_default()(COPY.updateCurriculum, {\n      id: props.content.id\n    }) : null, react_hyperscript_default()(Text[\"a\" /* default */], {\n      source: props.content.text\n    })])), Object(defineProperty[\"a\" /* default */])(_tabs, COPY.cohortTab, react_hyperscript_default()(_id_Cohorts, {\n      cohorts: course.course_cohorts,\n      slug: course.slug,\n      user: user ? user.id : '',\n      invited: invited,\n      cohort_max_size: (course === null || course === void 0 ? void 0 : course.cohort_max_size) || 0\n    })), Object(defineProperty[\"a\" /* default */])(_tabs, \"Facilitators\", react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      gap: 32\n    }, course.course_maintainers.map(function (maintainer) {\n      return react_hyperscript_default()(Layout[\"b\" /* Box */], {}, [react_hyperscript_default()('h3', maintainer.people.display_name || maintainer.people.username), !maintainer.people.link ? null : react_hyperscript_default()('a', {\n        href: maintainer.people.link\n      }, react_hyperscript_default()('b', maintainer.people.link)), !maintainer.people.bio ? null : react_hyperscript_default()(Layout[\"b\" /* Box */], {\n        width: 640\n      }, react_hyperscript_default()(Text[\"a\" /* default */], {\n        source: maintainer.people.bio\n      }))]);\n    }))), _tabs)\n  }), react_hyperscript_default()(Layout[\"g\" /* Sidebar */], [react_hyperscript_default()(Tabs[\"a\" /* StickyWrapper */], [react_hyperscript_default()(Enroll[\"a\" /* default */], {\n    course: course\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()(EnrollStatus, {\n    courseId: course.id,\n    courseSlug: course.slug,\n    draft: course.status === 'draft',\n    maintainer: isMaintainer,\n    inviteOnly: course.invite_only,\n    invited: invited,\n    loggedIn: !!user,\n    enrolled: enrolled,\n    upcoming: upcomingCohorts.length !== 0\n  }), react_hyperscript_default()(Layout[\"f\" /* Seperator */]), !isMaintainer ? react_hyperscript_default()(WatchCourse[\"a\" /* WatchCourse */], {\n    id: course.id\n  }) : react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8\n  }, [react_hyperscript_default()('h3', \"You maintain this \".concat(course.type)), react_hyperscript_default()('p.textSecondary', COPY.settings)]), react_hyperscript_default()(link_default.a, {\n    href: '/courses/[slug]/[id]/settings',\n    as: \"/courses/\".concat(course.slug, \"/\").concat(course.id, \"/settings\")\n  }, react_hyperscript_default()(Button[\"b\" /* Destructive */], 'Settings'))])])])])])])]);\n};\n\nfunction EnrollStatus(props) {\n  if (props.draft) {\n    if (props.maintainer) return react_hyperscript_default()('span.accentRed', \"Learners can't enroll in this course until you publish it!\");\n    return react_hyperscript_default()('span.accentRed', \"This course is still a draft. You can enroll once the creator publishes it!\");\n  }\n\n  if (props.enrolled) {\n    if (props.upcoming) return react_hyperscript_default()('span.accentSuccess', \"You're enrolled in an upcoming cohort. Feel free to enroll in another one though!\");\n    return react_hyperscript_default()('span.accentSuccess', \"You're enrolled in an upcoming cohort\");\n  }\n\n  if (!props.upcoming) {\n    if (props.maintainer) return react_hyperscript_default()('span.accentRed', [\"Looks like there aren't any cohorts planned. Create one \", react_hyperscript_default()(link_default.a, {\n      href: \"/courses/[slug]/[id]/settings\",\n      as: \"/courses/\".concat(props.courseSlug, \"/\").concat(props.courseId, \"/settings\")\n    }, react_hyperscript_default()('a', 'here')), '.']);\n    return react_hyperscript_default()('span.accentRed', \"Looks like there aren't any cohorts planned :(\");\n  }\n\n  if (props.inviteOnly) {\n    if (props.maintainer) return react_hyperscript_default()('span.accentRed', [\"Learners need to be invited to enroll. Invite someone \", react_hyperscript_default()(link_default.a, {\n      href: \"/courses/\".concat(props.courseSlug, \"/\").concat(props.courseId, \"/settings\")\n    }, react_hyperscript_default()('a', 'here')), '.']);\n    if (props.invited) return react_hyperscript_default()('span.accentSuccess', \"You're invited!\");\n    if (props.loggedIn) return react_hyperscript_default()('div', {}, react_hyperscript_default()('span.accentRed', \"This course is invite only. Reach out to the facilitators if you're interested!\"));\n    return react_hyperscript_default()('div', {}, react_hyperscript_default()('span.accentRed', \"This course is invite only. If you've been invited, please log in.\"));\n  }\n\n  return null;\n}\n\nvar _id_Cohorts = function Cohorts(props) {\n  var _props$cohorts$filter = props.cohorts.filter(function (c) {\n    if (c.live) return true;\n    return !!c.cohort_facilitators.find(function (f) {\n      return f.facilitator === props.user;\n    });\n  }).sort(utils[\"g\" /* sortByDateAndName */]).reduce(function (acc, cohort) {\n    var enrolled = !!cohort.people_in_cohorts.find(function (p) {\n      return p.people.id === props.user;\n    });\n    var facilitating = !!cohort.cohort_facilitators.find(function (f) {\n      return f.facilitator === props.user;\n    });\n    acc[new Date(cohort.start_date) < new Date() ? 0 : 1].push(react_hyperscript_default()(_id_Cohort, {\n      cohort: cohort,\n      enrolled: enrolled,\n      facilitating: facilitating,\n      slug: props.slug,\n      cohort_max_size: props.cohort_max_size,\n      invited: props.invited\n    }));\n    return acc;\n  }, [[], []]),\n      _props$cohorts$filter2 = Object(slicedToArray[\"a\" /* default */])(_props$cohorts$filter, 2),\n      pastCohorts = _props$cohorts$filter2[0],\n      upcomingCohorts = _props$cohorts$filter2[1];\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [upcomingCohorts.length === 0 ? null : react_hyperscript_default()('h2', \"Upcoming Cohorts\")].concat(Object(toConsumableArray[\"a\" /* default */])(upcomingCohorts), [upcomingCohorts.length === 0 || pastCohorts.length === 0 ? null : react_hyperscript_default()(Layout[\"f\" /* Seperator */]), pastCohorts.length === 0 ? null : react_hyperscript_default()('h2', 'Ongoing and Past Cohorts')], Object(toConsumableArray[\"a\" /* default */])(pastCohorts)));\n};\n\nvar _id_Cohort = function Cohort(props) {\n  var id = props.cohort.id;\n  var router = Object(next_router[\"useRouter\"])();\n  var past = new Date(props.cohort.start_date) < new Date();\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true,\n    style: {\n      gridAutoColumns: 'auto'\n    }\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 4\n  }, [!props.enrolled && !props.facilitating ? null : react_hyperscript_default()('div', [props.enrolled ? react_hyperscript_default()(Pill[\"a\" /* Pill */], 'enrolled') : null, ' ', props.facilitating ? react_hyperscript_default()(Pill[\"a\" /* Pill */], {\n    borderOnly: true\n  }, 'facilitating') : null, ' ', !props.cohort.live ? react_hyperscript_default()(Pill[\"a\" /* Pill */], {\n    borderOnly: true,\n    red: true\n  }, 'draft') : null]), react_hyperscript_default()('h3', {}, react_hyperscript_default()(link_default.a, {\n    href: '/courses/[slug]/[id]/cohorts/[cohortId]',\n    as: \"/courses/\".concat(props.slug, \"/\").concat(props.cohort.course, \"/cohorts/\").concat(id)\n  }, react_hyperscript_default()('a', {\n    style: {\n      textDecoration: 'none'\n    }\n  }, Object(utils[\"a\" /* cohortName */])(props.cohort.name)))), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    style: {\n      color: Tokens[\"d\" /* colors */].textSecondary\n    },\n    gap: 4\n  }, [react_hyperscript_default()('strong', Object(CohortCard[\"c\" /* cohortPrettyDate */])(props.cohort.start_date, props.cohort.completed)), react_hyperscript_default()('div', [\"Facilitated by \"].concat(Object(toConsumableArray[\"a\" /* default */])(props.cohort.cohort_facilitators.flatMap(function (f) {\n    return [react_hyperscript_default()(link_default.a, {\n      href: \"/people/\".concat(f.people.username)\n    }, react_hyperscript_default()('a', f.people.display_name || f.people.username)), ', '];\n  }).slice(0, -1))))]), props.cohort_max_size === 0 || past ? null : props.cohort_max_size > props.cohort.people_in_cohorts.length ? react_hyperscript_default()('span.accentSuccess', \"\".concat(props.cohort_max_size - props.cohort.people_in_cohorts.length, \" \").concat(props.cohort_max_size - props.cohort.people_in_cohorts.length === 1 ? 'spot' : 'spots', \" left!\")) : react_hyperscript_default()('span.accentRed', \"Sorry! This cohort is full.\")]), past || props.enrolled || props.facilitating ? null : react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8,\n    style: {\n      alignItems: 'center',\n      alignContent: 'center',\n      justifySelf: 'right',\n      textAlign: 'right'\n    }\n  }, [react_hyperscript_default()(link_default.a, {\n    href: \"/courses/\".concat(router.query.slug, \"/\").concat(props.cohort.course, \"/cohorts/\").concat(props.cohort.id)\n  }, react_hyperscript_default()('a', {}, react_hyperscript_default()(Button[\"f\" /* Primary */], 'See schedule')))])]);\n}; //feature to add a new cohort to a course\n\nfunction MarkCourseLive(props) {\n  var _useCourseData2 = Object(data[\"b\" /* useCourseData */])(props.id),\n      course = _useCourseData2.data,\n      mutate = _useCourseData2.mutate;\n\n  var _useState = Object(react[\"useState\"])('normal'),\n      state = _useState[0],\n      setState = _useState[1];\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(e) {\n      var res;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n\n              if (course) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 3:\n              setState('loading');\n              _context.next = 6;\n              return Object(apiHelpers[\"a\" /* callApi */])(\"/api/courses/\".concat(props.id), {\n                status: 'live'\n              });\n\n            case 6:\n              res = _context.sent;\n\n              if (res.status === 200) {\n                setState('normal');\n                mutate(_objectSpread(_objectSpread({}, course), {}, {\n                  status: 'live'\n                }));\n              }\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onClick(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  if (state === 'confirm' || state === 'loading') return react_hyperscript_default()(Modal[\"a\" /* Modal */], {\n    display: true,\n    closeText: \"nevermind\",\n    onExit: function onExit() {\n      return setState(\"normal\");\n    }\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(\"h2\", {\n    style: {\n      textAlign: \"center\"\n    }\n  }, \"Are you sure?\"), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [\"Before going live please check that you've done these things\", react_hyperscript_default()(Layout[\"b\" /* Box */].withComponent(\"ul\", {\n    target: \"e1iqf50g1\"\n  }), {\n    gap: 16\n  }, [react_hyperscript_default()(\"li\", [\"Edit important details in \", react_hyperscript_default()(\"a\", {\n    href: \"https://app.krakenedu.com/courses/\".concat(props.slug, \"/\").concat(props.id, \"/settings?tab=Details\")\n  }, \"course settings\"), \".\"]), react_hyperscript_default()(\"li\", [\"Written a \", react_hyperscript_default()(\"a\", {\n    href: \"\".concat(constants[\"a\" /* DISCOURSE_URL */], \"/session/sso?return_path=/t/\").concat(props.id)\n  }, \"curriculum\"), \".\"])]), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    style: {\n      justifySelf: \"center\"\n    },\n    onClick: onClick\n  }, state === \"loading\" ? react_hyperscript_default()(Loader[\"b\" /* default */]) : \"Go Live!\")])])]);\n  return react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2(e) {\n        return regenerator_default.a.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                e.preventDefault();\n                setState('confirm');\n\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function onClick(_x2) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  }, \"Publish!\");\n} // Feature to edit course detail (length, prereqs, one line description)\n// Define Banners\n\n\nvar _id_Banners = function Banners(props) {\n  if (props.draft && props.isMaintainer) {\n    if (props.isMaintainer) {\n      return react_hyperscript_default()(_id_TODOBanner, props);\n    }\n\n    return react_hyperscript_default()(Banner[\"a\" /* TwoColumnBanner */], {\n      red: true\n    }, react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      gap: 16\n    }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      gap: 16\n    }, [react_hyperscript_default()('h3', \"This course isn't live yet!\"), react_hyperscript_default()('p', [\"The maintainer is still working on getting this course in shape. Let them know\\nif you have any feedback!\"])])]));\n  }\n\n  return null;\n}; // Draft Course ToDo Banner\n\n\nvar _id_TODOBanner = function TODOBanner(props) {\n  var _useState2 = Object(react[\"useState\"])(false),\n      expanded = _useState2[0],\n      setExpanded = _useState2[1];\n\n  return react_hyperscript_default()(Banner[\"a\" /* TwoColumnBanner */], {\n    red: true\n  }, [react_hyperscript_default()(BannerContent, [react_hyperscript_default()(Images[\"a\" /* AccentImg */], {\n    height: 32,\n    width: 36,\n    src: \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Seedling.png\"\n  }), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"This course is still a draft\"), react_hyperscript_default()('p', 'Its hidden from public view. People cant see this page until you publish it.')])].concat(Object(toConsumableArray[\"a\" /* default */])(!expanded ? [] : [react_hyperscript_default()(Images[\"a\" /* AccentImg */], {\n    height: 32,\n    width: 36,\n    src: \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Bud.png\"\n  }), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [react_hyperscript_default()('h4', \"Before you publish this course make sure that you ...  \"), react_hyperscript_default()(TodoList[\"a\" /* TodoList */], {\n    persistKey: \"course-creation-todo\",\n    items: [react_hyperscript_default()(\"span\", [\"Edit important details, like description and price, in \", react_hyperscript_default()('a', {\n      href: \"https://app.krakenedu.com/courses/\".concat(props.slug, \"/\").concat(props.id, \"/settings?tab=Details\")\n    }, \"course settings\"), \".\"]), react_hyperscript_default()(\"span\", [\"Write a comprehensive curriculum for your course, by editing the \", react_hyperscript_default()('a', {\n      href: \"\".concat(constants[\"a\" /* DISCOURSE_URL */], \"/session/sso?return_path=/t/\").concat(props.id)\n    }, \"Curriculum topic\"), \" in the forum.\"]), react_hyperscript_default()(\"span\", [\"Create or edit \", react_hyperscript_default()('a', {\n      href: \"https://app.krakenedu.com/courses/\".concat(props.slug, \"/\").concat(props.id, \"/settings?tab=Templates\")\n    }, \"templates\"), \" for reusable forum topics so you don't need to rewrite them for every cohort you run (or you can add these later).\"]), react_hyperscript_default()(\"span\", [\"Create your first cohort, in \", react_hyperscript_default()('a', {\n      href: \"https://app.krakenedu.com/courses/\".concat(props.slug, \"/\").concat(props.id, \"/settings?tab=Cohorts\")\n    }, \"course settings\"), \". It will also be a draft that you need to edit before publishing. We'll guide you through it!\"])]\n  })]), react_hyperscript_default()(Images[\"a\" /* AccentImg */], {\n    height: 32,\n    width: 36,\n    src: \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Flower.png\"\n  }), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [react_hyperscript_default()('h4', \"Once you're ready, you can publish it here!\"), react_hyperscript_default()(MarkCourseLive, props)])]))), react_hyperscript_default()(Button[\"e\" /* LinkButton */], {\n    style: {\n      justifySelf: 'right',\n      textDecoration: 'none'\n    },\n    onClick: function onClick() {\n      return setExpanded(!expanded);\n    }\n  }, expanded ? \"hide checklist\" : \"show checklist\")]);\n};\n\nvar BannerContent = /*#__PURE__*/Object(styled_base_browser_esm[\"a\" /* default */])('div', {\n  target: \"e1iqf50g0\"\n})(true ? {\n  name: \"12gnjoo\",\n  styles: \"display:grid;grid-template-columns:min-content auto;grid-column-gap:16px;grid-row-gap:32px;\"\n} : undefined);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/components/Course/Enroll.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/TodoList.ts","/Users/ayooluwaalfonso/code/krakeneduapp/src/constants.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/Cards/SmallCohortCard.ts","/Users/ayooluwaalfonso/code/krakeneduapp/pages/courses/[slug]/[id]/index.ts"],"names":["Enroll","props","useLocalDiscounts","discounts","data","price","course","cost","discount","find","d","id","useEffect","callApi","code","res","status","result","deleted","max_redeems","redeems","setDiscounts","filter","type","amount","Math","floor","h","Box","gap","Cost","green","discounted","style","color","colors","textSecondary","duration","cohort_max_size","Text","source","prerequisites","disallowedTypes","children","accentSuccess","StickyWrapper","TodoParser","t","TodoList","items","i","useState","Array","length","fill","checked","setChecked","persistKey","savedValue","localStorage","getItem","localData","check","JSON","parse","e","setItem","stringify","Fragment","map","todo","index","CheckBox","Input","onChange","newValues","slice","currentTarget","DISCOURSE_URL","SmallCohortCard","started","Date","start_date","Link","href","as","courses","slug","passHref","Card","border","borderTop","borderRadius","cohortName","name","enrolled","facilitating","alignSelf","Pill","borderOnly","live","red","prettyDate","facilitators","join","COPY","curriculumTab","cohortTab","activeCohorts","settings","enrollButton","updateCurriculum","Info","WrappedCoursePage","notFound","ErrorPage","CoursePage","useUserData","user","useUserCohorts","userCohorts","useCourseData","undefined","PageLoader","course_cohorts","c","completed","cohort_facilitators","f","facilitator","people_in_cohorts","p","people","sort","sortByDateAndName","upcomingCohorts","isMaintainer","course_maintainers","maintainer","invited","invited_courses","Head","property","content","key","description","card_image","split","Banners","draft","TwoColumn","padding","backgroundColor","accentPeach","flatMap","cohort","Cohort","Seperator","grey95","display_name","username","Tabs","tabs","text","Cohorts","cohorts","link","bio","width","Sidebar","EnrollStatus","courseId","courseSlug","inviteOnly","invite_only","loggedIn","upcoming","WatchCourse","Destructive","reduce","acc","push","pastCohorts","router","useRouter","past","gridAutoColumns","textDecoration","cohortPrettyDate","alignItems","alignContent","justifySelf","textAlign","query","Primary","MarkCourseLive","mutate","state","setState","onClick","preventDefault","Modal","display","closeText","onExit","withComponent","Loader","TODOBanner","TwoColumnBanner","expanded","setExpanded","BannerContent","AccentImg","height","src","LinkButton"],"mappings":"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","file":"x","sourcesContent":["import h from 'react-hyperscript'\nimport styled from '@emotion/styled'\n\nimport { Box } from '../Layout'\nimport {colors} from '../Tokens'\nimport { Course } from '../../src/data'\nimport { ReactElement, useEffect } from 'react'\nimport { useLocalDiscounts, setDiscounts } from 'src/clientData'\nimport { callApi } from 'src/apiHelpers'\nimport { GetDiscountResult } from 'pages/api/discounts/[code]'\nimport Text from 'components/Text'\n\ntype Props = {\n  course: Course\n}\n\nconst Enroll:React.FC<Props> = (props) => {\n  let {data: discounts} = useLocalDiscounts()\n  let price = props.course?.cost || 0\n  let discount = discounts?.find(d=>d.course == props.course?.id)\n  useEffect(()=>{\n    (async function(){\n      if(!discount || !discounts) return\n      let res = await callApi<null, GetDiscountResult>('/api/discounts/'+discount.code)\n      if(res.status !== 200 ||\n        res.result.deleted ||\n        (res.result.max_redeems !== 0\n          && res.result.max_redeems <= res.result.redeems)) {\n        setDiscounts(discounts.filter(d=>d.code!==discount?.code))\n      }\n    })()\n  }, [discount, discounts])\n  if(discount) {\n    if(discount.type === 'absolute') price = price - discount.amount\n    else price = price - (Math.floor((discount.amount/100)*price))\n  }\n  //Laying out the Enroll Panel\n  return h(Box, {gap:16}, [\n    h(Box, {gap:8}, [\n      discount ? h(Cost, {green: true}, '$'+price) : null,\n      h(Cost, {discounted: !!discount}, '$' + props.course?.cost),\n    ]),\n    h(Box, {gap: 8, style:{color: colors.textSecondary}}, [\n      h('b', props.course?.duration),\n      props.course?.cohort_max_size === 0 ? null : h('b', `Up to ${props.course?.cohort_max_size} learners`),\n      h(Box, {gap: 4}, [\n        h('b', 'Prerequisites'),\n        h(Text, {source: props.course?.prerequisites, disallowedTypes:[\"heading\" as const]})\n      ]),\n    ]),\n    props.children as ReactElement ,\n  ])\n}\n\nexport default Enroll\n\n\nconst Cost = styled('span')<{discounted?:boolean, green?: boolean}>`\nwidth: min-content;\nline-height: 56px;\nfont-size: 56px;\nfont-weight: bold;\n${props=>props.green? `color: ${colors.accentSuccess};`:''}\n${props=>props.discounted ? `\nfont-size: 32px;\nline-height: 32px;\nbackground: linear-gradient(20deg, transparent 45.75%, currentColor 47.5%, currentColor 52.5%, transparent 53.25%);\n`: ''}\n`\n\n// Add a wrapper around Enroll Panel so apply the sticky feature on screens above 768px\nexport const StickyWrapper = styled('div')`\nposition: sticky;\ntop: 32px;\n`\n","import h from 'react-hyperscript'\nimport * as t from 'runtypes'\nimport {useState, useEffect, Fragment} from 'react'\nimport { CheckBox, Input } from './Form'\n\nlet TodoParser = t.Array(t.Boolean)\n\nexport function TodoList(props: {items: Array< string | React.ReactElement | null>, persistKey?: string}) {\n  let items = props.items.filter(i=>!!i)\n  let [checked, setChecked] = useState (new Array(items.length).fill(false))\n  useEffect(() => {\n    if(!props.persistKey) return\n    let savedValue = localStorage.getItem(props.persistKey)\n    try {\n      let localData = TodoParser.check(JSON.parse(savedValue || ''))\n      setChecked(localData)\n    }\n    catch(e){}\n  },[])\n  useEffect(()=>{\n    if(!props.persistKey) return\n    localStorage.setItem(props.persistKey, JSON.stringify(checked))\n  },[checked])\n\n  return h(Fragment, items.map((todo, index)=>{\n    return h(CheckBox, [\n      h(Input, {\n        type: 'checkbox',\n        checked: checked[index],\n        onChange: e=> {\n          let newValues = checked.slice(0)\n          newValues[index] = e.currentTarget.checked\n          setChecked(newValues)\n        }\n      }),\n      todo\n    ])\n  }))\n}\n","export let DISCOURSE_URL = 'https://forum.krakenedu.com'\n","import h from 'react-hyperscript'\nimport Link from 'next/link'\n\nimport {colors, } from 'components/Tokens'\nimport {Box} from 'components/Layout'\nimport {Card} from '.'\nimport { Pill } from 'components/Pill'\nimport { cohortName, prettyDate} from 'src/utils'\n\ntype Cohort = {\n  name: string,\n  start_date: string,\n  facilitators: string[]\n  completed?: string | null,\n  live: boolean,\n  enrolled?:boolean,\n  facilitating?: boolean,\n  id: number,\n  courses: {\n    name: string,\n    slug: string\n  }\n  course: number,\n}\n\nexport const SmallCohortCard = (props: Cohort) => {\n  let started = new Date(props.start_date) < new Date()\n  return h(Link, {\n    href: \"/courses/[slug]/[id]/cohorts/[cohortId]\",\n    as:`/courses/${props.courses.slug}/${props.course}/cohorts/${props.id}`,\n    passHref: true,\n  }, [\n    h(Card, {style:{border: '1px solid', borderTop: '4px solid', borderRadius: '2px'}}, [\n      h(Box, {gap: 8}, [\n        h(Box, {h: true},[\n          h('h3', cohortName(props.name)),\n          props.enrolled || props.facilitating ? h(Box, {gap: 8, h: true, style:{alignSelf:\"center\"}}, [\n            props.facilitating ? h(Pill, {borderOnly: true}, 'facilitator') : null,\n            props.enrolled ? h(Pill, 'enrolled') : null,\n            !props.live ? h(Pill, {red: true, borderOnly: true},'draft') : null\n          ]): null,\n        ]),\n        h('div', [\n          h('h4', `${started ? \"Started\" : \"Starts\"} ${prettyDate(props.start_date)}`),\n          h('p', {style:{color: colors.textSecondary}},\n            `Facilitated by ${props.facilitators.join(', ')}`)\n        ])\n      ])\n    ])\n  ])\n}\n","import h from 'react-hyperscript'\nimport { useState, ReactElement } from 'react'\nimport Link from 'next/link'\nimport { InferGetStaticPropsType } from 'next'\nimport styled from '@emotion/styled'\nimport prisma from \"lib/prisma\";\nimport { Box, Seperator, TwoColumn, Sidebar } from 'components/Layout'\nimport {Tabs, StickyWrapper} from 'components/Tabs'\nimport { colors } from 'components/Tokens'\nimport Loader, { PageLoader } from 'components/Loader'\nimport { Info } from 'components/Form'\nimport {Pill} from 'components/Pill'\nimport Enroll from 'components/Course/Enroll'\nimport Text from 'components/Text'\nimport {SmallCohortCard} from 'components/Cards/SmallCohortCard'\nimport {TwoColumnBanner} from 'components/Banner'\nimport {Modal} from 'components/Modal'\nimport { Primary, Destructive, LinkButton} from 'components/Button'\nimport {WatchCourse} from 'components/Course/WatchCourse'\n\nimport { getTaggedPost } from 'src/discourse'\nimport {DISCOURSE_URL} from 'src/constants'\nimport { useUserData, useUserCohorts, useCourseData, Course } from 'src/data'\nimport { UpdateCourseMsg, UpdateCourseResponse} from 'pages/api/courses/[id]'\nimport { callApi } from 'src/apiHelpers'\nimport { cohortPrettyDate } from 'components/Cards/CohortCard'\nimport ErrorPage from 'pages/404'\nimport { courseDataQuery } from 'pages/api/courses/[id]'\nimport Head from 'next/head'\nimport { useRouter } from 'next/router'\nimport { AccentImg } from 'components/Images'\nimport { TodoList } from 'components/TodoList'\nimport { cohortName, sortByDateAndName } from 'src/utils'\n\nconst COPY = {\n  curriculumTab: \"Curriculum\",\n  cohortTab: \"All Cohorts\",\n  activeCohorts: \"Your Current Cohorts\",\n  settings: \"You can edit details, create new cohorts, and more.\",\n  enrollButton: \"Enroll in a cohort\",\n  updateCurriculum: (props: {id: string}) => h(Info, [\n    ` You can make changes to the curriculum by editing `,\n    h('a', {href: `${DISCOURSE_URL}/session/sso?return_path=/t/${props.id}`}, `this topic`),\n    ` in the forum`\n  ])\n}\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\n\nconst WrappedCoursePage = (props: Props)=>props.notFound ? h(ErrorPage) : h(CoursePage, props)\nexport default WrappedCoursePage\n\nconst CoursePage = (props:Extract<Props, {notFound: false}>) => {\n  let {data: user} = useUserData()\n  let {data:userCohorts} = useUserCohorts()\n  let {data: course} = useCourseData(props.id, props.course || undefined)\n\n  if(!course) return h(PageLoader)\n\n  let activeCohorts = course.course_cohorts\n    .filter(c => {\n      if(!user) return false\n      return c.completed === null && (!!c.cohort_facilitators.find(f=>user&&f.facilitator===user.id)\n        || c.people_in_cohorts\n          .find(p => p.people.id === (user ? user.id : undefined)))\n    })\n    .sort(sortByDateAndName)\n\n  let enrolled = activeCohorts.filter(c=>!c.cohort_facilitators.find(f=>user&&f.facilitator===user.id)).length > 0\n  let upcomingCohorts = course.course_cohorts.filter(c=> (new Date(c.start_date) > new Date()) && c.live).sort(sortByDateAndName)\n\n  let isMaintainer = !!(course?.course_maintainers.find(maintainer => user && maintainer.maintainer === user.id))\n  let invited = !!userCohorts?.invited_courses.find(course=>course.id === props.course.id )\n\n  //Setting up the layout for the course page\n  return h('div', [\n    h(Head, {children: [\n      h('meta', {property:\"og:title\", content:course.name, key:\"og:title\"}),\n      h('meta', {property: \"og:description\", content: course.description, key: \"og:description\"}),\n      h('meta', {property: \"og:image\", content: course.card_image.split(',')[0], key: \"og:image\"}),\n      h('meta', {property: \"twitter:card\", content: \"summary\", key:\"twitter:card\"})\n    ]}),\n    h(Banners, {draft: course.status === 'draft', id: props.id, isMaintainer, slug: course.slug}),\n    h(TwoColumn, [\n      h(Box, {gap: 32}, [\n        h(Box, {gap: 16}, [\n          h('h1', course?.name),\n        ]),\n        h('p.big', course?.description || ''),\n\n        upcomingCohorts.length > 0 && (activeCohorts.length === 0)\n          ? h(Box, {padding: 32, style: {backgroundColor: colors.accentPeach}},[\n            ...upcomingCohorts.flatMap(cohort=>{\n              return [\n                h(Cohort, {\n                  cohort,\n                  enrolled: false, facilitating: false,\n                  invited,\n                  slug: course?.slug || '',\n                  cohort_max_size: course?.cohort_max_size || 0\n                }),\n                h(Seperator)]\n            }).slice(0, -1)\n          ])\n          : activeCohorts.length === 0 ? null : h(Box, {padding: 32, style: {backgroundColor: colors.grey95}}, [\n            h('h3', COPY.activeCohorts),\n            ...activeCohorts.map(cohort=> h(SmallCohortCard, {\n              ...cohort,\n              facilitators: cohort.cohort_facilitators.map(f=>f.people.display_name || f.people.username),\n              courses: {\n                name: course?.name || '',\n                slug: course?.slug || '',\n              },\n              facilitating: !!cohort.cohort_facilitators.find(f=>user&&f.facilitator===user.id),\n              enrolled: !cohort.cohort_facilitators.find(f=>user&&f.facilitator===user.id)\n            }))\n          ]),\n      ]),\n      h(Tabs, {tabs: {\n        [COPY.curriculumTab]:  h(Box, [\n          isMaintainer ? h(COPY.updateCurriculum, {id: props.content.id}) : null,\n          h(Text, {source: props.content.text})\n        ]),\n        [COPY.cohortTab]: h(Cohorts,{cohorts: course.course_cohorts, slug: course.slug, user: user ? user.id : '', invited, cohort_max_size: course?.cohort_max_size || 0}),\n        Facilitators: h(Box, {gap:32}, course.course_maintainers.map(maintainer=>{\n          return h(Box, {}, [\n            h('h3', maintainer.people.display_name || maintainer.people.username),\n            !maintainer.people.link ? null : h('a', {href: maintainer.people.link}, h('b', maintainer.people.link)),\n            !maintainer.people.bio ? null : h(Box, {width: 640}, h(Text, {source: maintainer.people.bio}))\n          ])\n        }))\n      }}),\n      h(Sidebar, [\n        h(StickyWrapper, [\n          h(Enroll, {course}, [\n            h(Box, [\n              h(EnrollStatus, {\n                courseId: course.id,\n                courseSlug: course.slug,\n                draft:course.status==='draft',\n                maintainer: isMaintainer,\n                inviteOnly:course.invite_only,\n                invited,\n                loggedIn: !!user,\n                enrolled,\n                upcoming:upcomingCohorts.length !== 0,\n              }),\n              h(Seperator),\n              !isMaintainer ? h(WatchCourse, {id: course.id}) : h(Box, [\n                h(Box, {gap:8}, [\n                  h('h3', `You maintain this ${course.type}`),\n                  h('p.textSecondary', COPY.settings),\n                ]),\n                h(Link, {href:'/courses/[slug]/[id]/settings', as:`/courses/${course.slug}/${course.id}/settings`}, h(Destructive, 'Settings'))\n              ])\n            ])\n          ])]),\n      ])\n    ])\n  ])\n}\n\nfunction EnrollStatus (props: {\n  draft:boolean,\n  maintainer:boolean,\n  inviteOnly:boolean,\n  invited:boolean,\n  loggedIn:boolean,\n  enrolled:boolean;\n  upcoming:boolean;\n  courseId:number;\n  courseSlug:string\n}) {\n  if (props.draft) {\n    if (props.maintainer) return h('span.accentRed', \"Learners can't enroll in this course until you publish it!\")\n    return h('span.accentRed', \"This course is still a draft. You can enroll once the creator publishes it!\")\n  }\n\n  if (props.enrolled){\n    if (props.upcoming) return h('span.accentSuccess', \"You're enrolled in an upcoming cohort. Feel free to enroll in another one though!\")\n    return  h('span.accentSuccess', \"You're enrolled in an upcoming cohort\")\n  }\n\n  if (!props.upcoming) {\n    if(props.maintainer) return h('span.accentRed', [\n      \"Looks like there aren't any cohorts planned. Create one \", h(Link, {href: \"/courses/[slug]/[id]/settings\", as: `/courses/${props.courseSlug}/${props.courseId}/settings`}, h('a', 'here')), '.'\n    ])\n    return h('span.accentRed', \"Looks like there aren't any cohorts planned :(\")\n  }\n\n  if (props.inviteOnly) {\n    if (props.maintainer) return h('span.accentRed', [\n      \"Learners need to be invited to enroll. Invite someone \", h(Link, {href: `/courses/${props.courseSlug}/${props.courseId}/settings`}, h('a', 'here')), '.'])\n    if(props.invited) return h('span.accentSuccess', \"You're invited!\")\n    if(props.loggedIn) return h('div', {}, h('span.accentRed', \"This course is invite only. Reach out to the facilitators if you're interested!\"))\n    return h('div', {}, h('span.accentRed', \"This course is invite only. If you've been invited, please log in.\"))\n  }\n  return null\n}\n\n\nconst Cohorts = (props:{cohorts: Course['course_cohorts'], user: string, slug: string, cohort_max_size: number, invited:boolean}) => {\n  let [pastCohorts, upcomingCohorts] = props.cohorts\n  .filter(c=>{\n    if(c.live) return true\n    return !!c.cohort_facilitators.find(f=>f.facilitator===props.user)\n  }).sort(sortByDateAndName)\n    .reduce((acc, cohort)=>{\n      let enrolled = !!cohort.people_in_cohorts.find(p => p.people.id === props.user)\n      let facilitating = !!cohort.cohort_facilitators.find(f=>f.facilitator === props.user)\n      acc[new Date(cohort.start_date)< new Date() ? 0 : 1].push(\n        h(Cohort, {\n          cohort,\n          enrolled, facilitating,\n          slug: props.slug,\n          cohort_max_size: props.cohort_max_size,\n          invited: props.invited\n        })\n      )\n      return acc\n    },[[],[]] as Array<Array<ReactElement>>)\n\n  return h(Box, {gap:32}, [\n    upcomingCohorts.length === 0 ? null : h('h2', \"Upcoming Cohorts\"),\n    ...upcomingCohorts,\n    upcomingCohorts.length === 0 || pastCohorts.length === 0 ? null : h(Seperator),\n    pastCohorts.length === 0 ? null : h('h2', 'Ongoing and Past Cohorts'),\n    ...pastCohorts\n    ])\n}\n\nexport const Cohort = (props: {\n  cohort: Course['course_cohorts'][0],\n  facilitating?: boolean,\n  enrolled?: boolean,\n  slug:string,\n  cohort_max_size: number,\n  invited: boolean\n}) => {\n  let id= props.cohort.id\n  let router = useRouter()\n  let past = new Date(props.cohort.start_date) < new Date()\n\n  return h(Box, {h: true, style:{gridAutoColumns:'auto'}}, [\n    h(Box, {gap: 4}, [\n      !props.enrolled && !props.facilitating ? null : h('div', [\n        props.enrolled ? h(Pill, 'enrolled') : null,\n        ' ',\n        props.facilitating ? h(Pill, {borderOnly: true}, 'facilitating') : null,\n        ' ',\n        !props.cohort.live ? h(Pill, {borderOnly: true, red: true}, 'draft') : null,\n      ]),\n      h('h3', {}, h(Link, {\n        href:'/courses/[slug]/[id]/cohorts/[cohortId]',\n        as:  `/courses/${props.slug}/${props.cohort.course}/cohorts/${id}`\n      }, h('a', {style: {textDecoration: 'none'}}, cohortName(props.cohort.name)))),\n      h(Box, {style: {color: colors.textSecondary}, gap: 4}, [\n        h('strong', cohortPrettyDate(props.cohort.start_date, props.cohort.completed)),\n        h('div', [\n          `Facilitated by `,\n          ...props.cohort.cohort_facilitators.flatMap(f=>{\n            return [h(Link, {href:`/people/${f.people.username}`}, h('a', f.people.display_name || f.people.username)), ', ']\n          }).slice(0, -1)\n        ])\n      ]),\n      props.cohort_max_size === 0 || past ? null : props.cohort_max_size > props.cohort.people_in_cohorts.length\n        ? h('span.accentSuccess', `${props.cohort_max_size - props.cohort.people_in_cohorts.length} ${props.cohort_max_size - props.cohort.people_in_cohorts.length === 1 ? 'spot' : 'spots'} left!`)\n        : h('span.accentRed', `Sorry! This cohort is full.`)\n    ]),\n    past || props.enrolled || props.facilitating ? null : h(Box, {gap:8, style: {alignItems: 'center', alignContent: 'center', justifySelf: 'right', textAlign: 'right'}}, [\n      h(Link, {\n        href: `/courses/${router.query.slug}/${props.cohort.course}/cohorts/${props.cohort.id}`\n      }, h('a', {}, h(Primary, 'See schedule')))\n    ])\n  ])\n}\n//feature to add a new cohort to a course\nfunction MarkCourseLive(props: {id:number, slug: string}) {\n  let {data:course, mutate} = useCourseData(props.id)\n  let [state, setState] = useState<'normal'|'confirm'|'loading'|'complete'>('normal')\n\n  const onClick = async (e: React.MouseEvent)  =>{\n    e.preventDefault()\n    if(!course) return\n    setState('loading')\n    let res = await callApi<UpdateCourseMsg, UpdateCourseResponse>(`/api/courses/${props.id}`, {status: 'live'})\n    if(res.status===200){\n      setState('normal')\n      mutate({...course, status: 'live'})\n    }\n  }\n\n  if(state === 'confirm' || state === 'loading') return h(\n    Modal,\n    { display: true, closeText: \"nevermind\", onExit: () => setState(\"normal\") },\n    [\n      h(Box, { gap: 32 }, [\n        h(\"h2\", { style: { textAlign: \"center\" } }, \"Are you sure?\"),\n        h(Box, { gap: 16 }, [\n          \"Before going live please check that you've done these things\",\n          h(Box.withComponent(\"ul\"), { gap: 16 }, [\n            h(\"li\", [\n              \"Edit important details in \",\n              h(\n                \"a\",\n                {\n                  href: `https://app.krakenedu.com/courses/${props.slug}/${props.id}/settings?tab=Details`,\n                },\n                \"course settings\"\n              ),\n              \".\",\n            ]),\n            h(\"li\", [\n              \"Written a \",\n              h(\n                \"a\",\n                {\n                  href: `${DISCOURSE_URL}/session/sso?return_path=/t/${props.id}`,\n                },\n                \"curriculum\"\n              ),\n              \".\",\n            ]),\n          ]),\n          h(\n            Primary,\n            { style: { justifySelf: \"center\" }, onClick },\n            state === \"loading\" ? h(Loader) : \"Go Live!\"\n          ),\n        ]),\n      ]),\n    ]\n  );\n\n  return h(Primary, {onClick: async e => {\n    e.preventDefault()\n    setState('confirm')\n  }}, \"Publish!\")\n}\n\n// Feature to edit course detail (length, prereqs, one line description)\n\n\n\n// Define Banners\nconst Banners = (props:{draft: boolean, id: number, slug:string, isMaintainer: boolean}) => {\n  if(props.draft && props.isMaintainer) {\n    if(props.isMaintainer){\n      return h(TODOBanner, props)\n    }\n    return h(TwoColumnBanner, {red: true}, h(Box, {gap:16},[\n      h(Box, {gap:16}, [\n        h('h3', \"This course isn't live yet!\"),\n        h('p',[`The maintainer is still working on getting this course in shape. Let them know\nif you have any feedback!`])\n      ])\n    ]))\n  }\n  return null\n}\n\n// Draft Course ToDo Banner\nconst TODOBanner = (props:{\n  id:number\n  slug:string\n}) => {\n  let [expanded, setExpanded] = useState(false)\n\n  return h(TwoColumnBanner, {red: true}, [\n    h(BannerContent, [\n      h(AccentImg, {height:32, width:36, src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Seedling.png\"}),\n      h(Box, {gap:8}, [\n        h('h4', \"This course is still a draft\"),\n        h('p', 'Its hidden from public view. People cant see this page until you publish it.')\n      ]),\n      ... !expanded ? [] : [\n        h(AccentImg, {height:32, width:36, src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Bud.png\"}),\n        h(Box, {gap:16}, [\n          h('h4', \"Before you publish this course make sure that you ...  \"),\n          h(TodoList, {\n            persistKey: \"course-creation-todo\",\n            items: [\n              h(\"span\", [\n                \"Edit important details, like description and price, in \", h('a', {href: `https://app.krakenedu.com/courses/${props.slug}/${props.id}/settings?tab=Details`}, \"course settings\"), \".\"\n              ]),\n              h(\"span\", [\n                \"Write a comprehensive curriculum for your course, by editing the \", h('a', {href: `${DISCOURSE_URL}/session/sso?return_path=/t/${props.id}`}, \"Curriculum topic\"), \" in the forum.\"\n              ]),\n              h(\"span\", [\n                \"Create or edit \", h('a', {href: `https://app.krakenedu.com/courses/${props.slug}/${props.id}/settings?tab=Templates`}, \"templates\"), \" for reusable forum topics so you don't need to rewrite them for every cohort you run (or you can add these later).\"\n              ]),\n              h(\"span\", [\n                \"Create your first cohort, in \", h('a', {href: `https://app.krakenedu.com/courses/${props.slug}/${props.id}/settings?tab=Cohorts`}, \"course settings\"), \". It will also be a draft that you need to edit before publishing. We'll guide you through it!\"\n              ])\n            ]\n          })\n        ]),\n        h(AccentImg, {height:32, width:36, src:\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Flower.png\"}),\n        h(Box, {gap:16}, [\n          h('h4', \"Once you're ready, you can publish it here!\"),\n          h(MarkCourseLive, props)\n        ])\n      ]\n    ]),\n    h(LinkButton, {style:{justifySelf: 'right', textDecoration: 'none'}, onClick: ()=>setExpanded(!expanded)}, expanded ? \"hide checklist\" : \"show checklist\")\n  ])\n}\n\nexport const getStaticProps = async (ctx:any) => {\n  let id = parseInt(ctx.params?.id as string || '' )\n  if(Number.isNaN(id)) return {props: {notFound: true}} as const\n\n  let data = await courseDataQuery(id)\n  if(!data) return {props:{notFound: true}} as const\n  let content = await getTaggedPost(data.category_id, 'curriculum')\n\n  return {props: {notFound: false, content, id, course: data}, revalidate: 1} as const\n}\n\nexport const getStaticPaths = async () => {\n\n  let courses = await prisma.courses.findMany({select:{id: true, slug: true}})\n  return {paths:courses.map(course=>{\n    return {params: {id: course.id.toString(), slug: course.slug}}\n  }), fallback: true}\n}\n\n\nconst BannerContent = styled('div') `\ndisplay: grid; \ngrid-template-columns: min-content auto;\ngrid-column-gap: 16px;\ngrid-row-gap: 32px;\n`\n"]}}