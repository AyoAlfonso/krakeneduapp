{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{XRgW:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/courses/[slug]/[id]/cohorts/[cohortId]/templates\",function(){return r(\"aeH5\")}])},aeH5:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"__N_SSG\",(function(){return P}));var o=r(\"cpVT\"),n=r(\"vJKn\"),c=r.n(n),a=r(\"rg98\"),i=r(\"xvhg\"),s=r(\"j+1P\"),u=r.n(s),l=r(\"YFqc\"),p=r.n(l),d=r(\"20a2\"),h=r(\"9Hbq\"),f=r(\"Hzj1\"),g=r(\"q1tI\"),b=r(\"rk+T\"),y=r(\"u5GO\"),m=r(\"kacE\"),v=r(\"0CBl\"),w=r(\"wyA/\"),j=r(\"he5r\"),O=r(\"mB65\");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=!0;function _(e){var t=Object(O.b)(e.template),r=t.form,o=t.changed,n=t.reset,s=Object(g.useState)(),l=s[0],m=s[1],x=Object(v.b)([]),P=Object(i.a)(x,2),_=P[0],k=P[1],S=Object(d.useRouter)(),T=function(){var e=Object(a.a)(c.a.mark((function e(t){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k(\"/api/cohorts/\".concat(S.query.cohortId,\"/postTopic\"),{title:r.title.value,body:r.content.value,tags:[]});case 3:200===(o=e.sent).status&&m(o.result.topic.topic_id);case 5:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u()(g.Fragment,[l&&\"success\"===_?u()(w.a,{display:!!l,onExit:function(){m(void 0)}},u()(h.b,{gap:32},[u()(h.b,{gap:16,style:{textAlign:\"center\"}},[u()(\"h1\",\"Cool!\"),u()(\"p\",\"Your topic has been added\")]),u()(h.b,[u()(\"a\",{style:{justifySelf:\"center\"},href:\"\".concat(j.a,\"/t/\").concat(l)},u()(f.f,\"View it here\")),u()(p.a,{href:\"/courses/\".concat(S.query.slug,\"/\").concat(S.query.id,\"/cohorts/\").concat(S.query.cohortId,\"/templates\")},u()(\"a\",{style:{justifySelf:\"center\"}},u()(f.g,\"Back to Templates\")))])])):null,u()(h.d,{onSubmit:T,gap:32},[u()(h.e,{width:400},[u()(\"h4\",\"Title\"),u()(b.d,q({type:\"text\",name:\"title\"},r.title))]),u()(h.e,[u()(\"h4\",\"Body\"),u()(y.a,r.content)]),u()(h.b,{h:!0,style:{justifySelf:\"right\"}},[u()(f.g,{disabled:!o,onClick:function(){return n()}},\"Reset Template\"),u()(f.f,{type:\"submit\",status:_},\"Post to the forum\")])])])}t.default=function(e){var t,r,o=Object(d.useRouter)(),n=null===(t=e.templates)||void 0===t?void 0:t.find((function(e){return e.name===o.query.template}));return e.templates?n?u()(h.b,{gap:64},[u()(h.b,{gap:16},[u()(f.a,{href:\"/courses/\".concat(o.query.slug,\"/\").concat(o.query.id,\"/cohorts/\").concat(o.query.cohortId,\"/templates\"),shallow:!0},\"Templates\"),u()(\"h1\",\"Post template\")]),u()(_,{template:n})]):u()(h.b,{width:640,gap:32},[u()(h.b,{gap:16},[u()(f.a,{href:\"/courses/[slug]/[id]/cohorts/[cohortId]\",as:\"/courses/\".concat(o.query.slug,\"/\").concat(o.query.id,\"/cohorts/\").concat(o.query.cohortId)},\"Cohort Details\"),u()(\"h1\",\"Templates\"),u()(\"p.big\",[\"Use templates to easily post new topics in your cohort forum! You can create new templates in the \",u()(p.a,{href:\"/courses/[slug]/[id]/settings\",as:\"/courses/\".concat(o.query.slug,\"/\").concat(o.query.id,\"/settings\")},u()(\"a\",\"course settings\")),\".\"])]),u()(h.b,{},null===(r=e.templates)||void 0===r?void 0:r.filter((function(e){return\"triggered\"===e.type})).sort((function(e,t){return e.name>t.name?1:-1})).flatMap((function(e){return[u()(h.b,{h:!0,style:{gridAutoColumns:\"auto\"}},[u()(\"div\",[u()(\"h3\",e.name),u()(\"span.textSecondary\",\"prepopulated\"===e.type?\"Prepopulated for all cohorts\":\"Manually published by facilitator\")]),u()(h.b,{h:!0,style:{justifySelf:\"end\",alignItems:\"center\"}},[u()(p.a,{href:\"/courses/\".concat(o.query.slug,\"/\").concat(o.query.id,\"/cohorts/\").concat(o.query.cohortId,\"/templates\")+\"?template=\"+e.name,shallow:!0},u()(f.g,\"Use\"))])]),u()(h.f)]})).slice(0,-1))]):u()(m.a)}},he5r:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o}));var o=\"https://forum.krakenedu.com\"},u5GO:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return d}));var o=r(\"wTIg\"),n=r(\"j+1P\"),c=r.n(n),a=r(\"BTHN\"),i=r(\"mirl\"),s=r(\"mB65\"),u=r(\"q1tI\"),l=r(\"9Hbq\"),p=r(\"Hzj1\");function d(e){var t=Object(s.c)(\"(max-width:640px)\"),r=Object(u.useState)(\"edit\"),o=r[0],n=r[1];return t?c()(l.b,{gap:4},[c()(\"div\",{style:{justifySelf:\"right\"}},[\"preview\"===o?c()(p.e,{onClick:function(){return n(\"edit\")}},\"edit\"):c()(p.e,{onClick:function(){return n(\"preview\")}},\"preview\")]),\"preview\"===o?c()(g,{},c()(a.a,{source:e.value})):c()(f,e)]):c()(h,[c()(f,e),c()(g,{height:e.height},c()(a.a,{source:e.value}))])}var h=Object(o.a)(\"div\",{target:\"efj9xzw0\"})({name:\"17v6q2h\",styles:\"display:grid;max-width:1200px;grid-template-columns:50% 50%;\"}),f=Object(o.a)(\"textarea\",{target:\"efj9xzw1\"})(\"box-sizing:border-box;height:\",(function(e){return e.height?e.height:512}),\"px;padding:16px;font-family:'Lato',sans-serif;border-color:\",i.d.grey55,\" !important;border:1px solid;border-radius:2px 0 0 2px;resize:none;font-size:inherit;line-height:inherit;\"),g=Object(o.a)(\"div\",{target:\"efj9xzw2\"})(\"overflow:scroll;box-sizing:border-box;padding:16px;font-size:16px;height:\",(function(e){return e.height?e.height:512}),\"px;background-color:\",i.d.accentPeach,\";border-radius:0 2px 2px 0;\")}},[[\"XRgW\",0,2,1,3,4,5,7]]]);","map":{"version":3,"sources":["static/chunks/pages/courses/[slug]/[id]/cohorts/[cohortId]/templates-cb768915d64b874c8222.js"],"names":["_N_E","window","push","XRgW","module","exports","__webpack_require__","__NEXT_P","aeH5","__webpack_exports__","r","d","__N_SSG","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","n","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","react_hyperscript__WEBPACK_IMPORTED_MODULE_4__","react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default","next_link__WEBPACK_IMPORTED_MODULE_5__","next_link__WEBPACK_IMPORTED_MODULE_5___default","next_router__WEBPACK_IMPORTED_MODULE_6__","components_Layout__WEBPACK_IMPORTED_MODULE_7__","components_Button__WEBPACK_IMPORTED_MODULE_8__","react__WEBPACK_IMPORTED_MODULE_9__","components_Form__WEBPACK_IMPORTED_MODULE_10__","components_EditorWithPreview__WEBPACK_IMPORTED_MODULE_11__","components_Loader__WEBPACK_IMPORTED_MODULE_12__","src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__","components_Modal__WEBPACK_IMPORTED_MODULE_14__","src_constants__WEBPACK_IMPORTED_MODULE_15__","src_hooks__WEBPACK_IMPORTED_MODULE_16__","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","TemplatePage","props","_useFormData","template","form","changed","reset","_useState","post","setPost","_useApi","_useApi2","status","callPost","router","onSubmit","_ref","a","mark","_callee","e","res","wrap","_context","prev","next","preventDefault","concat","query","cohortId","title","value","body","content","tags","sent","result","topic","topic_id","stop","_x","this","display","onExit","undefined","gap","style","textAlign","justifySelf","href","slug","id","width","type","name","h","disabled","onClick","_props$templates","_props$templates2","templates","find","t","shallow","as","sort","b","flatMap","gridAutoColumns","alignItems","slice","he5r","DISCOURSE_URL","u5GO","EditorWithPreview","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__","react_hyperscript__WEBPACK_IMPORTED_MODULE_1__","react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default","_Text__WEBPACK_IMPORTED_MODULE_2__","_Tokens__WEBPACK_IMPORTED_MODULE_3__","src_hooks__WEBPACK_IMPORTED_MODULE_4__","react__WEBPACK_IMPORTED_MODULE_5__","_Layout__WEBPACK_IMPORTED_MODULE_6__","_Button__WEBPACK_IMPORTED_MODULE_7__","mobile","mode","setMode","Preview","Editor","EditorPreviewContainer","height","styles","grey55","accentPeach"],"mappings":"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"},"name":"static/chunks/pages/courses/[slug]/[id]/cohorts/[cohortId]/templates-cb768915d64b874c8222.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[26],{\n\n/***/ \"XRgW\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/[slug]/[id]/cohorts/[cohortId]/templates\",\n        function () {\n          return __webpack_require__(\"aeH5\");\n        }\n      ]);\n    \n\n/***/ }),\n\n/***/ \"aeH5\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"__N_SSG\", function() { return __N_SSG; });\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var components_Layout__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"Hzj1\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var components_Form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"rk+T\");\n/* harmony import */ var components_EditorWithPreview__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"u5GO\");\n/* harmony import */ var components_Loader__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"kacE\");\n/* harmony import */ var src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"0CBl\");\n/* harmony import */ var components_Modal__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"wyA/\");\n/* harmony import */ var src_constants__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"he5r\");\n/* harmony import */ var src_hooks__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"mB65\");\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar __N_SSG = true;\n/* harmony default export */ __webpack_exports__[\"default\"] = (CohortTemplatesPages);\n\nfunction CohortTemplatesPages(props) {\n  var _props$templates, _props$templates2;\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_6__[\"useRouter\"])();\n  var template = (_props$templates = props.templates) === null || _props$templates === void 0 ? void 0 : _props$templates.find(function (t) {\n    return t.name === router.query.template;\n  });\n  if (!props.templates) return react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Loader__WEBPACK_IMPORTED_MODULE_12__[/* PageLoader */ \"a\"]);\n  if (template) return react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    gap: 64\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    gap: 16\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* BackButton */ \"a\"], {\n    href: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id, \"/cohorts/\").concat(router.query.cohortId, \"/templates\"),\n    shallow: true\n  }, 'Templates'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h1', \"Post template\")]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(TemplatePage, {\n    template: template\n  })]);\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    width: 640,\n    gap: 32\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    gap: 16\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* BackButton */ \"a\"], {\n    href: \"/courses/[slug]/[id]/cohorts/[cohortId]\",\n    as: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id, \"/cohorts/\").concat(router.query.cohortId)\n  }, 'Cohort Details'), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h1', \"Templates\"), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('p.big', [\"Use templates to easily post new topics in your cohort forum! You can create new templates in the \", react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(next_link__WEBPACK_IMPORTED_MODULE_5___default.a, {\n    href: '/courses/[slug]/[id]/settings',\n    as: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id, \"/settings\")\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('a', 'course settings')), \".\"])]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {}, (_props$templates2 = props.templates) === null || _props$templates2 === void 0 ? void 0 : _props$templates2.filter(function (t) {\n    return t.type === 'triggered';\n  }).sort(function (a, b) {\n    return a.name > b.name ? 1 : -1;\n  }).flatMap(function (template) {\n    return [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n      h: true,\n      style: {\n        gridAutoColumns: 'auto'\n      }\n    }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('div', [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h3', template.name), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('span.textSecondary', template.type === 'prepopulated' ? \"Prepopulated for all cohorts\" : \"Manually published by facilitator\")]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n      h: true,\n      style: {\n        justifySelf: 'end',\n        alignItems: 'center'\n      }\n    }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(next_link__WEBPACK_IMPORTED_MODULE_5___default.a, {\n      href: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id, \"/cohorts/\").concat(router.query.cohortId, \"/templates\") + '?template=' + template.name,\n      shallow: true\n    }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Secondary */ \"g\"], 'Use'))])]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Seperator */ \"f\"])];\n  }).slice(0, -1))]);\n}\n\nfunction TemplatePage(props) {\n  var _useFormData = Object(src_hooks__WEBPACK_IMPORTED_MODULE_16__[/* useFormData */ \"b\"])(props.template),\n      form = _useFormData.form,\n      changed = _useFormData.changed,\n      reset = _useFormData.reset;\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_9__[\"useState\"])(),\n      post = _useState[0],\n      setPost = _useState[1];\n\n  var _useApi = Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__[/* useApi */ \"b\"])([]),\n      _useApi2 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useApi, 2),\n      status = _useApi2[0],\n      callPost = _useApi2[1];\n\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_6__[\"useRouter\"])();\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(e) {\n      var res;\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return callPost(\"/api/cohorts/\".concat(router.query.cohortId, \"/postTopic\"), {\n                title: form.title.value,\n                body: form.content.value,\n                tags: []\n              });\n\n            case 3:\n              res = _context.sent;\n              if (res.status === 200) setPost(res.result.topic.topic_id);\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(react__WEBPACK_IMPORTED_MODULE_9__[\"Fragment\"], [post && status === 'success' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Modal__WEBPACK_IMPORTED_MODULE_14__[/* Modal */ \"a\"], {\n    display: !!post,\n    onExit: function onExit() {\n      setPost(undefined);\n    }\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    gap: 32\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    gap: 16,\n    style: {\n      textAlign: 'center'\n    }\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h1', \"Cool!\"), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('p', \"Your topic has been added\")]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('a', {\n    style: {\n      justifySelf: \"center\"\n    },\n    href: \"\".concat(src_constants__WEBPACK_IMPORTED_MODULE_15__[/* DISCOURSE_URL */ \"a\"], \"/t/\").concat(post)\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Primary */ \"f\"], \"View it here\")), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(next_link__WEBPACK_IMPORTED_MODULE_5___default.a, {\n    href: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id, \"/cohorts/\").concat(router.query.cohortId, \"/templates\")\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('a', {\n    style: {\n      justifySelf: \"center\"\n    }\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Secondary */ \"g\"], 'Back to Templates')))])])) : null, react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* FormBox */ \"d\"], {\n    onSubmit: onSubmit,\n    gap: 32\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* LabelBox */ \"e\"], {\n    width: 400\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', \"Title\"), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Input */ \"d\"], _objectSpread({\n    type: 'text',\n    name: 'title'\n  }, form.title))]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* LabelBox */ \"e\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()('h4', \"Body\"), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_EditorWithPreview__WEBPACK_IMPORTED_MODULE_11__[/* default */ \"a\"], form.content)]), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Layout__WEBPACK_IMPORTED_MODULE_7__[/* Box */ \"b\"], {\n    h: true,\n    style: {\n      justifySelf: 'right'\n    }\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Secondary */ \"g\"], {\n    disabled: !changed,\n    onClick: function onClick() {\n      return reset();\n    }\n  }, \"Reset Template\"), react_hyperscript__WEBPACK_IMPORTED_MODULE_4___default()(components_Button__WEBPACK_IMPORTED_MODULE_8__[/* Primary */ \"f\"], {\n    type: 'submit',\n    status: status\n  }, \"Post to the forum\")])])]);\n}\n\n/***/ }),\n\n/***/ \"he5r\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return DISCOURSE_URL; });\nvar DISCOURSE_URL = 'https://forum.krakenedu.com';\n\n/***/ }),\n\n/***/ \"u5GO\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return EditorWithPreview; });\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Text__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"BTHN\");\n/* harmony import */ var _Tokens__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"mirl\");\n/* harmony import */ var src_hooks__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"mB65\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _Layout__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"Hzj1\");\n\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\nfunction EditorWithPreview(props) {\n  var mobile = Object(src_hooks__WEBPACK_IMPORTED_MODULE_4__[/* useMediaQuery */ \"c\"])('(max-width:640px)');\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_5__[\"useState\"])('edit'),\n      mode = _useState[0],\n      setMode = _useState[1];\n\n  if (mobile) return react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(_Layout__WEBPACK_IMPORTED_MODULE_6__[/* Box */ \"b\"], {\n    gap: 4\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()('div', {\n    style: {\n      justifySelf: 'right'\n    }\n  }, [mode === 'preview' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(_Button__WEBPACK_IMPORTED_MODULE_7__[/* LinkButton */ \"e\"], {\n    onClick: function onClick() {\n      return setMode('edit');\n    }\n  }, 'edit') : react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(_Button__WEBPACK_IMPORTED_MODULE_7__[/* LinkButton */ \"e\"], {\n    onClick: function onClick() {\n      return setMode('preview');\n    }\n  }, 'preview')]), mode === 'preview' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(Preview, {}, react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(_Text__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    source: props.value\n  })) : react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(Editor, props)]);\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(EditorPreviewContainer, [react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(Editor, props), react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(Preview, {\n    height: props.height\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_1___default()(_Text__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"], {\n    source: props.value\n  }))]);\n}\n\nvar EditorPreviewContainer = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('div', {\n  target: \"efj9xzw0\"\n})(true ? {\n  name: \"17v6q2h\",\n  styles: \"display:grid;max-width:1200px;grid-template-columns:50% 50%;\"\n} : undefined);\n\nvar Editor = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('textarea', {\n  target: \"efj9xzw1\"\n})(\"box-sizing:border-box;height:\", function (props) {\n  return props.height ? props.height : 512;\n}, \"px;padding:16px;font-family:'Lato',sans-serif;border-color:\", _Tokens__WEBPACK_IMPORTED_MODULE_3__[/* colors */ \"d\"].grey55, \" !important;border:1px solid;border-radius:2px 0 0 2px;resize:none;font-size:inherit;line-height:inherit;\" + (true ? \"\" : undefined));\n\nvar Preview = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('div', {\n  target: \"efj9xzw2\"\n})(\"overflow:scroll;box-sizing:border-box;padding:16px;font-size:16px;height:\", function (props) {\n  return props.height ? props.height : 512;\n}, \"px;background-color:\", _Tokens__WEBPACK_IMPORTED_MODULE_3__[/* colors */ \"d\"].accentPeach, \";border-radius:0 2px 2px 0;\" + (true ? \"\" : undefined));\n\n/***/ })\n\n},[[\"XRgW\",0,2,1,3,4,5,7]]]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fcourses%2F%5Bslug%5D%2F%5Bid%5D%2Fcohorts%2F%5BcohortId%5D%2Ftemplates&absolutePagePath=private-next-pages%2Fcourses%2F%5Bslug%5D%2F%5Bid%5D%2Fcohorts%2F%5BcohortId%5D%2Ftemplates.ts!","/Users/ayooluwaalfonso/code/krakeneduapp/pages/courses/[slug]/[id]/cohorts/[cohortId]/templates.ts","/Users/ayooluwaalfonso/code/krakeneduapp/src/constants.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/EditorWithPreview.ts"],"names":["CohortTemplatesPages","props","router","useRouter","template","templates","find","t","name","query","h","PageLoader","Box","gap","BackButton","href","slug","id","cohortId","shallow","TemplatePage","width","as","Link","filter","type","sort","a","b","flatMap","style","gridAutoColumns","justifySelf","alignItems","Secondary","Seperator","slice","useFormData","form","changed","reset","useState","post","setPost","useApi","status","callPost","onSubmit","e","preventDefault","title","value","body","content","tags","res","result","topic","topic_id","Fragment","Modal","display","onExit","undefined","textAlign","DISCOURSE_URL","Primary","FormBox","LabelBox","Input","EditorWithPreview","disabled","onClick","mobile","useMediaQuery","mode","setMode","LinkButton","Preview","Text","source","Editor","EditorPreviewContainer","height","colors","grey55","accentPeach"],"mappings":";;;;;;;AACA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,MAAwE;AACjG;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAEeA,mFAAf;;AAEA,SAASA,oBAAT,CAA8BC,KAA9B,EAA2C;AAAA;;AACzC,MAAIC,MAAM,GAAGC,6DAAS,EAAtB;AACA,MAAIC,QAAQ,uBAAGH,KAAK,CAACI,SAAT,qDAAG,iBAAiBC,IAAjB,CAAsB,UAAAC,CAAC;AAAA,WAAGA,CAAC,CAACC,IAAF,KAAWN,MAAM,CAACO,KAAP,CAAaL,QAA3B;AAAA,GAAvB,CAAf;AACA,MAAG,CAACH,KAAK,CAACI,SAAV,EAAqB,OAAOK,wDAAC,CAACC,qEAAD,CAAR;AAErB,MAAGP,QAAH,EAAa,OAAOM,wDAAC,CAACE,6DAAD,EAAM;AAACC,OAAG,EAAE;AAAN,GAAN,EAAiB,CACpCH,wDAAC,CAACE,6DAAD,EAAM;AAACC,OAAG,EAAC;AAAL,GAAN,EAAgB,CACfH,wDAAC,CAACI,oEAAD,EAAa;AAACC,QAAI,qBAAcb,MAAM,CAACO,KAAP,CAAaO,IAA3B,cAAmCd,MAAM,CAACO,KAAP,CAAaQ,EAAhD,sBAA8Df,MAAM,CAACO,KAAP,CAAaS,QAA3E,eAAL;AAAsGC,WAAO,EAAC;AAA9G,GAAb,EAAkI,WAAlI,CADc,EAEfT,wDAAC,CAAC,IAAD,EAAO,eAAP,CAFc,CAAhB,CADmC,EAKpCA,wDAAC,CAACU,YAAD,EAAe;AAAChB,YAAQ,EAARA;AAAD,GAAf,CALmC,CAAjB,CAAR;AAQb,SAAOM,wDAAC,CAACE,6DAAD,EAAM;AAACS,SAAK,EAAE,GAAR;AAAaR,OAAG,EAAE;AAAlB,GAAN,EAA4B,CAClCH,wDAAC,CAACE,6DAAD,EAAM;AAACC,OAAG,EAAC;AAAL,GAAN,EAAgB,CACfH,wDAAC,CAACI,oEAAD,EAAa;AAACC,QAAI,EAAE,yCAAP;AAAkDO,MAAE,qBAAcpB,MAAM,CAACO,KAAP,CAAaO,IAA3B,cAAmCd,MAAM,CAACO,KAAP,CAAaQ,EAAhD,sBAA8Df,MAAM,CAACO,KAAP,CAAaS,QAA3E;AAApD,GAAb,EAAyJ,gBAAzJ,CADc,EAEfR,wDAAC,CAAC,IAAD,EAAO,WAAP,CAFc,EAGfA,wDAAC,CAAC,OAAD,EAAU,uGAETA,wDAAC,CAACa,gDAAD,EAAO;AAACR,QAAI,EAAE,+BAAP;AAAwCO,MAAE,qBAAapB,MAAM,CAACO,KAAP,CAAaO,IAA1B,cAAkCd,MAAM,CAACO,KAAP,CAAaQ,EAA/C;AAA1C,GAAP,EAAgHP,wDAAC,CAAC,GAAD,EAAM,iBAAN,CAAjH,CAFQ,MAAV,CAHc,CAAhB,CADiC,EASlCA,wDAAC,CAACE,6DAAD,EAAM,EAAN,uBAAUX,KAAK,CAACI,SAAhB,sDAAU,kBACPmB,MADO,CACA,UAAAjB,CAAC;AAAA,WAAEA,CAAC,CAACkB,IAAF,KAAW,WAAb;AAAA,GADD,EAERC,IAFQ,CAEH,UAACC,CAAD,EAAIC,CAAJ;AAAA,WAAUD,CAAC,CAACnB,IAAF,GAASoB,CAAC,CAACpB,IAAX,GAAkB,CAAlB,GAAsB,CAAC,CAAjC;AAAA,GAFG,EAGRqB,OAHQ,CAGA,UAAAzB,QAAQ,EAAI;AACnB,WAAO,CACLM,wDAAC,CAACE,6DAAD,EAAM;AAACF,OAAC,EAAE,IAAJ;AAAUoB,WAAK,EAAE;AAACC,uBAAe,EAAE;AAAlB;AAAjB,KAAN,EAAkD,CACjDrB,wDAAC,CAAC,KAAD,EAAQ,CACPA,wDAAC,CAAC,IAAD,EAAON,QAAQ,CAACI,IAAhB,CADM,EAEPE,wDAAC,CAAC,oBAAD,EAAuBN,QAAQ,CAACqB,IAAT,KAAiB,cAAjB,GAAkC,8BAAlC,GAAmE,mCAA1F,CAFM,CAAR,CADgD,EAKjDf,wDAAC,CAACE,6DAAD,EAAM;AAACF,OAAC,EAAE,IAAJ;AAAUoB,WAAK,EAAC;AAACE,mBAAW,EAAE,KAAd;AAAqBC,kBAAU,EAAE;AAAjC;AAAhB,KAAN,EAAmE,CAClEvB,wDAAC,CAACa,gDAAD,EAAO;AACNR,UAAI,EAAE,mBAAYb,MAAM,CAACO,KAAP,CAAaO,IAAzB,cAAiCd,MAAM,CAACO,KAAP,CAAaQ,EAA9C,sBAA4Df,MAAM,CAACO,KAAP,CAAaS,QAAzE,kBAA8F,YAA9F,GAA2Gd,QAAQ,CAACI,IADpH;AAENW,aAAO,EAAE;AAFH,KAAP,EAGET,wDAAC,CAACwB,mEAAD,EAAY,KAAZ,CAHH,CADiE,CAAnE,CALgD,CAAlD,CADI,EAaLxB,wDAAC,CAACyB,mEAAD,CAbI,CAAP;AAcE,GAlBK,EAkBHC,KAlBG,CAkBG,CAlBH,EAkBM,CAAC,CAlBP,CAAV,CATiC,CAA5B,CAAR;AA6BD;;AAED,SAAShB,YAAT,CAAsBnB,KAAtB,EAAgE;AAAA,qBACjCoC,sEAAW,CAACpC,KAAK,CAACG,QAAP,CADsB;AAAA,MACzDkC,IADyD,gBACzDA,IADyD;AAAA,MACnDC,OADmD,gBACnDA,OADmD;AAAA,MAC1CC,KAD0C,gBAC1CA,KAD0C;;AAAA,kBAExCC,sDAAQ,EAFgC;AAAA,MAEzDC,IAFyD;AAAA,MAEnDC,OAFmD;;AAAA,gBAGrCC,sEAAM,CAAkC,EAAlC,CAH+B;AAAA;AAAA,MAGzDC,MAHyD;AAAA,MAGjDC,QAHiD;;AAI9D,MAAI5C,MAAM,GAAGC,6DAAS,EAAtB;;AAEA,MAAI4C,QAAQ;AAAA,sVAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACbA,eAAC,CAACC,cAAF;AADa;AAAA,qBAEGH,QAAQ,wBAAiB5C,MAAM,CAACO,KAAP,CAAaS,QAA9B,iBAAoD;AAACgC,qBAAK,EAAEZ,IAAI,CAACY,KAAL,CAAWC,KAAnB;AAA0BC,oBAAI,EAAEd,IAAI,CAACe,OAAL,CAAaF,KAA7C;AAAoDG,oBAAI,EAAC;AAAzD,eAApD,CAFX;;AAAA;AAETC,iBAFS;AAGb,kBAAGA,GAAG,CAACV,MAAJ,KAAa,GAAhB,EAAqBF,OAAO,CAACY,GAAG,CAACC,MAAJ,CAAWC,KAAX,CAAiBC,QAAlB,CAAP;;AAHR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARX,QAAQ;AAAA;AAAA;AAAA,KAAZ;;AAMA,SAAOrC,wDAAC,CAACiD,8CAAD,EAAW,CACjBjB,IAAI,IAAIG,MAAM,KAAK,SAAnB,GAA+BnC,wDAAC,CAACkD,+DAAD,EAAQ;AAACC,WAAO,EAAE,CAAC,CAACnB,IAAZ;AAAkBoB,UAAM,EAAE,kBAAI;AAACnB,aAAO,CAACoB,SAAD,CAAP;AAAmB;AAAlD,GAAR,EAA6DrD,wDAAC,CAACE,6DAAD,EAAM;AAACC,OAAG,EAAC;AAAL,GAAN,EAAe,CAC3GH,wDAAC,CAACE,6DAAD,EAAM;AAACC,OAAG,EAAC,EAAL;AAASiB,SAAK,EAAC;AAACkC,eAAS,EAAE;AAAZ;AAAf,GAAN,EAA6C,CAC9CtD,wDAAC,CAAC,IAAD,EAAO,OAAP,CAD6C,EAE5CA,wDAAC,CAAC,GAAD,EAAM,2BAAN,CAF2C,CAA7C,CAD0G,EAK3GA,wDAAC,CAACE,6DAAD,EAAM,CACLF,wDAAC,CAAC,GAAD,EAAM;AAACoB,SAAK,EAAC;AAACE,iBAAW,EAAC;AAAb,KAAP;AAA+BjB,QAAI,YAAKkD,oEAAL,gBAAwBvB,IAAxB;AAAnC,GAAN,EAA0EhC,wDAAC,CAACwD,iEAAD,EAAU,cAAV,CAA3E,CADI,EAEPxD,wDAAC,CAACa,gDAAD,EAAO;AACNR,QAAI,qBAAcb,MAAM,CAACO,KAAP,CAAaO,IAA3B,cAAmCd,MAAM,CAACO,KAAP,CAAaQ,EAAhD,sBAA8Df,MAAM,CAACO,KAAP,CAAaS,QAA3E;AADE,GAAP,EAEER,wDAAC,CAAC,GAAD,EAAM;AAACoB,SAAK,EAAC;AAACE,iBAAW,EAAC;AAAb;AAAP,GAAN,EAAsCtB,wDAAC,CAACwB,mEAAD,EAAY,mBAAZ,CAAvC,CAFH,CAFM,CAAN,CAL0G,CAAf,CAA9D,CAAhC,GAWM,IAZW,EAajBxB,wDAAC,CAACyD,iEAAD,EAAU;AAACpB,YAAQ,EAARA,QAAD;AAAWlC,OAAG,EAAC;AAAf,GAAV,EAA8B,CAC7BH,wDAAC,CAAC0D,kEAAD,EAAW;AAAC/C,SAAK,EAAE;AAAR,GAAX,EAAyB,CACxBX,wDAAC,CAAC,IAAD,EAAO,OAAP,CADuB,EAExBA,wDAAC,CAAC2D,8DAAD;AACC5C,QAAI,EAAE,MADP;AAECjB,QAAI,EAAE;AAFP,KAGI8B,IAAI,CAACY,KAHT,EAFuB,CAAzB,CAD4B,EAS7BxC,wDAAC,CAAC0D,kEAAD,EAAW,CACV1D,wDAAC,CAAC,IAAD,EAAO,MAAP,CADS,EAEVA,wDAAC,CAAC4D,6EAAD,EAAoBhC,IAAI,CAACe,OAAzB,CAFS,CAAX,CAT4B,EAa7B3C,wDAAC,CAACE,6DAAD,EAAM;AAACF,KAAC,EAAC,IAAH;AAASoB,SAAK,EAAC;AAACE,iBAAW,EAAE;AAAd;AAAf,GAAN,EAA8C,CAC7CtB,wDAAC,CAACwB,mEAAD,EAAY;AAACqC,YAAQ,EAAE,CAAChC,OAAZ;AAAqBiC,WAAO,EAAC;AAAA,aAAIhC,KAAK,EAAT;AAAA;AAA7B,GAAZ,EAAuD,gBAAvD,CAD4C,EAE7C9B,wDAAC,CAACwD,iEAAD,EAAU;AAACzC,QAAI,EAAE,QAAP;AAAiBoB,UAAM,EAANA;AAAjB,GAAV,EAAoC,mBAApC,CAF4C,CAA9C,CAb4B,CAA9B,CAbgB,CAAX,CAAR;AAgCD,C;;;;;;;;AC3GD;AAAO,IAAIoB,aAAa,GAAG,6BAApB,C;;;;;;;;;;;;;;;;;;;;;;;ACAP;AAEA;AACA;AACA;AACA;AACA;AACA;AAEe,SAASK,iBAAT,CAA2BrE,KAA3B,EAA+H;AAC5I,MAAIwE,MAAM,GAAGC,uEAAa,CAAC,mBAAD,CAA1B;;AAD4I,kBAGtHjC,sDAAQ,CAAmB,MAAnB,CAH8G;AAAA,MAGvIkC,IAHuI;AAAA,MAGjIC,OAHiI;;AAI5I,MAAGH,MAAH,EAAW,OAAO/D,wDAAC,CAACE,mDAAD,EAAM;AAACC,OAAG,EAAC;AAAL,GAAN,EAAe,CAChCH,wDAAC,CAAC,KAAD,EAAQ;AAACoB,SAAK,EAAC;AAACE,iBAAW,EAAE;AAAd;AAAP,GAAR,EAAwC,CACvC2C,IAAI,KAAK,SAAT,GACIjE,wDAAC,CAACmE,0DAAD,EAAa;AAACL,WAAO,EAAE;AAAA,aAAII,OAAO,CAAC,MAAD,CAAX;AAAA;AAAV,GAAb,EAA6C,MAA7C,CADL,GAEIlE,wDAAC,CAACmE,0DAAD,EAAa;AAACL,WAAO,EAAE;AAAA,aAAII,OAAO,CAAC,SAAD,CAAX;AAAA;AAAV,GAAb,EAAgD,SAAhD,CAHkC,CAAxC,CAD+B,EAMhCD,IAAI,KAAK,SAAT,GACIjE,wDAAC,CAACoE,OAAD,EAAU,EAAV,EAAcpE,wDAAC,CAACqE,qDAAD,EAAO;AAACC,UAAM,EAAE/E,KAAK,CAACkD;AAAf,GAAP,CAAf,CADL,GAEIzC,wDAAC,CAACuE,MAAD,EAAShF,KAAT,CAR2B,CAAf,CAAR;AAUX,SAAOS,wDAAC,CAACwE,sBAAD,EAAyB,CAC/BxE,wDAAC,CAACuE,MAAD,EAAShF,KAAT,CAD8B,EAE/BS,wDAAC,CAACoE,OAAD,EAAU;AAACK,UAAM,EAAClF,KAAK,CAACkF;AAAd,GAAV,EAAiCzE,wDAAC,CAACqE,qDAAD,EAAO;AAACC,UAAM,EAAE/E,KAAK,CAACkD;AAAf,GAAP,CAAlC,CAF8B,CAAzB,CAAR;AAID;;AACD,IAAI+B,sBAAsB,GAAG,0FAAO,KAAP;AAAA;AAAA,EAAH;AAAA;AAAA;AAAA,cAA1B;;AAMA,IAAID,MAAM,GAAG,0FAAO,UAAP;AAAA;AAAA,EAAH,kCAEA,UAAAhF,KAAK;AAAA,SAAEA,KAAK,CAACkF,MAAN,GAAelF,KAAK,CAACkF,MAArB,GAA8B,GAAhC;AAAA,CAFL,iEAKMC,sDAAM,CAACC,MALb,wIAAV;;AAaA,IAAIP,OAAO,GAAG,0FAAO,KAAP;AAAA;AAAA,EAAH,8EAKD,UAAA7E,KAAK;AAAA,SAAEA,KAAK,CAACkF,MAAN,GAAelF,KAAK,CAACkF,MAArB,GAA8B,GAAhC;AAAA,CALJ,0BAMQC,sDAAM,CAACE,WANf,0DAAX,C","file":"x","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/[slug]/[id]/cohorts/[cohortId]/templates\",\n        function () {\n          return require(\"private-next-pages/courses/[slug]/[id]/cohorts/[cohortId]/templates.ts\");\n        }\n      ]);\n    ","import h from 'react-hyperscript'\nimport Link from 'next/link'\nimport { useRouter } from 'next/router'\nimport { getTemplatesQuery } from 'pages/api/courses/[id]/templates'\nimport { InferGetStaticPropsType } from 'next'\nimport { Box, Seperator, FormBox, LabelBox } from 'components/Layout'\nimport { Secondary, Primary, BackButton } from 'components/Button'\nimport { useState, Fragment } from 'react'\nimport { Input } from 'components/Form'\nimport EditorWithPreview from 'components/EditorWithPreview'\nimport { PageLoader } from 'components/Loader'\nimport { useApi } from 'src/apiHelpers'\nimport { PostTopicMsg, PostTopicResponse } from 'pages/api/cohorts/[cohortId]/postTopic'\nimport { Modal } from 'components/Modal'\nimport { DISCOURSE_URL } from 'src/constants'\nimport { useFormData } from 'src/hooks'\n\nexport default CohortTemplatesPages\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nfunction CohortTemplatesPages(props:Props) {\n  let router = useRouter()\n  let template = props.templates?.find(t=> t.name === router.query.template)\n  if(!props.templates) return h(PageLoader)\n\n  if(template) return h(Box, {gap: 64}, [\n    h(Box, {gap:16}, [\n      h(BackButton, {href: `/courses/${router.query.slug}/${router.query.id}/cohorts/${router.query.cohortId}/templates`, shallow:true}, 'Templates'),\n      h('h1', \"Post template\")\n    ]),\n    h(TemplatePage, {template})\n  ])\n\n  return h(Box, {width: 640, gap: 32},[\n    h(Box, {gap:16}, [\n      h(BackButton, {href: \"/courses/[slug]/[id]/cohorts/[cohortId]\", as: `/courses/${router.query.slug}/${router.query.id}/cohorts/${router.query.cohortId}`}, 'Cohort Details'),\n      h('h1', \"Templates\"),\n      h('p.big', [\n        `Use templates to easily post new topics in your cohort forum! You can create new templates in the `,\n        h(Link, {href: '/courses/[slug]/[id]/settings', as:`/courses/${router.query.slug}/${router.query.id}/settings`}, h('a', 'course settings')), `.`\n      ])\n    ]),\n    h(Box, {}, props.templates\n      ?.filter(t=>t.type === 'triggered')\n      .sort((a, b)=>  a.name > b.name ? 1 : -1)\n      .flatMap(template => {\n        return [\n          h(Box, {h: true, style: {gridAutoColumns: 'auto'}},[\n            h('div', [\n              h('h3', template.name),\n              h('span.textSecondary', template.type ==='prepopulated' ? \"Prepopulated for all cohorts\" : \"Manually published by facilitator\")\n            ]),\n            h(Box, {h: true, style:{justifySelf: 'end', alignItems: 'center'}}, [\n              h(Link, {\n                href: `/courses/${router.query.slug}/${router.query.id}/cohorts/${router.query.cohortId}/templates`+'?template='+template.name,\n                shallow: true,\n              }, h(Secondary, 'Use'))\n            ])\n          ]),\n          h(Seperator)\n        ]}).slice(0, -1))\n  ])\n}\n\nfunction TemplatePage(props: {template: Props['templates'][0]}) {\n  let {form, changed, reset} = useFormData(props.template)\n  let [post, setPost] = useState<number | undefined>()\n  let [status, callPost] = useApi<PostTopicMsg, PostTopicResponse>([])\n  let router = useRouter()\n\n  let onSubmit = async (e:React.FormEvent)=>{\n    e.preventDefault()\n    let res = await callPost(`/api/cohorts/${router.query.cohortId}/postTopic`, {title: form.title.value, body: form.content.value, tags:[]})\n    if(res.status===200) setPost(res.result.topic.topic_id)\n  }\n\n  return h(Fragment, [\n    post && status === 'success' ? h(Modal, {display: !!post, onExit: ()=>{setPost(undefined)}}, h(Box, {gap:32},[\n      h(Box, {gap:16, style:{textAlign: 'center'}}, [\n      h('h1', \"Cool!\"),\n        h('p', \"Your topic has been added\")\n      ]),\n      h(Box, [\n        h('a', {style:{justifySelf:\"center\"}, href: `${DISCOURSE_URL}/t/${post}`}, h(Primary, \"View it here\")),\n      h(Link, {\n        href: `/courses/${router.query.slug}/${router.query.id}/cohorts/${router.query.cohortId}/templates`\n      }, h('a', {style:{justifySelf:\"center\"}}, h(Secondary, 'Back to Templates')))\n      ])\n    ])) : null,\n    h(FormBox, {onSubmit, gap:32}, [\n      h(LabelBox, {width: 400}, [\n        h('h4', \"Title\"),\n        h(Input, {\n          type: 'text',\n          name: 'title',\n          ...form.title,\n        })\n      ]),\n      h(LabelBox, [\n        h('h4', \"Body\"),\n        h(EditorWithPreview, form.content)\n      ]),\n      h(Box, {h:true, style:{justifySelf: 'right'}}, [\n        h(Secondary, {disabled: !changed, onClick:()=>reset()}, \"Reset Template\"),\n        h(Primary, {type: 'submit', status}, \"Post to the forum\"),\n      ])\n    ])\n  ])\n}\n\nexport const getStaticProps = async (ctx:any)=>{\n  let cohortNum = (ctx.params?.cohortId || '' )as string\n  let courseId = parseInt(ctx.params?.id as string || '')\n\n  let templates = await getTemplatesQuery(courseId)\n  return {props: {templates, courseId, cohortNum}}\n}\n\nexport const getStaticPaths = async ()=>{\n  return {paths:[], fallback: true}\n}\n","export let DISCOURSE_URL = 'https://forum.krakenedu.com'\n","import h from 'react-hyperscript'\nimport styled from '@emotion/styled'\nimport Text from './Text'\nimport {colors} from './Tokens'\nimport { useMediaQuery } from 'src/hooks'\nimport { useState } from 'react'\nimport { Box } from './Layout'\nimport { LinkButton } from './Button'\n\nexport default function EditorWithPreview(props:{height?: number, value: string, onChange: (e:React.ChangeEvent<HTMLTextAreaElement>)=>void}) {\n  let mobile = useMediaQuery('(max-width:640px)')\n\n  let [mode, setMode] = useState<'edit'|'preview'>('edit')\n  if(mobile) return h(Box, {gap:4}, [\n    h('div', {style:{justifySelf: 'right'}}, [\n      mode === 'preview'\n        ? h(LinkButton, {onClick: ()=>setMode('edit')}, 'edit')\n        : h(LinkButton, {onClick: ()=>setMode('preview')}, 'preview'),\n    ]),\n    mode === 'preview'\n      ? h(Preview, {}, h(Text, {source: props.value}))\n      : h(Editor, props),\n  ])\n  return h(EditorPreviewContainer, [\n    h(Editor, props),\n    h(Preview, {height:props.height}, h(Text, {source: props.value}))\n  ])\n}\nlet EditorPreviewContainer = styled('div')`\ndisplay: grid;\nmax-width: 1200px;\ngrid-template-columns: 50% 50%;\n`\n\nlet Editor = styled('textarea')<{height?:number}>`\nbox-sizing: border-box;\nheight: ${props=>props.height ? props.height : 512}px;\npadding: 16px;\nfont-family: 'Lato', sans-serif;\nborder-color: ${colors.grey55} !important;\nborder: 1px solid;\nborder-radius: 2px 0 0 2px;\nresize: none;\nfont-size: inherit;\nline-height: inherit;\n`\n\nlet Preview = styled('div')<{height?:number}>`\noverflow: scroll;\nbox-sizing: border-box;\npadding: 16px;\nfont-size: 16px;\nheight: ${props=>props.height ? props.height : 512}px;\nbackground-color:${colors.accentPeach};\nborder-radius: 0 2px 2px 0;\n`\n"]}}