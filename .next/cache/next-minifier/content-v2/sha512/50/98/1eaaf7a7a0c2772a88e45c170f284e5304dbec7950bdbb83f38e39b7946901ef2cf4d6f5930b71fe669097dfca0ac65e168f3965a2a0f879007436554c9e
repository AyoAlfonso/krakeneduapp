{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[59],{R1ly:function(e,t,r){\"use strict\";r.d(t,\"a\",(function(){return o})),r.d(t,\"b\",(function(){return u}));var n=r(\"wTIg\"),a=r(\"q1tI\"),i=r(\"j+1P\"),s=r.n(i),o=Object(n.a)(\"img\",{target:\"e1gjxmdy1\"})(\"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;display:block;border:none;height:\",(function(e){return e.height?e.height+\"px\":\"100px\"}),\";width:\",(function(e){return e.width?e.width+\"px\":\"100px\"}),\";\");function u(e){var t=Object(a.useState)(!1),r=t[0],n=t[1],i=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t;null!==(t=i.current)&&void 0!==t&&t.complete&&!r&&setTimeout((function(){return n(!0)}),e.startLoop)}),[]),r?s()(o,{src:e.src2,alt:e.alt}):s()(o,{ref:i,onLoad:function(){setTimeout((function(){return n(!0)}),e.startLoop)},src:e.src1,alt:e.alt})}},g8FV:function(e,t,r){\"use strict\";r.r(t),r.d(t,\"LoginHeader\",(function(){return q}));var n=r(\"cpVT\"),a=r(\"vJKn\"),i=r.n(a),s=r(\"rg98\"),o=r(\"xvhg\"),u=r(\"wTIg\"),c=r(\"j+1P\"),p=r.n(c),d=r(\"q1tI\"),f=r(\"20a2\"),l=r(\"YFqc\"),g=r.n(l),m=r(\"9Hbq\"),b=r(\"rk+T\"),w=r(\"Hzj1\"),h=r(\"R1ly\"),y=r(\"0CBl\"),O=r(\"5++N\");function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var x={emailOrUsernameInput:\"Email or Username\",passwordInput:\"Password\",resetPassword:\"Reset password\",loginHeader:\"Log In\",wrongLogin:p()(\"div\",[\"The email/username and password don't match\",p()(\"br\"),\"If you want, you can \",p()(g.a,{href:\"/login?reset\"},p()(\"a\",\"reset your password here\")),\".\"]),loginButton:\"Log In\"},P=\"Reset Password\",k=\"Your account email\",I=\"Reset Password\",T=\"Check your Email\",_=function(){var e=Object(d.useState)(\"\"),t=e[0],r=e[1],n=Object(y.b)([t]),a=Object(o.a)(n,3),u=a[0],c=a[1],f=a[2],l=function(){var e=Object(s.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,c(\"/api/user/resetPassword/request\",{email:t});case 3:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();switch(u){case\"normal\":case\"loading\":return p()(m.d,{onSubmit:l,width:400,ma:!0},[p()(\"h1\",P),p()(m.e,{gap:16},[p()(\"h4\",k),p()(b.d,{type:\"email\",required:!0,value:t,onChange:function(e){return r(e.currentTarget.value)}})]),p()(\"div\",{style:{display:\"grid\",justifyItems:\"end\",gridGap:\"8px\"}},[p()(w.f,{type:\"submit\",status:u},I)])]);case\"success\":return p()(m.b,{gap:16,width:400,ma:!0},[p()(h.a,{src:\"/img/plane.gif\",alt:\"an animated gif of a paper airplane taking off\"}),p()(\"h1\",T),\"We sent an email with a password reset link to\",p()(b.c,t),\"It expires in 30 minutes.\",p()(\"br\"),p()(w.f,{style:{width:\"100%\"},onClick:function(){return f(\"normal\")}},\"Send another link\")]);case\"error\":return p()(m.b,{width:400,ma:!0},[p()(b.b,\"something went wrong, please refresh and try again\")])}},q=Object(u.a)(\"div\",{target:\"ecx9ydq0\"})({name:\"1uaajjg\",styles:\"display:grid;grid-gap:16px;grid-template-columns:auto min-content;align-items:end;\"});t.default=function(){var e=Object(f.useRouter)(),t=Object(d.useState)({emailOrUsername:\"\",password:\"\"}),r=t[0],n=t[1],a=e.query.redirect,u=e.query.reset,c=Object(O.i)(),l=c.data,j=c.mutate,P=Object(y.b)([r],function(){var t=Object(s.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!a){t.next=9;break}if(\"/\"===a[0]&&!a.startsWith(\"/sso\")){t.next=3;break}return t.abrupt(\"return\",window.location.assign(a));case 3:return t.next=5,j(r);case 5:return t.next=7,e.push(a);case 7:t.next=11;break;case 9:return t.next=11,e.push(\"/dashboard\");case 11:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),k=Object(o.a)(P,2),I=k[0],T=k[1],E=function(){var e=Object(s.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),T(\"/api/login\",r);case 2:case\"end\":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(d.useEffect)((function(){l&&e.push(a||\"/dashboard\")}),[l]),\"undefined\"!==typeof u?p()(_):p()(m.d,{onSubmit:E,width:400,ma:!0,gap:32},[p()(m.b,[p()(q,[p()(\"h1\",x.loginHeader),p()(h.b,{src1:\"/img/door-1.gif\",src2:\"/img/door-2.gif\",alt:\"an animated gif of a entrance to the sparkle void\",startLoop:1200})]),p()(\"p.textSecondary\",[\"Or \",p()(g.a,{href:\"/signup\"},p()(\"a\",\"sign up\")),\" for a new account\"])]),\"error\"===I?p()(b.b,{},x.wrongLogin):null,p()(m.e,{gap:8},[p()(\"h4\",x.emailOrUsernameInput),p()(b.d,{type:\"text\",value:r.emailOrUsername,required:!0,onChange:function(e){return n(v(v({},r),{},{emailOrUsername:e.currentTarget.value}))}})]),p()(m.e,{gap:8},[p()(\"h4\",x.passwordInput),p()(b.d,{type:\"password\",value:r.password,required:!0,onChange:function(e){return n(v(v({},r),{},{password:e.currentTarget.value}))}}),p()(g.a,{href:\"/login?reset\"},p()(\"a\",{style:{justifySelf:\"right\"}},x.resetPassword))]),p()(w.f,{type:\"submit\",status:I,style:{justifySelf:\"right\"}},x.loginButton)])}},zuvP:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/login\",function(){return r(\"g8FV\")}])}},[[\"zuvP\",0,2,1,3,4]]]);","map":{"version":3,"sources":["static/chunks/pages/login-0c04ee421d731d3403a7.js"],"names":["_N_E","window","push","R1ly","module","__webpack_exports__","__webpack_require__","d","AccentImg","HalfLoopImg","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_1__","react_hyperscript__WEBPACK_IMPORTED_MODULE_2__","react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default","n","Object","target","props","height","width","_useState","looping","setLooping","imageRef","_imageRef$current","current","complete","setTimeout","startLoop","src","src2","alt","ref","onLoad","src1","g8FV","r","LoginHeader","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__","react_hyperscript__WEBPACK_IMPORTED_MODULE_5__","react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_6__","next_router__WEBPACK_IMPORTED_MODULE_7__","next_link__WEBPACK_IMPORTED_MODULE_8__","next_link__WEBPACK_IMPORTED_MODULE_8___default","components_Layout__WEBPACK_IMPORTED_MODULE_9__","components_Form__WEBPACK_IMPORTED_MODULE_10__","components_Button__WEBPACK_IMPORTED_MODULE_11__","components_Images__WEBPACK_IMPORTED_MODULE_12__","src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__","src_data__WEBPACK_IMPORTED_MODULE_14__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","COPY","emailOrUsernameInput","passwordInput","resetPassword","loginHeader","wrongLogin","a","href","loginButton","RESETCOPY","ResetPassword","_useState2","email","setEmail","_useApi3","_useApi4","status","callResetPassword","setStatus","onSubmit","_ref3","mark","_callee3","e","wrap","_context3","prev","next","preventDefault","stop","_x3","this","ma","gap","type","required","value","onChange","currentTarget","style","display","justifyItems","gridGap","onClick","name","styles","router","emailOrUsername","password","formData","setFormData","redirect","query","reset","_useUserData","data","mutate","_useApi","_ref","_callee","result","_context","startsWith","abrupt","location","assign","_x","_useApi2","callLogin","_ref2","_callee2","_context2","_x2","justifySelf","zuvP","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/login-0c04ee421d731d3403a7.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[59],{\n\n/***/ \"R1ly\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TitleImg */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AccentImg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return HalfLoopImg; });\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar TitleImg = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('img', {\n  target: \"e1gjxmdy0\"\n})(\"image-rendering:pixelated;image-rendering:crisp-edges;display:block;border:2px solid;height:\", function (props) {\n  return props.height ? props.height + 'px' : 'auto';\n}, \";width:\", function (props) {\n  return props.width;\n}, \"px;\" + (true ? \"\" : undefined));\nvar AccentImg = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('img', {\n  target: \"e1gjxmdy1\"\n})(\"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;display:block;border:none;height:\", function (props) {\n  return props.height ? props.height + 'px' : '100px';\n}, \";width:\", function (props) {\n  return props.width ? props.width + 'px' : '100px';\n}, \";\" + (true ? \"\" : undefined));\nfunction HalfLoopImg(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      looping = _useState[0],\n      setLooping = _useState[1];\n\n  var imageRef = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    var _imageRef$current;\n\n    if ((_imageRef$current = imageRef.current) !== null && _imageRef$current !== void 0 && _imageRef$current.complete && !looping) {\n      setTimeout(function () {\n        return setLooping(true);\n      }, props.startLoop);\n    }\n  }, []);\n\n  if (!looping) {\n    return react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default()(AccentImg, {\n      ref: imageRef,\n      onLoad: function onLoad() {\n        setTimeout(function () {\n          return setLooping(true);\n        }, props.startLoop);\n      },\n      src: props.src1,\n      alt: props.alt\n    });\n  }\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default()(AccentImg, {\n    src: props.src2,\n    alt: props.alt\n  });\n}\n\n/***/ }),\n\n/***/ \"g8FV\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LoginHeader\", function() { return LoginHeader; });\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"xvhg\");\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"20a2\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"YFqc\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var components_Layout__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var components_Form__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"rk+T\");\n/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"Hzj1\");\n/* harmony import */ var components_Images__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"R1ly\");\n/* harmony import */ var src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"0CBl\");\n/* harmony import */ var src_data__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"5++N\");\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\n\n\n\nvar COPY = {\n  emailOrUsernameInput: \"Email or Username\",\n  passwordInput: \"Password\",\n  resetPassword: \"Reset password\",\n  loginHeader: \"Log In\",\n  wrongLogin: react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('div', [\"The email/username and password don't match\", react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('br'), \"If you want, you can \", react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(next_link__WEBPACK_IMPORTED_MODULE_8___default.a, {\n    href: '/login?reset'\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('a', 'reset your password here')), '.']),\n  loginButton: \"Log In\"\n};\n\nvar Login = function Login() {\n  var router = Object(next_router__WEBPACK_IMPORTED_MODULE_7__[\"useRouter\"])();\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])({\n    emailOrUsername: '',\n    password: ''\n  }),\n      formData = _useState[0],\n      setFormData = _useState[1];\n\n  var redirect = router.query.redirect;\n  var reset = router.query.reset;\n\n  var _useUserData = Object(src_data__WEBPACK_IMPORTED_MODULE_14__[/* useUserData */ \"i\"])(),\n      data = _useUserData.data,\n      mutate = _useUserData.mutate;\n\n  var _useApi = Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__[/* useApi */ \"b\"])([formData], /*#__PURE__*/function () {\n    var _ref = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee(result) {\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!redirect) {\n                _context.next = 9;\n                break;\n              }\n\n              if (!(redirect[0] !== '/' || redirect.startsWith('/sso'))) {\n                _context.next = 3;\n                break;\n              }\n\n              return _context.abrupt(\"return\", window.location.assign(redirect));\n\n            case 3:\n              _context.next = 5;\n              return mutate(result);\n\n            case 5:\n              _context.next = 7;\n              return router.push(redirect);\n\n            case 7:\n              _context.next = 11;\n              break;\n\n            case 9:\n              _context.next = 11;\n              return router.push('/dashboard');\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }()),\n      _useApi2 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useApi, 2),\n      status = _useApi2[0],\n      callLogin = _useApi2[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee2(e) {\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              e.preventDefault();\n              callLogin('/api/login', formData);\n\n            case 2:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onSubmit(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useEffect\"])(function () {\n    if (data) router.push(redirect || '/dashboard');\n  }, [data]);\n  if (typeof reset !== 'undefined') return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(ResetPassword);\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* FormBox */ \"d\"], {\n    onSubmit: onSubmit,\n    width: 400,\n    ma: true,\n    gap: 32\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* Box */ \"b\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(LoginHeader, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h1', COPY.loginHeader), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Images__WEBPACK_IMPORTED_MODULE_12__[/* HalfLoopImg */ \"b\"], {\n    src1: '/img/door-1.gif',\n    src2: '/img/door-2.gif',\n    alt: \"an animated gif of a entrance to the sparkle void\",\n    startLoop: 1200\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('p.textSecondary', ['Or ', react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(next_link__WEBPACK_IMPORTED_MODULE_8___default.a, {\n    href: '/signup'\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('a', 'sign up')), ' for a new account'])]), status === 'error' ? react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Error */ \"b\"], {}, COPY.wrongLogin) : null, react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h4', COPY.emailOrUsernameInput), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Input */ \"d\"], {\n    type: 'text',\n    value: formData.emailOrUsername,\n    required: true,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        emailOrUsername: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h4', COPY.passwordInput), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Input */ \"d\"], {\n    type: 'password',\n    value: formData.password,\n    required: true,\n    onChange: function onChange(e) {\n      return setFormData(_objectSpread(_objectSpread({}, formData), {}, {\n        password: e.currentTarget.value\n      }));\n    }\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(next_link__WEBPACK_IMPORTED_MODULE_8___default.a, {\n    href: '/login?reset'\n  }, react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('a', {\n    style: {\n      justifySelf: \"right\"\n    }\n  }, COPY.resetPassword))]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_11__[/* Primary */ \"f\"], {\n    type: 'submit',\n    status: status,\n    style: {\n      justifySelf: \"right\"\n    }\n  }, COPY.loginButton)]);\n};\n\nvar RESETCOPY = {\n  header: \"Reset Password\",\n  emailInput: \"Your account email\",\n  button: \"Reset Password\",\n  successHeader: \"Check your Email\"\n};\n\nvar ResetPassword = function ResetPassword() {\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(''),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useApi3 = Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_13__[/* useApi */ \"b\"])([email]),\n      _useApi4 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])(_useApi3, 3),\n      status = _useApi4[0],\n      callResetPassword = _useApi4[1],\n      setStatus = _useApi4[2];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref3 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.mark(function _callee3(e) {\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              _context3.next = 3;\n              return callResetPassword('/api/user/resetPassword/request', {\n                email: email\n              });\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onSubmit(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  switch (status) {\n    case 'normal':\n    case 'loading':\n      return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* FormBox */ \"d\"], {\n        onSubmit: onSubmit,\n        width: 400,\n        ma: true\n      }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h1', RESETCOPY.header), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* LabelBox */ \"e\"], {\n        gap: 16\n      }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h4', RESETCOPY.emailInput), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Input */ \"d\"], {\n        type: 'email',\n        required: true,\n        value: email,\n        onChange: function onChange(e) {\n          return setEmail(e.currentTarget.value);\n        }\n      })]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('div', {\n        style: {\n          display: 'grid',\n          justifyItems: 'end',\n          gridGap: '8px'\n        }\n      }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_11__[/* Primary */ \"f\"], {\n        type: 'submit',\n        status: status\n      }, RESETCOPY.button)])]);\n\n    case 'success':\n      return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* Box */ \"b\"], {\n        gap: 16,\n        width: 400,\n        ma: true\n      }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Images__WEBPACK_IMPORTED_MODULE_12__[/* AccentImg */ \"a\"], {\n        src: '/img/plane.gif',\n        alt: \"an animated gif of a paper airplane taking off\"\n      }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('h1', RESETCOPY.successHeader), 'We sent an email with a password reset link to', react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Info */ \"c\"], email), 'It expires in 30 minutes.', react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('br'), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_11__[/* Primary */ \"f\"], {\n        style: {\n          width: '100%'\n        },\n        onClick: function onClick() {\n          return setStatus('normal');\n        }\n      }, 'Send another link')]);\n\n    case 'error':\n      return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_9__[/* Box */ \"b\"], {\n        width: 400,\n        ma: true\n      }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_10__[/* Error */ \"b\"], 'something went wrong, please refresh and try again')]);\n  }\n};\n\nvar LoginHeader = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])('div', {\n  target: \"ecx9ydq0\"\n})(true ? {\n  name: \"1uaajjg\",\n  styles: \"display:grid;grid-gap:16px;grid-template-columns:auto min-content;align-items:end;\"\n} : undefined);\n/* harmony default export */ __webpack_exports__[\"default\"] = (Login);\n\n/***/ }),\n\n/***/ \"zuvP\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login\",\n        function () {\n          return __webpack_require__(\"g8FV\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"zuvP\",0,2,1,3,4]]]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/components/Images.ts","/Users/ayooluwaalfonso/code/krakeneduapp/pages/login.ts","/Users/ayooluwaalfonso/code/krakeneduapp/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Flogin&absolutePagePath=private-next-pages%2Flogin.ts!"],"names":["TitleImg","props","height","width","AccentImg","HalfLoopImg","useState","looping","setLooping","imageRef","useRef","useEffect","current","complete","setTimeout","startLoop","h","ref","onLoad","src","src1","alt","src2","COPY","emailOrUsernameInput","passwordInput","resetPassword","loginHeader","wrongLogin","Link","href","loginButton","Login","router","useRouter","emailOrUsername","password","formData","setFormData","redirect","query","reset","useUserData","data","mutate","useApi","result","startsWith","window","location","assign","push","status","callLogin","onSubmit","e","preventDefault","ResetPassword","FormBox","ma","gap","Box","LoginHeader","Error","LabelBox","Input","type","value","required","onChange","currentTarget","style","justifySelf","Primary","RESETCOPY","header","emailInput","button","successHeader","email","setEmail","callResetPassword","setStatus","display","justifyItems","gridGap","Info","onClick"],"mappings":"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","file":"x","sourcesContent":["import styled from '@emotion/styled'\nimport { useState, useEffect, useRef } from 'react'\nimport h from 'react-hyperscript'\n\nexport let TitleImg = styled('img')<{height?: number, width: number}>`\nimage-rendering: pixelated;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: 2px solid;\nheight: ${props=> props.height ? props.height +'px' : 'auto'};\nwidth: ${props=> props.width}px;\n`\n\nexport let AccentImg = styled('img')<{height?: number, width?: number}>`\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: none;\nheight: ${props=> props.height ? props.height +'px' : '100px'};\nwidth: ${props=> props.width ? props.width +'px' : '100px'};\n`\n\nexport function HalfLoopImg(props:\n    {\n        src1:string,\n        src2:string,\n        alt:string,\n        startLoop:number,\n    }) {\n    let [looping, setLooping] = useState(false)\n    let imageRef = useRef<HTMLImageElement>(null)\n    useEffect(()=> {\n      if(imageRef.current?.complete && !looping) {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }\n    }, [])\n  \n    if(!looping) {\n      return h(AccentImg, {ref: imageRef, onLoad: () => {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }, src: props.src1, alt: props.alt })\n    }\n    return h(AccentImg, {src: props.src2, alt: props.alt })\n  }","import h from 'react-hyperscript'\nimport { useState, useEffect } from 'react'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\n\nimport { Box, LabelBox, FormBox } from 'components/Layout'\nimport { Input, Error, Info } from 'components/Form'\nimport { Primary } from 'components/Button'\nimport {AccentImg, HalfLoopImg} from 'components/Images'\nimport { useApi } from 'src/apiHelpers'\nimport { Result, Msg } from 'pages/api/login'\nimport { RequestMsg, RequestResult } from 'pages/api/user/resetPassword/[action]'\nimport { useUserData } from 'src/data'\nimport styled from '@emotion/styled'\n\nconst COPY = {\n  emailOrUsernameInput: \"Email or Username\",\n  passwordInput: \"Password\",\n  resetPassword: \"Reset password\",\n  loginHeader: \"Log In\",\n  wrongLogin: h('div', [\n    \"The email/username and password don't match\", h('br'), \"If you want, you can \",\n    h(Link, { href: '/login?reset' }, h('a', 'reset your password here')),\n    '.'\n  ]),\n  loginButton: \"Log In\"\n}\n\nconst Login = () => {\n  let router = useRouter()\n  let [formData, setFormData] = useState({ emailOrUsername: '', password: '' })\n  let redirect = router.query.redirect as string | null\n  let { reset } = router.query\n  let { data, mutate } = useUserData()\n  let [status, callLogin] = useApi<Msg, Result>([formData], async (result)=> {\n    if (redirect) {\n      if (redirect[0] !== '/' || redirect.startsWith('/sso')) return window.location.assign(redirect)\n      await mutate(result)\n      await router.push(redirect as string)\n    }\n    else await router.push('/dashboard')\n  })\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    callLogin('/api/login', formData)\n  }\n\n  useEffect(()=> {if (data) router.push(redirect as string || '/dashboard')},[data])\n  if (typeof reset !== 'undefined') return h(ResetPassword)\n\n  return h(FormBox, {onSubmit, width: 400, ma: true, gap: 32}, [\n    h(Box, [\n      h(LoginHeader, [\n        h('h1', COPY.loginHeader),\n\n        h(HalfLoopImg, {\n          src1: '/img/door-1.gif',\n          src2: '/img/door-2.gif',\n          alt: \"an animated gif of a entrance to the sparkle void\",\n          startLoop: 1200,\n        }),\n      ]),\n      h('p.textSecondary', ['Or ', h(Link, { href: '/signup' }, h('a', 'sign up')), ' for a new account'])\n    ]),\n\n    status === 'error' ? h(Error, {}, COPY.wrongLogin) : null,\n\n    h(LabelBox, {gap:8}, [\n      h('h4', COPY.emailOrUsernameInput),\n      h(Input, {\n        type: 'text',\n        value: formData.emailOrUsername,\n        required: true,\n        onChange: (e) => setFormData({ ...formData, emailOrUsername: e.currentTarget.value })\n      }),\n    ]),\n\n    h(LabelBox, {gap:8}, [\n      h('h4', COPY.passwordInput),\n      h(Input, {\n        type: 'password',\n        value: formData.password,\n        required: true,\n        onChange: (e) => setFormData({ ...formData, password: e.currentTarget.value })\n      }),\n      h(Link, { href: '/login?reset'}, h('a', {style:{justifySelf:\"right\"}}, COPY.resetPassword))\n    ]),\n    h(Primary, { type: 'submit',status, style:{justifySelf: \"right\"}}, COPY.loginButton),\n  ])\n}\n\nconst RESETCOPY = {\n  header: \"Reset Password\",\n  emailInput: \"Your account email\",\n  button: \"Reset Password\",\n  successHeader: \"Check your Email\"\n}\n\nconst ResetPassword = () => {\n  let [email, setEmail] = useState('')\n  let [status, callResetPassword, setStatus] = useApi<RequestMsg, RequestResult>([email])\n  const onSubmit = async (e:React.FormEvent) => {\n    e.preventDefault()\n    await callResetPassword('/api/user/resetPassword/request', { email })\n  }\n\n  switch (status) {\n    case 'normal':\n    case 'loading':\n      return h(FormBox, {onSubmit, width: 400, ma:true}, [\n        h('h1', RESETCOPY.header),\n        h(LabelBox, {gap:16}, [\n          h('h4', RESETCOPY.emailInput),\n          h(Input, {\n            type: 'email',\n            required: true,\n            value: email,\n            onChange: e => setEmail(e.currentTarget.value)\n          }),\n        ]),\n        h('div', { style: { display: 'grid', justifyItems: 'end', gridGap: '8px' } }, [\n          h(Primary, { type: 'submit', status}, RESETCOPY.button)\n        ])\n      ])\n    case 'success': return h(Box, { gap: 16, width: 400, ma: true }, [\n      h(AccentImg, {src: '/img/plane.gif', alt: \"an animated gif of a paper airplane taking off\"}),\n      h('h1', RESETCOPY.successHeader),\n      'We sent an email with a password reset link to',\n      h(Info, email),\n      'It expires in 30 minutes.',\n      h('br'),\n      h(Primary, {\n        style: { width: '100%' },\n        onClick: () => setStatus('normal')\n      }, 'Send another link')\n    ])\n    case 'error': return h(Box, {width: 400, ma: true}, [h(Error, 'something went wrong, please refresh and try again')])\n  }\n}\nexport const LoginHeader = styled('div') `\n  display:grid;\n  grid-gap:16px;\n  grid-template-columns: auto min-content;\n  align-items: end;\n`\nexport default Login\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/login\",\n        function () {\n          return require(\"private-next-pages/login.ts\");\n        }\n      ]);\n    "]}}