{"code":"(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[10],{\"+ErQ\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return c}));var r=n(\"wTIg\"),a=n(\"mirl\"),c=Object(r.a)(\"span\",{target:\"erqyxa00\"})(\"height:min-content;width:fit-content;font-weight:bold;font-family:Roboto Mono;padding:2px 8px;font-size:0.75rem;border-radius:4px;color:\",(function(e){return e.red?a.d.accentRed:a.d.textSecondary}),\";\",(function(e){return e.borderOnly?\"border: 2px solid \".concat(e.red?a.d.accentRed:a.d.grey55,\";\"):\"background-color: \".concat(a.d.grey90,\";\")}),\"\")},\"AX+V\":function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return k})),n.d(t,\"b\",(function(){return S}));var r=n(\"vJKn\"),a=n.n(r),c=n(\"z7pX\"),i=n(\"cpVT\"),o=n(\"rg98\"),u=n(\"wTIg\"),s=n(\"j+1P\"),l=n.n(s),p=n(\"q1tI\"),d=n(\"5++N\"),f=n(\"0CBl\"),b=n(\"kacE\"),g=n(\"9Hbq\"),h=n(\"FPCx\"),m=n(\"rk+T\"),w=n(\"Hzj1\"),O=n(\"mB65\"),j=n(\"wyA/\"),y=n(\"R1ly\");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=Object(d.h)(),n=t.data,r=t.mutate,i=Object(d.i)().data,u=null===n||void 0===n?void 0:n.watching_courses.find((function(t){return t.course===e.id})),s=Object(p.useState)(!1),g=s[0],h=s[1];return!1===i?l()(T,e):l()(z,[l()(E,{src:u?\"/img/watching.png\":\"/img/not-watching.png\"}),l()(\"div\",[l()(\"p\",[u?\"You get emails about new cohorts!\":\"Want emails on new cohorts?\"]),l()(w.e,{onClick:function(){var t=Object(o.a)(a.a.mark((function t(o){var s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),!g&&i&&n){t.next=3;break}return t.abrupt(\"return\");case 3:return h(!0),t.next=6,Object(f.a)(\"/api/courses/\".concat(e.id,\"/watch\"),{watching:!u});case 6:s=t.sent,h(!1),200===s.status&&r(x(x({},n),{},u?{watching_courses:n.watching_courses.filter((function(t){return t.course!==e.id}))}:{watching_courses:[].concat(Object(c.a)(n.watching_courses),[{course:e.id,email:i.email}])}));case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},g?l()(b.b):u?\"Unsubscribe?\":\"Subscribe!\")])])}function S(e){var t=Object(d.h)(),n=t.data,r=t.mutate,i=Object(d.i)().data,u=Object(p.useState)(!1),s=u[0],b=u[1],g=null===n||void 0===n?void 0:n.watching_courses.find((function(t){return t.course===e.id}));Object(O.a)(Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(f.a)(\"/api/courses/\".concat(e.id,\"/watch\"),{watching:!!g});case 2:case\"end\":return t.stop()}}),t)}))),500,[g]);var m=function(){var t=Object(o.a)(a.a.mark((function t(o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o.preventDefault(),i&&n){t.next=3;break}return t.abrupt(\"return\",b(!0));case 3:r(x(x({},n),{},g?{watching_courses:n.watching_courses.filter((function(t){return t.course!==e.id}))}:{watching_courses:[].concat(Object(c.a)(n.watching_courses),[{course:e.id,email:i.email}])}),!1);case 4:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l()(p.Fragment,[l()(j.a,{display:s,onExit:function(){return b(!1)}},[l()(P,e)]),l()(_,{onClick:m},[l()(h.a,{blue:!!g}),l()(\"small.textSecondary\",[g?\"You get updates about this course!\":l()(\"span\",[l()(\"u\",\"Get updates\"),\" on new cohorts\"])])])])}var _=Object(u.a)(\"button\",{target:\"e7i6c6d0\"})({name:\"1lh8ptr\",styles:\"border:none;background-color:inherit;font-family:inherit;font-size:inherit;display:grid;grid-gap:8px;padding:0;grid-template-columns:min-content auto;&:hover{cursor:pointer;small{color:blue;}path,svg{fill:blue;}}&:focus{outline:none;}text-align:left;\"}),P=function(e){var t=Object(p.useState)(!1),n=t[0],r=t[1],c=Object(p.useState)(\"\"),i=c[0],u=c[1],s=Object(p.useState)(!1),d=s[0],h=s[1],O=function(){var t=Object(o.a)(a.a.mark((function t(c){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!d&&i){t.next=3;break}return t.abrupt(\"return\");case 3:return h(!0),t.next=6,Object(f.a)(\"/api/courses/\".concat(e.id,\"/watch\"),{watching:!n,email:i});case 6:o=t.sent,h(!1),200===o.status&&r(!0);case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l()(g.b,{gap:16},[l()(\"div\",{style:{textAlign:\"center\"}},[n?l()(g.b,[l()(y.a,{src:\"/img/success.gif\",alt:\"A little dragon who is happy for you!\",style:{margin:\"auto auto\"}}),l()(\"b\",\"Thanks! We'll email you as soon as there's a new cohort!\")]):l()(\"b\",\"Leave your email for updates on new cohorts of this course\")]),n?null:l()(g.d,{onSubmit:O},[l()(m.d,{value:i,type:\"email\",placeholder:\"your email\",onChange:function(e){return u(e.currentTarget.value)}}),l()(w.f,{type:\"submit\",disabled:!i,style:{justifySelf:\"center\"}},d?l()(b.b):\"Subscribe\")])])},T=function(e){var t=Object(p.useState)(!1),n=t[0],r=t[1],c=Object(p.useState)(\"\"),i=c[0],u=c[1],s=Object(p.useState)(!1),d=s[0],h=s[1],O=function(){var t=Object(o.a)(a.a.mark((function t(c){var o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),!d&&i){t.next=3;break}return t.abrupt(\"return\");case 3:return h(!0),t.next=6,Object(f.a)(\"/api/courses/\".concat(e.id,\"/watch\"),{watching:!n,email:i});case 6:o=t.sent,h(!1),200===o.status&&r(!0);case 9:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l()(z,[l()(E,{src:n?\"/img/watching.png\":\"/img/not-watching.png\"}),l()(g.b,{gap:8},[l()(\"b\",[n?\"You get emails about new cohorts!\":\"Email me when new cohorts are scheduled\"]),n?null:l()(g.d,{gap:8,onSubmit:O},[l()(m.d,{value:i,type:\"email\",placeholder:\"your email\",onChange:function(e){return u(e.currentTarget.value)}}),l()(w.e,{type:\"submit\",style:{justifySelf:\"right\"}},d?l()(b.b):\"subscribe\")])])])},E=Object(u.a)(\"img\",{target:\"e7i6c6d1\"})({name:\"14vr9xz\",styles:\"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;\"}),z=Object(u.a)(\"div\",{target:\"e7i6c6d2\"})({name:\"1w97zf4\",styles:\"max-width:300px;display:grid;grid-gap:16px;grid-template-columns:min-content auto;\"})},R1ly:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return o})),n.d(t,\"b\",(function(){return u}));var r=n(\"wTIg\"),a=n(\"q1tI\"),c=n(\"j+1P\"),i=n.n(c),o=Object(r.a)(\"img\",{target:\"e1gjxmdy1\"})(\"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;display:block;border:none;height:\",(function(e){return e.height?e.height+\"px\":\"100px\"}),\";width:\",(function(e){return e.width?e.width+\"px\":\"100px\"}),\";\");function u(e){var t=Object(a.useState)(!1),n=t[0],r=t[1],c=Object(a.useRef)(null);return Object(a.useEffect)((function(){var t;null!==(t=c.current)&&void 0!==t&&t.complete&&!n&&setTimeout((function(){return r(!0)}),e.startLoop)}),[]),n?i()(o,{src:e.src2,alt:e.alt}):i()(o,{ref:c,onLoad:function(){setTimeout((function(){return r(!0)}),e.startLoop)},src:e.src1,alt:e.alt})}}}]);","map":{"version":3,"sources":["static/chunks/55ee02187d9ea1a38a94bb124333fe45e8ad86e1.103aac0863169038f9e4.js"],"names":["window","push","+ErQ","module","__webpack_exports__","__webpack_require__","d","Pill","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__","_Tokens__WEBPACK_IMPORTED_MODULE_1__","Object","target","props","red","accentRed","textSecondary","borderOnly","concat","grey55","grey90","AX+V","WatchCourse","WatchCourseInline","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","n","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__","_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__","react_hyperscript__WEBPACK_IMPORTED_MODULE_5__","react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default","react__WEBPACK_IMPORTED_MODULE_6__","src_data__WEBPACK_IMPORTED_MODULE_7__","src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__","components_Loader__WEBPACK_IMPORTED_MODULE_9__","components_Layout__WEBPACK_IMPORTED_MODULE_10__","components_Icons__WEBPACK_IMPORTED_MODULE_11__","components_Form__WEBPACK_IMPORTED_MODULE_12__","components_Button__WEBPACK_IMPORTED_MODULE_13__","src_hooks__WEBPACK_IMPORTED_MODULE_14__","components_Modal__WEBPACK_IMPORTED_MODULE_15__","components_Images__WEBPACK_IMPORTED_MODULE_16__","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","_useUserCourses","userCourses","data","mutate","user","watching","watching_courses","find","c","course","id","_useState","loading","setLoading","EmailWatching","WatchCourseBox","Icon","src","onClick","_onClick","a","mark","_callee","e","res","wrap","_context","prev","next","preventDefault","abrupt","sent","status","x","email","stop","_x","this","_useUserCourses2","_useState2","open","setOpen","_callee2","_context2","_ref2","_callee3","_context3","_x2","display","onExit","EmailWatchingModal","WatchCourseInlineButton","blue","name","styles","_useState3","setWatching","_useState4","setEmail","_useState5","onSubmit","_ref3","_callee4","_context4","_x3","gap","style","textAlign","alt","margin","value","type","placeholder","onChange","currentTarget","disabled","justifySelf","_useState6","_useState7","_useState8","_ref4","_callee5","_context5","_x4","R1ly","AccentImg","HalfLoopImg","react__WEBPACK_IMPORTED_MODULE_1__","react_hyperscript__WEBPACK_IMPORTED_MODULE_2__","react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default","height","width","looping","setLooping","imageRef","_imageRef$current","current","complete","setTimeout","startLoop","src2","ref","onLoad","src1"],"mappings":"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"},"name":"static/chunks/55ee02187d9ea1a38a94bb124333fe45e8ad86e1.103aac0863169038f9e4.js","input":"(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[10],{\n\n/***/ \"+ErQ\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Pill; });\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var _Tokens__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"mirl\");\n\n\nvar Pill = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('span', {\n  target: \"erqyxa00\"\n})(\"height:min-content;width:fit-content;font-weight:bold;font-family:Roboto Mono;padding:2px 8px;font-size:0.75rem;border-radius:4px;color:\", function (props) {\n  return props.red ? _Tokens__WEBPACK_IMPORTED_MODULE_1__[/* colors */ \"d\"].accentRed : _Tokens__WEBPACK_IMPORTED_MODULE_1__[/* colors */ \"d\"].textSecondary;\n}, \";\", function (props) {\n  return props.borderOnly ? \"border: 2px solid \".concat(props.red ? _Tokens__WEBPACK_IMPORTED_MODULE_1__[/* colors */ \"d\"].accentRed : _Tokens__WEBPACK_IMPORTED_MODULE_1__[/* colors */ \"d\"].grey55, \";\") : \"background-color: \".concat(_Tokens__WEBPACK_IMPORTED_MODULE_1__[/* colors */ \"d\"].grey90, \";\");\n}, true ? \"\" : undefined);\n\n/***/ }),\n\n/***/ \"AX+V\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return WatchCourse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return WatchCourseInline; });\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"vJKn\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"z7pX\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"cpVT\");\n/* harmony import */ var _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(\"rg98\");\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var src_data__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(\"5++N\");\n/* harmony import */ var src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(\"0CBl\");\n/* harmony import */ var components_Loader__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(\"kacE\");\n/* harmony import */ var components_Layout__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(\"9Hbq\");\n/* harmony import */ var components_Icons__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(\"FPCx\");\n/* harmony import */ var components_Form__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(\"rk+T\");\n/* harmony import */ var components_Button__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(\"Hzj1\");\n/* harmony import */ var src_hooks__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(\"mB65\");\n/* harmony import */ var components_Modal__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(\"wyA/\");\n/* harmony import */ var components_Images__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(\"R1ly\");\n\n\n\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__[/* default */ \"a\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction WatchCourse(props) {\n  var _useUserCourses = Object(src_data__WEBPACK_IMPORTED_MODULE_7__[/* useUserCourses */ \"h\"])(),\n      userCourses = _useUserCourses.data,\n      mutate = _useUserCourses.mutate;\n\n  var _useUserData = Object(src_data__WEBPACK_IMPORTED_MODULE_7__[/* useUserData */ \"i\"])(),\n      user = _useUserData.data;\n\n  var watching = userCourses === null || userCourses === void 0 ? void 0 : userCourses.watching_courses.find(function (c) {\n    return c.course === props.id;\n  });\n\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loading = _useState[0],\n      setLoading = _useState[1]; // Should probably throttle toggles to this at some point!\n\n\n  if (user === false) return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(EmailWatching, props);\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(WatchCourseBox, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(Icon, {\n    src: watching ? '/img/watching.png' : '/img/not-watching.png'\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(\"div\", [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('p', [watching ? \"You get emails about new cohorts!\" : \"Want emails on new cohorts?\"]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_13__[/* LinkButton */ \"e\"], {\n    onClick: function () {\n      var _onClick = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee(e) {\n        var res;\n        return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                e.preventDefault();\n\n                if (!(loading || !user || !userCourses)) {\n                  _context.next = 3;\n                  break;\n                }\n\n                return _context.abrupt(\"return\");\n\n              case 3:\n                setLoading(true);\n                _context.next = 6;\n                return Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__[/* callApi */ \"a\"])(\"/api/courses/\".concat(props.id, \"/watch\"), {\n                  watching: !watching\n                });\n\n              case 6:\n                res = _context.sent;\n                setLoading(false);\n\n                if (res.status === 200) {\n                  if (watching) mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n                    watching_courses: userCourses.watching_courses.filter(function (x) {\n                      return x.course !== props.id;\n                    })\n                  }));else mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n                    watching_courses: [].concat(Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(userCourses.watching_courses), [{\n                      course: props.id,\n                      email: user.email\n                    }])\n                  }));\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function onClick(_x) {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  }, loading ? react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Loader__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"b\"]) : watching ? \"Unsubscribe?\" : \"Subscribe!\")])]);\n} // This component appears at the bottom of course and club listings. \n\nfunction WatchCourseInline(props) {\n  var _useUserCourses2 = Object(src_data__WEBPACK_IMPORTED_MODULE_7__[/* useUserCourses */ \"h\"])(),\n      userCourses = _useUserCourses2.data,\n      mutate = _useUserCourses2.mutate;\n\n  var _useUserData2 = Object(src_data__WEBPACK_IMPORTED_MODULE_7__[/* useUserData */ \"i\"])(),\n      user = _useUserData2.data;\n\n  var _useState2 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var watching = userCourses === null || userCourses === void 0 ? void 0 : userCourses.watching_courses.find(function (c) {\n    return c.course === props.id;\n  });\n  Object(src_hooks__WEBPACK_IMPORTED_MODULE_14__[/* useDebouncedEffect */ \"a\"])( /*#__PURE__*/Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee2() {\n    return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__[/* callApi */ \"a\"])(\"/api/courses/\".concat(props.id, \"/watch\"), {\n              watching: !!watching\n            });\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), 500, [watching]);\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref2 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee3(e) {\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(!user || !userCourses)) {\n                _context3.next = 3;\n                break;\n              }\n\n              return _context3.abrupt(\"return\", setOpen(true));\n\n            case 3:\n              if (watching) mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n                watching_courses: userCourses.watching_courses.filter(function (x) {\n                  return x.course !== props.id;\n                })\n              }), false);else mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n                watching_courses: [].concat(Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(userCourses.watching_courses), [{\n                  course: props.id,\n                  email: user.email\n                }])\n              }), false);\n\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onClick(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // Should probably throttle toggles to this at some point!\n\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(react__WEBPACK_IMPORTED_MODULE_6__[\"Fragment\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Modal__WEBPACK_IMPORTED_MODULE_15__[/* Modal */ \"a\"], {\n    display: open,\n    onExit: function onExit() {\n      return setOpen(false);\n    }\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(EmailWatchingModal, props)]), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(WatchCourseInlineButton, {\n    onClick: onClick\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Icons__WEBPACK_IMPORTED_MODULE_11__[/* Bell */ \"a\"], {\n    blue: !!watching\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('small.textSecondary', [watching ? \"You get updates about this course!\" : react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('span', [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('u', \"Get updates\"), \" on new cohorts\"])])])]);\n}\n\nvar WatchCourseInlineButton = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])('button', {\n  target: \"e7i6c6d0\"\n})(true ? {\n  name: \"1lh8ptr\",\n  styles: \"border:none;background-color:inherit;font-family:inherit;font-size:inherit;display:grid;grid-gap:8px;padding:0;grid-template-columns:min-content auto;&:hover{cursor:pointer;small{color:blue;}path,svg{fill:blue;}}&:focus{outline:none;}text-align:left;\"\n} : undefined); // Inline Watch Button pops this modal to collect emails for users who are not logged in \n\n\nvar EmailWatchingModal = function EmailWatchingModal(props) {\n  var _useState3 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      watching = _useState3[0],\n      setWatching = _useState3[1];\n\n  var _useState4 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(''),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loading = _useState5[0],\n      setLoading = _useState5[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref3 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee4(e) {\n      var res;\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(loading || !email)) {\n                _context4.next = 3;\n                break;\n              }\n\n              return _context4.abrupt(\"return\");\n\n            case 3:\n              setLoading(true);\n              _context4.next = 6;\n              return Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__[/* callApi */ \"a\"])(\"/api/courses/\".concat(props.id, \"/watch\"), {\n                watching: !watching,\n                email: email\n              });\n\n            case 6:\n              res = _context4.sent;\n              setLoading(false);\n\n              if (res.status === 200) {\n                setWatching(true);\n              }\n\n            case 9:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onSubmit(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* Box */ \"b\"], {\n    gap: 16\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('div', {\n    style: {\n      textAlign: 'center'\n    }\n  }, [watching ? react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* Box */ \"b\"], [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Images__WEBPACK_IMPORTED_MODULE_16__[/* AccentImg */ \"a\"], {\n    src: '/img/success.gif',\n    alt: \"A little dragon who is happy for you!\",\n    style: {\n      margin: 'auto auto'\n    }\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('b', \"Thanks! We'll email you as soon as there's a new cohort!\")]) : react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('b', \"Leave your email for updates on new cohorts of this course\")]), watching ? null : react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* FormBox */ \"d\"], {\n    onSubmit: onSubmit\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_12__[/* Input */ \"d\"], {\n    value: email,\n    type: 'email',\n    placeholder: 'your email',\n    onChange: function onChange(e) {\n      return setEmail(e.currentTarget.value);\n    }\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_13__[/* Primary */ \"f\"], {\n    type: 'submit',\n    disabled: !email,\n    style: {\n      justifySelf: 'center'\n    }\n  }, loading ? react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Loader__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"b\"]) : \"Subscribe\")])]);\n}; // END Inline Watch Button Modal\n// END Inline Watch Button\n\n\nvar EmailWatching = function EmailWatching(props) {\n  var _useState6 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      watching = _useState6[0],\n      setWatching = _useState6[1];\n\n  var _useState7 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(''),\n      email = _useState7[0],\n      setEmail = _useState7[1];\n\n  var _useState8 = Object(react__WEBPACK_IMPORTED_MODULE_6__[\"useState\"])(false),\n      loading = _useState8[0],\n      setLoading = _useState8[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref4 = Object(_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__[/* default */ \"a\"])( /*#__PURE__*/_Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function _callee5(e) {\n      var res;\n      return _Users_ayooluwaalfonso_code_krakeneduapp_node_modules_next_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(loading || !email)) {\n                _context5.next = 3;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 3:\n              setLoading(true);\n              _context5.next = 6;\n              return Object(src_apiHelpers__WEBPACK_IMPORTED_MODULE_8__[/* callApi */ \"a\"])(\"/api/courses/\".concat(props.id, \"/watch\"), {\n                watching: !watching,\n                email: email\n              });\n\n            case 6:\n              res = _context5.sent;\n              setLoading(false);\n\n              if (res.status === 200) {\n                setWatching(true);\n              }\n\n            case 9:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function onSubmit(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(WatchCourseBox, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(Icon, {\n    src: watching ? '/img/watching.png' : '/img/not-watching.png'\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* Box */ \"b\"], {\n    gap: 8\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()('b', [watching ? \"You get emails about new cohorts!\" : \"Email me when new cohorts are scheduled\"]), watching ? null : react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Layout__WEBPACK_IMPORTED_MODULE_10__[/* FormBox */ \"d\"], {\n    gap: 8,\n    onSubmit: onSubmit\n  }, [react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Form__WEBPACK_IMPORTED_MODULE_12__[/* Input */ \"d\"], {\n    value: email,\n    type: 'email',\n    placeholder: 'your email',\n    onChange: function onChange(e) {\n      return setEmail(e.currentTarget.value);\n    }\n  }), react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Button__WEBPACK_IMPORTED_MODULE_13__[/* LinkButton */ \"e\"], {\n    type: 'submit',\n    style: {\n      justifySelf: 'right'\n    }\n  }, loading ? react_hyperscript__WEBPACK_IMPORTED_MODULE_5___default()(components_Loader__WEBPACK_IMPORTED_MODULE_9__[/* default */ \"b\"]) : \"subscribe\")])])]);\n};\n\nvar Icon = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])('img', {\n  target: \"e7i6c6d1\"\n})(true ? {\n  name: \"14vr9xz\",\n  styles: \"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;\"\n} : undefined);\n\nvar WatchCourseBox = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"])('div', {\n  target: \"e7i6c6d2\"\n})(true ? {\n  name: \"1w97zf4\",\n  styles: \"max-width:300px;display:grid;grid-gap:16px;grid-template-columns:min-content auto;\"\n} : undefined);\n\n/***/ }),\n\n/***/ \"R1ly\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export TitleImg */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return AccentImg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return HalfLoopImg; });\n/* harmony import */ var _emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(\"wTIg\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(\"q1tI\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(\"j+1P\");\n/* harmony import */ var react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_hyperscript__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nvar TitleImg = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('img', {\n  target: \"e1gjxmdy0\"\n})(\"image-rendering:pixelated;image-rendering:crisp-edges;display:block;border:2px solid;height:\", function (props) {\n  return props.height ? props.height + 'px' : 'auto';\n}, \";width:\", function (props) {\n  return props.width;\n}, \"px;\" + (true ? \"\" : undefined));\nvar AccentImg = /*#__PURE__*/Object(_emotion_styled_base__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])('img', {\n  target: \"e1gjxmdy1\"\n})(\"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;display:block;border:none;height:\", function (props) {\n  return props.height ? props.height + 'px' : '100px';\n}, \";width:\", function (props) {\n  return props.width ? props.width + 'px' : '100px';\n}, \";\" + (true ? \"\" : undefined));\nfunction HalfLoopImg(props) {\n  var _useState = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])(false),\n      looping = _useState[0],\n      setLooping = _useState[1];\n\n  var imageRef = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useRef\"])(null);\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(function () {\n    var _imageRef$current;\n\n    if ((_imageRef$current = imageRef.current) !== null && _imageRef$current !== void 0 && _imageRef$current.complete && !looping) {\n      setTimeout(function () {\n        return setLooping(true);\n      }, props.startLoop);\n    }\n  }, []);\n\n  if (!looping) {\n    return react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default()(AccentImg, {\n      ref: imageRef,\n      onLoad: function onLoad() {\n        setTimeout(function () {\n          return setLooping(true);\n        }, props.startLoop);\n      },\n      src: props.src1,\n      alt: props.alt\n    });\n  }\n\n  return react_hyperscript__WEBPACK_IMPORTED_MODULE_2___default()(AccentImg, {\n    src: props.src2,\n    alt: props.alt\n  });\n}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/components/Pill.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/Course/WatchCourse.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/Images.ts"],"names":["Pill","props","red","colors","accentRed","textSecondary","borderOnly","grey55","grey90","WatchCourse","useUserCourses","userCourses","data","mutate","useUserData","user","watching","watching_courses","find","c","course","id","useState","loading","setLoading","h","EmailWatching","WatchCourseBox","Icon","src","LinkButton","onClick","e","preventDefault","callApi","res","status","filter","x","email","Loader","WatchCourseInline","open","setOpen","useDebouncedEffect","Fragment","Modal","display","onExit","EmailWatchingModal","WatchCourseInlineButton","Bell","blue","setWatching","setEmail","onSubmit","Box","gap","style","textAlign","AccentImg","alt","margin","FormBox","Input","value","type","placeholder","onChange","currentTarget","Primary","disabled","justifySelf","TitleImg","height","width","HalfLoopImg","looping","setLooping","imageRef","useRef","useEffect","current","complete","setTimeout","startLoop","ref","onLoad","src1","src2"],"mappings":"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","file":"x","sourcesContent":["import styled from '@emotion/styled'\nimport {colors} from './Tokens'\nexport const Pill = styled('span')<{borderOnly?: boolean, red?: boolean}>`\nheight: min-content;\nwidth: fit-content;\nfont-weight: bold;\nfont-family: Roboto Mono;\npadding: 2px 8px;\nfont-size: 0.75rem;\nborder-radius: 4px;\ncolor: ${props => props.red ? colors.accentRed : colors.textSecondary};\n${props=> props.borderOnly\n? `border: 2px solid ${props.red ? colors.accentRed : colors.grey55};`\n: `background-color: ${colors.grey90};`\n}\n`\n","import styled from '@emotion/styled'\nimport h from 'react-hyperscript'\nimport { Fragment, useState } from 'react'\n\nimport { useUserData, useUserCourses } from 'src/data'\nimport { WatchCourseMsg, WatchCourseResult } from 'pages/api/courses/[id]/watch'\nimport { callApi } from 'src/apiHelpers'\nimport Loader  from 'components/Loader'\nimport { Box, FormBox } from 'components/Layout'\nimport {Bell} from 'components/Icons'\nimport { Input } from 'components/Form'\nimport { LinkButton, Primary } from 'components/Button'\nimport { useDebouncedEffect } from 'src/hooks'\nimport { Modal } from 'components/Modal'\nimport { AccentImg } from 'components/Images'\n\nexport function WatchCourse(props:{id: number}) {\n  let {data: userCourses, mutate} = useUserCourses()\n  let {data: user} = useUserData()\n  let watching = userCourses?.watching_courses.find(c=> c.course === props.id)\n  let [loading, setLoading] = useState(false)\n\n  // Should probably throttle toggles to this at some point!\n  if(user===false) return h(EmailWatching, props)\n  return h(WatchCourseBox, [\n    h(Icon, {src: watching ? '/img/watching.png' : '/img/not-watching.png'}),\n    h(\"div\", [\n      h('p', [watching ? \"You get emails about new cohorts!\" : \"Want emails on new cohorts?\"]),\n      h(LinkButton, {onClick:async (e: React.MouseEvent)=>{\n        e.preventDefault()\n        if(loading || !user || !userCourses) return\n        setLoading(true)\n        let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching})\n        setLoading(false)\n        if(res.status === 200) {\n          if(watching) mutate({...userCourses, watching_courses: userCourses.watching_courses.filter(x=>x.course !== props.id)})\n          else mutate({...userCourses, watching_courses: [...userCourses.watching_courses, {course: props.id, email: user.email}]})\n        }\n      }}, loading ? h(Loader) : watching? \"Unsubscribe?\" : \"Subscribe!\" )\n    ])\n  ])\n}\n\n// This component appears at the bottom of course and club listings. \nexport function WatchCourseInline(props:{id:number}) {\n  let {data: userCourses, mutate} = useUserCourses()\n  let {data: user} = useUserData()\n  let [open, setOpen] = useState(false)\n  let watching = userCourses?.watching_courses.find(c=> c.course === props.id)\n\n  useDebouncedEffect(async ()=>{\n    await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !!watching})\n  }, 500, [watching])\n\n  const onClick = async (e:React.MouseEvent)=>{\n    e.preventDefault()\n    if(!user || !userCourses) return setOpen(true)\n    if(watching) mutate({...userCourses, watching_courses: userCourses.watching_courses.filter(x=>x.course !== props.id)}, false)\n    else mutate({...userCourses, watching_courses: [...userCourses.watching_courses, {course: props.id, email: user.email}]}, false)\n  }\n\n  // Should probably throttle toggles to this at some point!\n  return h(Fragment, [\n    h(Modal, {display: open, onExit:()=>setOpen(false)}, [\n      h(EmailWatchingModal, props)\n    ]),\n    h(WatchCourseInlineButton, {onClick}, [\n      h(Bell, {blue: !!watching}),\n      h('small.textSecondary', [watching ? \"You get updates about this course!\" : h('span', [h('u', \"Get updates\",), \" on new cohorts\"])])\n    ])\n  ])\n}\n\nconst WatchCourseInlineButton = styled('button')`\nborder: none;\nbackground-color: inherit;\nfont-family: inherit;\nfont-size: inherit;\ndisplay: grid;\ngrid-gap: 8px;\npadding: 0;\ngrid-template-columns: min-content auto;\n&:hover {\n  cursor: pointer;\n  small {\n    color: blue;\n  }\n  path, svg {\n    fill: blue;\n  }\n}\n&:focus {\n  outline: none;\n}\n\ntext-align: left;\n`\n\n// Inline Watch Button pops this modal to collect emails for users who are not logged in \nlet EmailWatchingModal = (props: {id:number}) => {\n  let [watching, setWatching] = useState(false)\n  let [email, setEmail] = useState('')\n  let [loading, setLoading] = useState(false)\n\n  const onSubmit = async (e:React.FormEvent) =>{\n    e.preventDefault()\n    if(loading || !email) return\n    setLoading(true)\n    let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching, email: email})\n    setLoading(false)\n    if(res.status === 200) {\n      setWatching(true)\n    }\n  }\n\n  return  h(Box, {gap: 16}, [\n    h('div', {style:{textAlign:'center'}}, [watching \n      ? h(Box, [h(AccentImg, {src: '/img/success.gif', alt: \"A little dragon who is happy for you!\", style:{margin:'auto auto'}}),\n        h('b', \"Thanks! We'll email you as soon as there's a new cohort!\"), \n      ])\n      : h('b', \"Leave your email for updates on new cohorts of this course\"),\n    ]),\n    watching ? null : h(FormBox, {onSubmit}, [\n      h(Input, {value:email, type: 'email', placeholder: 'your email', onChange:(e)=>setEmail(e.currentTarget.value)}),\n      h(Primary, {type: 'submit', disabled: !email, style:{justifySelf:'center'}}, loading ? h(Loader) : \"Subscribe\" )\n    ])\n  ])\n\n}\n// END Inline Watch Button Modal\n\n// END Inline Watch Button\n\nlet EmailWatching = (props:{id: number})=>{\n  let [watching, setWatching] = useState(false)\n  let [email, setEmail] = useState('')\n  let [loading, setLoading] = useState(false)\n\n  const onSubmit = async (e:React.FormEvent) =>{\n    e.preventDefault()\n    if(loading || !email) return\n    setLoading(true)\n    let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching, email: email})\n    setLoading(false)\n    if(res.status === 200) {\n      setWatching(true)\n    }\n  }\n  return h(WatchCourseBox, [\n    h(Icon, {src: watching ? '/img/watching.png' : '/img/not-watching.png'}),\n    h(Box, {gap: 8}, [\n      h('b', [watching ? \"You get emails about new cohorts!\" : \"Email me when new cohorts are scheduled\"]),\n      watching ? null : h(FormBox, {gap:8, onSubmit}, [\n        h(Input, {value:email, type: 'email', placeholder: 'your email', onChange:(e)=>setEmail(e.currentTarget.value)}),\n        h(LinkButton, {type: 'submit', style:{justifySelf:'right'}}, loading ? h(Loader) : \"subscribe\" )\n      ])\n    ])\n  ])\n}\n\nconst Icon = styled('img')`\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\n`\n\nconst WatchCourseBox = styled('div')`\nmax-width: 300px;\ndisplay: grid;\ngrid-gap: 16px;\ngrid-template-columns: min-content auto;\n`\n","import styled from '@emotion/styled'\nimport { useState, useEffect, useRef } from 'react'\nimport h from 'react-hyperscript'\n\nexport let TitleImg = styled('img')<{height?: number, width: number}>`\nimage-rendering: pixelated;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: 2px solid;\nheight: ${props=> props.height ? props.height +'px' : 'auto'};\nwidth: ${props=> props.width}px;\n`\n\nexport let AccentImg = styled('img')<{height?: number, width?: number}>`\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: none;\nheight: ${props=> props.height ? props.height +'px' : '100px'};\nwidth: ${props=> props.width ? props.width +'px' : '100px'};\n`\n\nexport function HalfLoopImg(props:\n    {\n        src1:string,\n        src2:string,\n        alt:string,\n        startLoop:number,\n    }) {\n    let [looping, setLooping] = useState(false)\n    let imageRef = useRef<HTMLImageElement>(null)\n    useEffect(()=> {\n      if(imageRef.current?.complete && !looping) {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }\n    }, [])\n  \n    if(!looping) {\n      return h(AccentImg, {ref: imageRef, onLoad: () => {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }, src: props.src1, alt: props.alt })\n    }\n    return h(AccentImg, {src: props.src2, alt: props.alt })\n  }"]}}