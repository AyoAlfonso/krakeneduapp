{"code":"_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{ECPk:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"__N_SSG\",(function(){return H}));var a=n(\"vJKn\"),r=n.n(a),c=n(\"z7pX\"),o=n(\"cpVT\"),i=n(\"rg98\"),s=n(\"xvhg\"),u=n(\"wTIg\"),l=n(\"j+1P\"),p=n.n(l),d=n(\"20a2\"),m=n(\"YFqc\"),h=n.n(m),f=n(\"q1tI\"),g=n(\"lnWS\"),b=n(\"0CBl\"),y=n(\"5++N\"),v=n(\"kacE\"),j=n(\"9Hbq\"),O=n(\"rk+T\"),w=n(\"Hzj1\"),S=n(\"mirl\");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e){var t=Object(y.d)(e.course),n=t.data,a=t.mutate,r=Object(f.useState)({name:\"\",type:\"absolute\",limited_uses:!1,amount:0,max_redeems:void 0}),c=r[0],o=r[1],i=Object(b.b)([c,a],(function(e){n&&a(n.concat([e]))})),u=Object(s.a)(i,2),l=u[0],d=u[1];return p()(j.b,{gap:32},[p()(j.b,{width:640,padding:32,style:{backgroundColor:S.d.accentPeach}},[p()(j.d,{gap:32,onSubmit:function(t){t.preventDefault(),d(\"/api/courses/\".concat(e.course,\"/discounts\"),c)},width:400},[p()(\"h3\",\"Add a New Discount\"),p()(j.e,{gap:8},[p()(\"h4\",\"Discount Name\"),p()(O.d,{type:\"text\",required:!0,value:c.name,onChange:function(e){return o(_(_({},c),{},{name:e.currentTarget.value}))}})]),p()(j.b,{h:!0,gap:64},[p()(j.e,{gap:8},[p()(\"h4\",\"Type\"),p()(\"div\",{style:{alignSelf:\"center\",padding:\"13px 0px\"}},[p()(O.f,{h:!0,name:\"type\",selected:c.type,onChange:function(e){o(_(_({},c),{},{type:e}))},items:[{value:\"percentage\",component:p()(\"span\",\"%\")},{value:\"absolute\",component:p()(\"span\",\"$\")}]})])]),p()(j.e,{gap:8},[p()(\"h4\",\"Amount Off\"),p()(O.d,{type:\"number\",value:c.amount,onChange:function(e){return o(_(_({},c),{},{amount:parseInt(e.currentTarget.value)}))}})])]),p()(j.e,{gap:8},[p()(\"h4\",\"Usage Restrictions\"),p()(O.f,{name:\"usage-restrictions\",selected:c.limited_uses?\"limited\":\"unlimited\",onChange:function(e){o(_(_({},c),{},{limited_uses:\"limited\"===e}))},items:[{value:\"unlimited\",component:p()(\"p\",\"Unlimited uses. Discount is valid until you cancel it\")},{value:\"limited\",component:p()(\"p\",\"Limited uses. Discount is only valid for a number of uses\")}]})]),c.limited_uses?p()(j.e,{gap:8},[p()(\"h4\",\"Max uses\"),p()(O.d,{type:\"number\",value:c.max_redeems,onChange:function(e){o(_(_({},c),{},{max_redeems:parseInt(e.currentTarget.value)}))}})]):null,p()(w.f,{type:\"submit\",status:l},\"Create New Discount\")])]),p()(\"h2\",\"Discounts\"),p()(\"p\",\"Copy the Share Links below and send them to people to offer them a discounted rate on your course!)\"),n?p()(j.b,{gap:32},n.map((function(e){return p()(\"div\",[p()(C,{discount:e,delete:function(){n&&a(n.filter((function(t){return t.code!==e.code})))}})])}))):p()(v.a)])}function C(e){var t=Object(f.useRef)(null),n=Object(b.b)([e],e.delete),a=Object(s.a)(n,2),r=a[0],c=a[1];return p()(j.b,{gap:8},[p()(\"h3\",e.discount.name),p()(\"div\",[p()(\"span.textSecondary\",\"\".concat(\"absolute\"===e.discount.type?\"$\"+e.discount.amount:e.discount.amount+\"%\",\" off\")),p()(\"span.textSecondary\",\" | Redeemed \".concat(0===e.discount.max_redeems?e.discount.redeems:\"\".concat(e.discount.redeems,\"/\").concat(e.discount.max_redeems),\" times\"))]),p()(j.b,{h:!0,style:{alignItems:\"center\"}},[p()(O.d,{onFocus:function(e){e.currentTarget.selectionEnd=e.currentTarget.value.length},style:{width:\"360px\",textDecoration:\"underline\",color:\"blue\"},readOnly:!0,value:\"https://app.krakenedu.com/discount?discount=\".concat(e.discount.code),ref:t}),p()(w.g,{disabled:0!==e.discount.max_redeems&&e.discount.max_redeems<=e.discount.redeems,onClick:function(e){e.preventDefault(),t.current&&(t.current.select(),document.execCommand(\"copy\"),t.current.selectionEnd=t.current.selectionStart,t.current.blur())}},\"Copy\"),p()(w.b,{status:r,onClick:function(t){t.preventDefault(),c(\"/api/discounts/\"+e.discount.code,null,\"DELETE\")}},\"Delete\")])])}var E=n(\"+Xui\"),D=n(\"mB65\"),P=n(\"wyA/\"),T=n(\"ptY8\");var I=[\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Lightbulb.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Sparkle.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Picture.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Video.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MusicNote.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Potion.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Plant.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Puzzle.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Chart.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MoneyBag.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Camera.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Numbers.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Crayon.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/House.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Book.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Present.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Earth.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Shapes.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Heart.png\",\"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/SpeechBubble.png\"],N=function(e){var t=e.icons.filter((function(e){return!!e}));return p()(j.b,{width:400},[p()(q,I.map((function(n){return p()(\"img\",{src:n,alt:n.split(\"/\")[n.length-1],key:n,onClick:function(){var a=t.slice(0);3===a.length?a=[n]:a[a.length]=n,e.setIcons(a)}})}))),p()(j.b,{gap:8},[p()(A,t.map((function(e,t){return p()(\"img\",{key:t,src:e})}))),p()(w.e,{style:{justifySelf:\"right\"},type:\"reset\",onClick:function(){e.setIcons([])}},\"Clear\")])])},q=Object(u.a)(\"div\",{target:\"e1ovbsl70\"})({name:\"1ug0e06\",styles:\"display:grid;grid-template-columns:repeat(auto-fill,32px);grid-gap:32px;\"}),A=Object(u.a)(\"div\",{target:\"e1ovbsl71\"})({name:\"1likbx0\",styles:\"box-sizing:border-box;height:64px;background-color:white;display:grid;grid-template-columns:repeat(3,32px);justify-content:center;grid-gap:16px;padding:16px;width:100%;border:1px solid;\"}),z=n(\"FPCx\"),L=n(\"+ErQ\");function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R={cancelCohort:p()(\"p.textSecondary\",[\"Contact us at \",p()(\"a\",{href:\"mailto:contact@krakenedu.com\"},\"contact@krakenedu.com\"),\" to cancel a cohort. Optionally,  let us know the reason you\\u2019re cancelling (we\\u2019re curious \\ud83e\\udd13)\"])};function B(e){var t=Object(y.b)(e.id,e.course||void 0),n=t.data,a=t.mutate,r=Object(y.i)().data,c=Object(d.useRouter)();return Object(f.useEffect)((function(){void 0!==r&&(n&&(!!n.course_maintainers.find((function(e){return r&&e.maintainer===r.id}))||c.push(\"/\")))}),[r,n]),n&&r?p()(j.b,{gap:64,width:640},[p()(j.b,{gap:16},[p()(w.a,{href:\"/courses/[slug]/[id]\",as:\"/courses/\".concat(c.query.slug,\"/\").concat(c.query.id)},\"club\"===n.type?\"Club\":\"Course\"),p()(\"h1\",\"Settings\"),p()(\"p.big\",[\"KrakenEdu is new and some things can only be done manually for now! To add a new maintainer, remove a cohort, or anything else you don't see here, please email \",p()(\"a\",{href:\"mailto:help@krakenedu.com\"},\"help@krakenedu.com\")])]),p()(g.b,{tabs:{Cohorts:p()(Y,{course:n,mutate:a}),Details:p()(K,{course:n,mutate:a}),Invites:p()(J,{course:n,mutate:a}),Templates:p()(G,{course:n,mutate:a}),Discounts:p()(x,{course:n.id})}})]):p()(v.a)}var H=!0;t.default=function(e){return e.notFound?p()(E.default):p()(B,e)};function Y(e){var t=Object(y.i)().data;return p()(j.b,{gap:32},[p()(X,e),p()(j.f),p()(j.b,{gap:16},[p()(\"h3\",\"Cancel a Cohort\"),R.cancelCohort]),p()(j.b,[p()(\"h3\",\"All Cohorts\"),p()(j.b,{gap:32},e.course.course_cohorts.map((function(n){var a=!!n.cohort_facilitators.find((function(e){return t&&e.facilitator===t.id}));return p()(T.Cohort,{cohort:n,enrolled:!1,facilitating:a,slug:e.course.slug,cohort_max_size:e.course.cohort_max_size,invited:!0})})))])])}var X=function(e){var t=Object(f.useState)({start_date:\"\",start_time:\"\",facilitators:[]}),n=t[0],a=t[1],o=Object(b.b)([n]),u=Object(s.a)(o,2),l=u[0],d=u[1],m=(new Date).toLocaleDateString(\"en-us\",{timeZoneName:\"short\"}).split(\", \")[1],h=function(){var t=Object(i.a)(r.a.mark((function t(a){var o,i,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),o=n.start_date.split(\"-\").map((function(e){return parseInt(e)})),i=n.start_time.split(\":\").map((function(e){return parseInt(e)})),s=new Date(o[0],o[1]-1,o[2],i[0],i[1]),t.next=6,d(\"/api/cohorts\",{courseId:e.course.id,facilitators:n.facilitators,start:s.toISOString()});case 6:200===(u=t.sent).status&&e.mutate(F(F({},e.course),{},{course_cohorts:[].concat(Object(c.a)(e.course.course_cohorts),[F(F({},u.result),{},{people_in_cohorts:[],courses:{name:e.course.name}})])}));case 8:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return p()(j.d,{onSubmit:h,gap:32,style:{width:400}},[p()(\"h2\",\"Add a new Cohort\"),\"error\"===l?p()(O.b,\"An error occured\"):null,\"success\"===l?p()(O.c,\"Cohort created!\"):null,p()(j.e,{gap:8},[p()(\"h4\",\"Facilitator\"),p()(O.g,{required:!0,onChange:function(e){return a(F(F({},n),{},{facilitators:[].concat(Object(c.a)(n.facilitators),[e.currentTarget.value])}))}},[p()(\"option\",{value:\"\"},\"Select a facilitator\")].concat(Object(c.a)(e.course.course_maintainers.map((function(e){return p()(\"option\",{value:e.maintainer},e.people.display_name||e.people.username)}))||[]))),p()(j.b,{h:!0},n.facilitators.map((function(t){var r=e.course.course_maintainers.find((function(e){return e.maintainer===t}));return r?p()(L.a,{},p()(j.b,{h:!0,gap:4},[p()(\"p\",r.people.display_name||r.people.username),p()(w.d,{onClick:function(e){e.preventDefault(),a(F(F({},n),{},{facilitators:n.facilitators.filter((function(e){return e!==t}))}))}},p()(z.d,{width:10,height:10}))])):null})))]),p()(j.b,{h:!0,gap:32},[p()(j.e,{gap:8},[p()(\"h4\",\"Start Date\"),p()(O.d,{type:\"date\",placeholder:\"yyyy-mm-dd\",required:!0,value:n.start_date,onChange:function(e){return a(F(F({},n),{},{start_date:e.currentTarget.value}))}})]),p()(j.e,{gap:8},[p()(\"h4\",\"Start time (\".concat(m,\")\")),p()(O.d,{type:\"time\",placeholder:\"23:59\",required:!0,value:n.start_time,onChange:function(e){return a(F(F({},n),{},{start_time:e.currentTarget.value}))}})])]),p()(w.f,{style:{justifySelf:\"right\"},status:l,type:\"submit\",success:\"success\"===l,disabled:!n.start_date||0===n.facilitators.length},\"Add a new Cohort\")])},J=function(e){var t=Object(f.useState)(\"\"),n=t[0],a=t[1],c=Object(f.useState)(e.course.invite_only),o=c[0],u=c[1],l=Object(f.useState)(null),d=l[0],m=l[1],h=Object(b.b)([n],(function(){return a(\"\")})),g=Object(s.a)(h,2),y=g[0],v=g[1],S=Object(b.b)([]),k=Object(s.a)(S,2),_=k[0],x=k[1];Object(D.a)(Object(i.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.includes(\"@\")&&\"\"!==n){e.next=2;break}return e.abrupt(\"return\",m(null));case 2:return e.next=4,Object(b.a)(\"/api/get/username/\"+n);case 4:404===e.sent.status?m(!1):m(!0);case 6:case\"end\":return e.stop()}}),e)}))),500,[n]),Object(f.useEffect)((function(){return m(null)}),[n]);var C=function(){var t=Object(i.a)(r.a.mark((function t(a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),c=n.includes(\"@\")?{email:n}:{username:n},v(\"/api/courses/\".concat(e.course.id,\"/invite\"),F({},c));case 3:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=function(){var t=Object(i.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,x(\"/api/courses/\".concat(e.course.id),{invite_only:o});case 3:200===(a=t.sent).status&&e.mutate(F(F({},e.course),a.result));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return p()(j.b,{gap:16,width:400},[p()(\"h2\",\"Invites\"),p()(j.b,{gap:32},[p()(j.d,{onSubmit:E},[p()(j.e,{gap:8,width:400},[p()(\"div\",[p()(\"h4\",\"Invite Only\"),p()(\"small.textSecondary\",\"Learners cannot enroll in an invite only course unless you have sent them an\\ninvite. The invite allows them enroll in any cohort and does not expire.\")]),p()(O.a,[p()(O.d,{type:\"checkbox\",checked:o,onChange:function(e){return u(e.currentTarget.checked)}}),\"Make this course invite only\"])]),p()(w.f,{style:{justifySelf:\"right\"},status:_,type:\"submit\",disabled:e.course.invite_only===o},\"Change\")]),e.course.invite_only?p()(j.d,{onSubmit:C,gap:32,width:400},[p()(j.e,{gap:8},[p()(\"h4\",\"Invite someone to enroll\"),p()(\"small.textSecondary\",\"Invite someone with their username or email. Invitee does not need a KrakenEdu account to be invited, but they will need an account to enroll.\"),p()(O.d,{type:n.includes(\"@\")?\"email\":\"text\",value:n,onChange:function(e){return a(e.currentTarget.value)}}),null===d?null:d?p()(\"span.accentSuccess\",\"Great, found @\"+n):p()(\"span.accentRed\",\"We can't find a user with that username\")]),p()(w.f,{style:{justifySelf:\"right\"},status:y,type:\"submit\",disabled:!n.includes(\"@\")&&!0!==d},\"Invite\")]):null])])},K=function(e){var t=Object(D.b)({name:e.course.name,card_image:e.course.card_image,cohort_max_size:e.course.cohort_max_size,description:e.course.description,prerequisites:e.course.prerequisites,cost:e.course.cost,duration:e.course.duration},[e.course]),n=t.state,a=t.form,c=t.changed,o=t.reset,u=t.setState,l=Object(b.b)([]),d=Object(s.a)(l,2),m=d[0],h=d[1],f=function(){var t=Object(i.a)(r.a.mark((function t(a){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),t.next=3,h(\"/api/courses/\".concat(e.course.id),F({},n));case 3:200===(c=t.sent).status&&e.mutate(F(F({},e.course),c.result));case 5:case\"end\":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return p()(j.d,{onSubmit:f,gap:32,style:{width:400}},[p()(\"h2\",\"Edit Details\"),p()(j.e,{gap:8},[p()(\"h4\",\"Name\"),p()(O.d,F({type:\"text\",maxLength:50},a.name))]),p()(j.e,{gap:8},[p()(\"h4\",\"Cost (USD)\"),p()(O.d,F({type:\"number\"},a.cost))]),\"course\"===e.course.type?null:p()(j.b,[p()(\"div\",[p()(\"h4\",\"Emojis\"),p()(\"small.textSecondary\",\"Select three emojis to describe your club! Repeats ok.\")]),p()(N,{icons:n.card_image.split(\",\"),setIcons:function(e){u(F(F({},n),{},{card_image:e.join(\",\")}))}})]),p()(j.e,{gap:8},[p()(\"div\",[p()(\"h4\",\"Cohort Size\"),p()(\"small.textSecondary\",\"How many learners can enroll in a cohort. Set to 0 for no limit.\")]),p()(O.d,F({type:\"number\",required:!0},a.cohort_max_size))]),p()(j.e,{gap:8},[p()(\"h4\",\"Description\"),p()(O.h,F({maxLength:200},a.description))]),p()(j.e,{gap:8},[p()(\"h4\",\"Prerequisites\"),p()(O.h,a.prerequisites)]),p()(j.e,{gap:8},[p()(\"h4\",\"Duration\"),p()(O.d,a.duration)]),p()(W,[p()(w.b,{disabled:!c,onClick:function(e){e.preventDefault(),o()}},\"Discard Changes\"),p()(w.f,{type:\"submit\",disabled:!c,status:m},\"Save Changes\")]),p()(U,e)])};function U(e){var t=Object(f.useState)(\"\"),n=t[0],a=t[1];return p()(j.b,[p()(\"h3\",\"Maintainers\")].concat(Object(c.a)(e.course.course_maintainers.map((function(e){return e.people.display_name||e.people.username}))),[p()(\"h4\",\"Add a maintainer\"),p()(j.d,[p()(O.d,{value:n,onChange:function(e){return a(e.currentTarget.value)}}),p()(w.f,{type:\"submit\"},\"Add\")])]))}function G(e){return p()(j.b,{gap:32},[p()(j.b,[p()(\"p\",\"Each cohort comes with its own community space, and templates to help you populate its structure with topics.\"),p()(\"ul\",{style:{margin:\"auto 0\"}},[p()(\"li\",[p()(\"b\",\"Prepopulated\"),p()(\"span\",\" topics are automatically posted when each new cohort is created\")]),p()(\"li\",[p()(\"b\",\"Triggered\"),p()(\"span\",\" topics can be posted by the facilitator from the cohort settings (editable before publishing, so useful for creating multiple topics from one template)\")])]),p()(\"p\",\"You can edit the default templates we've provided below, or add new ones!\"),p()(h.a,{href:\"/courses/[slug]/[id]/settings/templates/[templateId]\",as:\"/courses/\".concat(e.course.slug,\"/\").concat(e.course.id,\"/settings/templates/new\")},p()(\"a\",{},p()(w.f,\"+ Add A New Template\")))]),p()(j.b,{},e.course.course_templates.sort((function(e,t){return e.name>t.name?1:-1})).sort((function(e){return e.required?-1:1})).flatMap((function(t){return[p()(j.b,{h:!0,style:{gridAutoColumns:\"auto\"}},[p()(\"div\",[p()(\"h3\",t.name),p()(\"span.textSecondary\",\"prepopulated\"===t.type?\"Prepopulated for all cohorts\":\"Manually published by facilitator\")]),p()(j.b,{h:!0,style:{justifySelf:\"end\",alignItems:\"center\"}},[t.required?null:p()(V,{course:e.course,mutate:e.mutate,templateName:t.name}),p()(h.a,{href:\"/courses/[slug]/[id]/settings/templates/[templateId]\",as:\"/courses/\".concat(e.course.slug,\"/\").concat(e.course.id,\"/settings/templates/\").concat(t.name)},p()(\"a\",{},p()(w.g,\"Edit\")))])]),p()(j.f)]})).slice(0,-1))])}function V(e){var t=Object(f.useState)(\"normal\"),n=t[0],a=t[1],c=Object(b.b)([e]),o=Object(s.a)(c,2),u=o[0],l=o[1];return p()(f.Fragment,[p()(w.b,{onClick:function(){return a(\"confirm\")}},\"Delete\"),p()(P.a,{display:\"normal\"!==n,closeText:\"nevermind\",onExit:function(){return a(\"normal\")}},[p()(j.b,{gap:32,style:{textAlign:\"center\"}},[p()(\"h3\",\"Are you sure?\"),p()(\"p\",\"You can't undo this action!\"),p()(w.f,{style:{justifySelf:\"center\"},status:u,onClick:function(){var t=Object(i.a)(r.a.mark((function t(){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(\"/api/courses/\".concat(e.course.id,\"/templates/\").concat(e.templateName),null,\"DELETE\");case 2:200===t.sent.status&&(e.mutate(F(F({},e.course),{},{course_templates:e.course.course_templates.filter((function(t){return t.name!==e.templateName}))})),a(\"normal\"));case 4:case\"end\":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},\"Yup delete it\")])])])}var W=Object(u.a)(\"div\",{target:\"efhwjq20\"})({name:\"1mxcumu\",styles:\"justify-self:right;display:grid;grid-template-columns:auto auto;grid-gap:16px;\"})},nOkI:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/courses/[slug]/[id]/settings\",function(){return n(\"ECPk\")}])}},[[\"nOkI\",0,2,1,3,4,5,7,8,10,11,12,15]]]);","map":{"version":3,"sources":["static/chunks/pages/courses/[slug]/[id]/settings-b320fbf33c60119d6b78.js"],"names":["_N_E","window","push","ECPk","module","__webpack_exports__","__webpack_require__","r","d","__N_SSG","regenerator","regenerator_default","n","toConsumableArray","defineProperty","asyncToGenerator","slicedToArray","styled_base_browser_esm","react_hyperscript","react_hyperscript_default","next_router","next_link","link_default","react","Tabs","apiHelpers","data","Loader","Layout","Form","Button","Tokens","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","Discounts","props","_useDiscounts","course","discounts","mutate","_useState","name","type","limited_uses","amount","max_redeems","undefined","newDiscount","setNewDiscount","_useApi","res","concat","_useApi2","status","callCreateDiscount","gap","width","padding","style","backgroundColor","accentPeach","onSubmit","e","preventDefault","required","value","onChange","currentTarget","h","alignSelf","selected","items","component","parseInt","map","discount","DiscountItem","delete","code","ref","_useApi3","_useApi4","callDelete","redeems","alignItems","onFocus","selectionEnd","textDecoration","color","readOnly","disabled","onClick","current","select","document","execCommand","selectionStart","blur","_404","hooks","Modal","_id_","Icons","IconPicker_IconPicker","icons","x","IconGrid","icon","src","alt","split","newIcons","slice","setIcons","IconDisplay","index","justifySelf","styles","components_Icons","Pill","settings_ownKeys","settings_objectSpread","COPY","cancelCohort","href","CourseSettings","_useCourseData","id","user","router","course_maintainers","find","maintainer","as","query","slug","tabs","Cohorts","CohortSettings","Details","settings_EditDetails","Invites","settings_Invites","Templates","CourseTemplates","notFound","settings_AddCohort","course_cohorts","cohort","facilitating","cohort_facilitators","f","facilitator","enrolled","cohort_max_size","invited","start_date","start_time","facilitators","newCohort","setNewCohort","callCreateCohort","timezone","Date","toLocaleDateString","timeZoneName","_ref","a","mark","_callee","date","time","start","wrap","_context","prev","next","courseId","toISOString","sent","result","people_in_cohorts","courses","stop","_x","this","people","display_name","username","m","f2","height","placeholder","success","_useState2","emailOrUsername","setEmailOrUsername","_useState3","invite_only","setInviteOnly","_useState4","valid","setValid","callInviteToCourse","_useApi5","_useApi6","updateStatus","callUpdateCourse","_callee2","_context2","includes","abrupt","onSubmitInvite","_ref3","_callee3","_context3","email","_x2","onSubmitToggleInviteOnly","_ref4","_callee4","_context4","_x3","checked","_useFormData","card_image","description","prerequisites","cost","duration","state","form","changed","reset","setState","_useApi7","_useApi8","_ref5","_callee5","_context5","_x4","maxLength","join","SubmitButtons","Maintainers","_useState5","newMaintainer","setNewMaintainer","margin","course_templates","sort","b","flatMap","template","gridAutoColumns","DeleteTemplate","templateName","_useState6","_useApi9","_useApi10","display","closeText","onExit","textAlign","_onClick","_callee6","_context6","t","nOkI","exports","__NEXT_P"],"mappings":"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"},"name":"static/chunks/pages/courses/[slug]/[id]/settings-b320fbf33c60119d6b78.js","input":"_N_E =\n(window[\"webpackJsonp_N_E\"] = window[\"webpackJsonp_N_E\"] || []).push([[27],{\n\n/***/ \"ECPk\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, \"__N_SSG\", function() { return /* binding */ __N_SSG; });\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(\"vJKn\");\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(\"z7pX\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(\"cpVT\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(\"rg98\");\n\n// EXTERNAL MODULE: ./node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(\"xvhg\");\n\n// EXTERNAL MODULE: ./node_modules/@emotion/styled-base/dist/styled-base.browser.esm.js + 1 modules\nvar styled_base_browser_esm = __webpack_require__(\"wTIg\");\n\n// EXTERNAL MODULE: ./node_modules/react-hyperscript/index.js\nvar react_hyperscript = __webpack_require__(\"j+1P\");\nvar react_hyperscript_default = /*#__PURE__*/__webpack_require__.n(react_hyperscript);\n\n// EXTERNAL MODULE: ./node_modules/next/router.js\nvar next_router = __webpack_require__(\"20a2\");\n\n// EXTERNAL MODULE: ./node_modules/next/link.js\nvar next_link = __webpack_require__(\"YFqc\");\nvar link_default = /*#__PURE__*/__webpack_require__.n(next_link);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(\"q1tI\");\n\n// EXTERNAL MODULE: ./components/Tabs.ts\nvar Tabs = __webpack_require__(\"lnWS\");\n\n// EXTERNAL MODULE: ./src/apiHelpers.ts\nvar apiHelpers = __webpack_require__(\"0CBl\");\n\n// EXTERNAL MODULE: ./src/data.ts\nvar data = __webpack_require__(\"5++N\");\n\n// EXTERNAL MODULE: ./components/Loader.ts\nvar Loader = __webpack_require__(\"kacE\");\n\n// EXTERNAL MODULE: ./components/Layout/index.ts + 3 modules\nvar Layout = __webpack_require__(\"9Hbq\");\n\n// EXTERNAL MODULE: ./components/Form.ts\nvar Form = __webpack_require__(\"rk+T\");\n\n// EXTERNAL MODULE: ./components/Button.ts\nvar Button = __webpack_require__(\"Hzj1\");\n\n// EXTERNAL MODULE: ./components/Tokens.ts\nvar Tokens = __webpack_require__(\"mirl\");\n\n// CONCATENATED MODULE: ./components/pages/courses/settings/Discounts.ts\n\n\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n\n\n\n\n\n\n\n\n\nfunction Discounts(props) {\n  var _useDiscounts = Object(data[\"d\" /* useDiscounts */])(props.course),\n      discounts = _useDiscounts.data,\n      mutate = _useDiscounts.mutate;\n\n  var _useState = Object(react[\"useState\"])({\n    name: '',\n    type: \"absolute\",\n    limited_uses: false,\n    amount: 0,\n    max_redeems: undefined\n  }),\n      newDiscount = _useState[0],\n      setNewDiscount = _useState[1];\n\n  var _useApi = Object(apiHelpers[\"b\" /* useApi */])([newDiscount, mutate], function (res) {\n    if (!discounts) return;\n    mutate(discounts.concat([res]));\n  }),\n      _useApi2 = Object(slicedToArray[\"a\" /* default */])(_useApi, 2),\n      status = _useApi2[0],\n      callCreateDiscount = _useApi2[1];\n\n  var onSubmit = function onSubmit(e) {\n    e.preventDefault();\n    callCreateDiscount(\"/api/courses/\".concat(props.course, \"/discounts\"), newDiscount);\n  };\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    width: 640,\n    padding: 32,\n    style: {\n      backgroundColor: Tokens[\"d\" /* colors */].accentPeach\n    }\n  }, [react_hyperscript_default()(Layout[\"d\" /* FormBox */], {\n    gap: 32,\n    onSubmit: onSubmit,\n    width: 400\n  }, [react_hyperscript_default()('h3', \"Add a New Discount\"), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Discount Name\"), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: 'text',\n    required: true,\n    value: newDiscount.name,\n    onChange: function onChange(e) {\n      return setNewDiscount(_objectSpread(_objectSpread({}, newDiscount), {}, {\n        name: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true,\n    gap: 64\n  }, [react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Type\"), react_hyperscript_default()('div', {\n    style: {\n      alignSelf: 'center',\n      padding: '13px 0px'\n    }\n  }, [react_hyperscript_default()(Form[\"f\" /* Radio */], {\n    h: true,\n    name: 'type',\n    selected: newDiscount.type,\n    onChange: function onChange(value) {\n      setNewDiscount(_objectSpread(_objectSpread({}, newDiscount), {}, {\n        type: value\n      }));\n    },\n    items: [{\n      value: \"percentage\",\n      component: react_hyperscript_default()('span', '%')\n    }, {\n      value: 'absolute',\n      component: react_hyperscript_default()('span', \"$\")\n    }]\n  })])]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Amount Off\"), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: 'number',\n    value: newDiscount.amount,\n    onChange: function onChange(e) {\n      return setNewDiscount(_objectSpread(_objectSpread({}, newDiscount), {}, {\n        amount: parseInt(e.currentTarget.value)\n      }));\n    }\n  })])]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Usage Restrictions\"), react_hyperscript_default()(Form[\"f\" /* Radio */], {\n    name: \"usage-restrictions\",\n    selected: newDiscount.limited_uses ? 'limited' : 'unlimited',\n    onChange: function onChange(value) {\n      setNewDiscount(_objectSpread(_objectSpread({}, newDiscount), {}, {\n        limited_uses: value === 'limited'\n      }));\n    },\n    items: [{\n      value: 'unlimited',\n      component: react_hyperscript_default()('p', \"Unlimited uses. Discount is valid until you cancel it\")\n    }, {\n      value: 'limited',\n      component: react_hyperscript_default()('p', \"Limited uses. Discount is only valid for a number of uses\")\n    }]\n  })]), newDiscount.limited_uses ? react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Max uses'), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: 'number',\n    value: newDiscount.max_redeems,\n    onChange: function onChange(e) {\n      setNewDiscount(_objectSpread(_objectSpread({}, newDiscount), {}, {\n        max_redeems: parseInt(e.currentTarget.value)\n      }));\n    }\n  })]) : null, react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    type: 'submit',\n    status: status\n  }, \"Create New Discount\")])]), react_hyperscript_default()('h2', \"Discounts\"), react_hyperscript_default()('p', \"Copy the Share Links below and send them to people to offer them a discounted rate on your course!)\"), !discounts ? react_hyperscript_default()(Loader[\"a\" /* PageLoader */]) : react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, discounts.map(function (discount) {\n    return react_hyperscript_default()('div', [react_hyperscript_default()(DiscountItem, {\n      discount: discount,\n      \"delete\": function _delete() {\n        if (!discounts) return;\n        mutate(discounts.filter(function (d) {\n          return d.code !== discount.code;\n        }));\n      }\n    })]);\n  }))]);\n}\n\nfunction DiscountItem(props) {\n  var ref = Object(react[\"useRef\"])(null);\n\n  var _useApi3 = Object(apiHelpers[\"b\" /* useApi */])([props], props[\"delete\"]),\n      _useApi4 = Object(slicedToArray[\"a\" /* default */])(_useApi3, 2),\n      status = _useApi4[0],\n      callDelete = _useApi4[1];\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8\n  }, [react_hyperscript_default()(\"h3\", props.discount.name), react_hyperscript_default()(\"div\", [react_hyperscript_default()(\"span.textSecondary\", \"\".concat(props.discount.type === \"absolute\" ? \"$\" + props.discount.amount : props.discount.amount + \"%\", \" off\")), react_hyperscript_default()(\"span.textSecondary\", \" | Redeemed \".concat(props.discount.max_redeems === 0 ? props.discount.redeems : \"\".concat(props.discount.redeems, \"/\").concat(props.discount.max_redeems), \" times\"))]), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true,\n    style: {\n      alignItems: \"center\"\n    }\n  }, [react_hyperscript_default()(Form[\"d\" /* Input */], {\n    onFocus: function onFocus(e) {\n      e.currentTarget.selectionEnd = e.currentTarget.value.length;\n    },\n    style: {\n      width: \"360px\",\n      textDecoration: \"underline\",\n      color: \"blue\"\n    },\n    readOnly: true,\n    value: \"https://app.krakenedu.com/discount?discount=\".concat(props.discount.code),\n    ref: ref\n  }), react_hyperscript_default()(Button[\"g\" /* Secondary */], {\n    disabled: props.discount.max_redeems !== 0 && props.discount.max_redeems <= props.discount.redeems,\n    onClick: function onClick(e) {\n      e.preventDefault();\n      if (!ref.current) return;\n      ref.current.select();\n      document.execCommand(\"copy\");\n      ref.current.selectionEnd = ref.current.selectionStart;\n      ref.current.blur();\n    }\n  }, \"Copy\"), react_hyperscript_default()(Button[\"b\" /* Destructive */], {\n    status: status,\n    onClick: function onClick(e) {\n      e.preventDefault();\n      callDelete(\"/api/discounts/\" + props.discount.code, null, \"DELETE\");\n    }\n  }, \"Delete\")])]);\n}\n// EXTERNAL MODULE: ./pages/404.ts\nvar _404 = __webpack_require__(\"+Xui\");\n\n// EXTERNAL MODULE: ./src/hooks.ts\nvar hooks = __webpack_require__(\"mB65\");\n\n// EXTERNAL MODULE: ./components/Modal.ts\nvar Modal = __webpack_require__(\"wyA/\");\n\n// EXTERNAL MODULE: ./pages/courses/[slug]/[id]/index.ts + 1 modules\nvar _id_ = __webpack_require__(\"ptY8\");\n\n// CONCATENATED MODULE: ./components/IconPicker.ts\n\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\nvar Icons = ['https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Lightbulb.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Sparkle.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Picture.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Video.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MusicNote.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Potion.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Plant.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Puzzle.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Chart.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MoneyBag.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Camera.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Numbers.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Crayon.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/House.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Book.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Present.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Earth.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Shapes.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Heart.png', 'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/SpeechBubble.png'];\nvar IconPicker_IconPicker = function IconPicker(props) {\n  var icons = props.icons.filter(function (x) {\n    return !!x;\n  });\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    width: 400\n  }, [react_hyperscript_default()(IconGrid, Icons.map(function (icon) {\n    return react_hyperscript_default()('img', {\n      src: icon,\n      alt: icon.split('/')[icon.length - 1],\n      key: icon,\n      onClick: function onClick() {\n        var newIcons = icons.slice(0);\n        if (newIcons.length === 3) newIcons = [icon];else newIcons[newIcons.length] = icon;\n        props.setIcons(newIcons);\n      }\n    });\n  })), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 8\n  }, [react_hyperscript_default()(IconDisplay, icons.map(function (icon, index) {\n    return react_hyperscript_default()('img', {\n      key: index,\n      src: icon\n    });\n  })), react_hyperscript_default()(Button[\"e\" /* LinkButton */], {\n    style: {\n      justifySelf: 'right'\n    },\n    type: 'reset',\n    onClick: function onClick() {\n      props.setIcons([]);\n    }\n  }, 'Clear')])]);\n};\n\nvar IconGrid = /*#__PURE__*/Object(styled_base_browser_esm[\"a\" /* default */])('div', {\n  target: \"e1ovbsl70\"\n})(true ? {\n  name: \"1ug0e06\",\n  styles: \"display:grid;grid-template-columns:repeat(auto-fill,32px);grid-gap:32px;\"\n} : undefined);\n\nvar IconDisplay = /*#__PURE__*/Object(styled_base_browser_esm[\"a\" /* default */])('div', {\n  target: \"e1ovbsl71\"\n})(true ? {\n  name: \"1likbx0\",\n  styles: \"box-sizing:border-box;height:64px;background-color:white;display:grid;grid-template-columns:repeat(3,32px);justify-content:center;grid-gap:16px;padding:16px;width:100%;border:1px solid;\"\n} : undefined);\n// EXTERNAL MODULE: ./components/Icons.tsx\nvar components_Icons = __webpack_require__(\"FPCx\");\n\n// EXTERNAL MODULE: ./components/Pill.ts\nvar Pill = __webpack_require__(\"+ErQ\");\n\n// CONCATENATED MODULE: ./pages/courses/[slug]/[id]/settings/index.ts\n\n\n\n\n\n\n\nfunction settings_ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction settings_objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { settings_ownKeys(Object(source), true).forEach(function (key) { Object(defineProperty[\"a\" /* default */])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { settings_ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction settings_EMOTION_STRINGIFIED_CSS_ERROR_() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar COPY = {\n  cancelCohort: react_hyperscript_default()(\"p.textSecondary\", [\"Contact us at \", react_hyperscript_default()(\"a\", {\n    href: \"mailto:contact@krakenedu.com\"\n  }, \"contact@krakenedu.com\"), \" to cancel a cohort. Optionally,  let us know the reason you\\u2019re cancelling (we\\u2019re curious \\uD83E\\uDD13)\"])\n};\n\nvar settings_WrappedCourseSettingsPage = function WrappedCourseSettingsPage(props) {\n  return props.notFound ? react_hyperscript_default()(_404[\"default\"]) : react_hyperscript_default()(CourseSettings, props);\n};\n\nfunction CourseSettings(props) {\n  var _useCourseData = Object(data[\"b\" /* useCourseData */])(props.id, props.course || undefined),\n      course = _useCourseData.data,\n      mutate = _useCourseData.mutate;\n\n  var _useUserData = Object(data[\"i\" /* useUserData */])(),\n      user = _useUserData.data;\n\n  var router = Object(next_router[\"useRouter\"])();\n  Object(react[\"useEffect\"])(function () {\n    if (user === undefined) return;\n\n    if (course) {\n      var isMaintainer = !!course.course_maintainers.find(function (maintainer) {\n        return user && maintainer.maintainer === user.id;\n      });\n      if (!isMaintainer) router.push('/');\n    }\n  }, [user, course]);\n  if (!course || !user) return react_hyperscript_default()(Loader[\"a\" /* PageLoader */]);\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 64,\n    width: 640\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [react_hyperscript_default()(Button[\"a\" /* BackButton */], {\n    href: \"/courses/[slug]/[id]\",\n    as: \"/courses/\".concat(router.query.slug, \"/\").concat(router.query.id)\n  }, course.type === \"club\" ? \"Club\" : \"Course\"), react_hyperscript_default()(\"h1\", \"Settings\"), react_hyperscript_default()(\"p.big\", [\"KrakenEdu is new and some things can only be done manually for now! To add a new maintainer, remove a cohort, or anything else you don't see here, please email \", react_hyperscript_default()(\"a\", {\n    href: \"mailto:help@krakenedu.com\"\n  }, \"help@krakenedu.com\")])]), react_hyperscript_default()(Tabs[\"b\" /* Tabs */], {\n    tabs: {\n      Cohorts: react_hyperscript_default()(CohortSettings, {\n        course: course,\n        mutate: mutate\n      }),\n      Details: react_hyperscript_default()(settings_EditDetails, {\n        course: course,\n        mutate: mutate\n      }),\n      Invites: react_hyperscript_default()(settings_Invites, {\n        course: course,\n        mutate: mutate\n      }),\n      Templates: react_hyperscript_default()(CourseTemplates, {\n        course: course,\n        mutate: mutate\n      }),\n      Discounts: react_hyperscript_default()(Discounts, {\n        course: course.id\n      })\n    }\n  })]);\n}\n\nvar __N_SSG = true;\n/* harmony default export */ var settings = __webpack_exports__[\"default\"] = (settings_WrappedCourseSettingsPage);\n\nfunction CohortSettings(props) {\n  var _useUserData2 = Object(data[\"i\" /* useUserData */])(),\n      user = _useUserData2.data;\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(settings_AddCohort, props), react_hyperscript_default()(Layout[\"f\" /* Seperator */]), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16\n  }, [react_hyperscript_default()('h3', \"Cancel a Cohort\"), COPY.cancelCohort]), react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()('h3', \"All Cohorts\"), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, props.course.course_cohorts.map(function (cohort) {\n    var facilitating = !!cohort.cohort_facilitators.find(function (f) {\n      return user && f.facilitator === user.id;\n    });\n    return react_hyperscript_default()(_id_[\"Cohort\"], {\n      cohort: cohort,\n      enrolled: false,\n      facilitating: facilitating,\n      slug: props.course.slug,\n      cohort_max_size: props.course.cohort_max_size,\n      invited: true\n    });\n  }))])]);\n} //feature to add a new cohort to a course\n\n\nvar settings_AddCohort = function AddCohort(props) {\n  var _useState = Object(react[\"useState\"])({\n    start_date: '',\n    start_time: '',\n    facilitators: []\n  }),\n      newCohort = _useState[0],\n      setNewCohort = _useState[1];\n\n  var _useApi = Object(apiHelpers[\"b\" /* useApi */])([newCohort]),\n      _useApi2 = Object(slicedToArray[\"a\" /* default */])(_useApi, 2),\n      status = _useApi2[0],\n      callCreateCohort = _useApi2[1];\n\n  var timezone = new Date().toLocaleDateString('en-us', {\n    timeZoneName: \"short\"\n  }).split(', ')[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee(e) {\n      var date, time, start, res;\n      return regenerator_default.a.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              date = newCohort.start_date.split('-').map(function (x) {\n                return parseInt(x);\n              });\n              time = newCohort.start_time.split(':').map(function (x) {\n                return parseInt(x);\n              });\n              start = new Date(date[0], date[1] - 1, date[2], time[0], time[1]);\n              _context.next = 6;\n              return callCreateCohort(\"/api/cohorts\", {\n                courseId: props.course.id,\n                facilitators: newCohort.facilitators,\n                start: start.toISOString()\n              });\n\n            case 6:\n              res = _context.sent;\n              if (res.status === 200) props.mutate(settings_objectSpread(settings_objectSpread({}, props.course), {}, {\n                course_cohorts: [].concat(Object(toConsumableArray[\"a\" /* default */])(props.course.course_cohorts), [settings_objectSpread(settings_objectSpread({}, res.result), {}, {\n                  people_in_cohorts: [],\n                  courses: {\n                    name: props.course.name\n                  }\n                })])\n              }));\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript_default()(Layout[\"d\" /* FormBox */], {\n    onSubmit: onSubmit,\n    gap: 32,\n    style: {\n      width: 400\n    }\n  }, [react_hyperscript_default()('h2', 'Add a new Cohort'), status === 'error' ? react_hyperscript_default()(Form[\"b\" /* Error */], 'An error occured') : null, status === 'success' ? react_hyperscript_default()(Form[\"c\" /* Info */], 'Cohort created!') : null, react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Facilitator\"), react_hyperscript_default()(Form[\"g\" /* Select */], {\n    required: true,\n    onChange: function onChange(e) {\n      return setNewCohort(settings_objectSpread(settings_objectSpread({}, newCohort), {}, {\n        facilitators: [].concat(Object(toConsumableArray[\"a\" /* default */])(newCohort.facilitators), [e.currentTarget.value])\n      }));\n    }\n  }, [react_hyperscript_default()('option', {\n    value: ''\n  }, \"Select a facilitator\")].concat(Object(toConsumableArray[\"a\" /* default */])(props.course.course_maintainers.map(function (maintainer) {\n    return react_hyperscript_default()('option', {\n      value: maintainer.maintainer\n    }, maintainer.people.display_name || maintainer.people.username);\n  }) || []))), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true\n  }, newCohort.facilitators.map(function (f) {\n    var facilitator = props.course.course_maintainers.find(function (m) {\n      return m.maintainer === f;\n    });\n    if (!facilitator) return null;\n    return react_hyperscript_default()(Pill[\"a\" /* Pill */], {}, react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      h: true,\n      gap: 4\n    }, [react_hyperscript_default()('p', facilitator.people.display_name || facilitator.people.username), react_hyperscript_default()(Button[\"d\" /* IconButton */], {\n      onClick: function onClick(e) {\n        e.preventDefault();\n        setNewCohort(settings_objectSpread(settings_objectSpread({}, newCohort), {}, {\n          facilitators: newCohort.facilitators.filter(function (f2) {\n            return f2 !== f;\n          })\n        }));\n      }\n    }, react_hyperscript_default()(components_Icons[\"d\" /* Cross */], {\n      width: 10,\n      height: 10\n    }))]));\n  }))]), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    h: true,\n    gap: 32\n  }, [react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Start Date'), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: 'date',\n    placeholder: 'yyyy-mm-dd',\n    required: true,\n    value: newCohort.start_date,\n    onChange: function onChange(e) {\n      return setNewCohort(settings_objectSpread(settings_objectSpread({}, newCohort), {}, {\n        start_date: e.currentTarget.value\n      }));\n    }\n  })]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', \"Start time (\".concat(timezone, \")\")), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: 'time',\n    placeholder: '23:59',\n    required: true,\n    value: newCohort.start_time,\n    onChange: function onChange(e) {\n      return setNewCohort(settings_objectSpread(settings_objectSpread({}, newCohort), {}, {\n        start_time: e.currentTarget.value\n      }));\n    }\n  })])]), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    style: {\n      justifySelf: 'right'\n    },\n    status: status,\n    type: 'submit',\n    success: status === 'success',\n    disabled: !newCohort.start_date || newCohort.facilitators.length === 0\n  }, 'Add a new Cohort')]);\n};\n\nvar settings_Invites = function Invites(props) {\n  var _useState2 = Object(react[\"useState\"])(''),\n      emailOrUsername = _useState2[0],\n      setEmailOrUsername = _useState2[1];\n\n  var _useState3 = Object(react[\"useState\"])(props.course.invite_only),\n      invite_only = _useState3[0],\n      setInviteOnly = _useState3[1];\n\n  var _useState4 = Object(react[\"useState\"])(null),\n      valid = _useState4[0],\n      setValid = _useState4[1];\n\n  var _useApi3 = Object(apiHelpers[\"b\" /* useApi */])([emailOrUsername], function () {\n    return setEmailOrUsername('');\n  }),\n      _useApi4 = Object(slicedToArray[\"a\" /* default */])(_useApi3, 2),\n      status = _useApi4[0],\n      callInviteToCourse = _useApi4[1];\n\n  var _useApi5 = Object(apiHelpers[\"b\" /* useApi */])([]),\n      _useApi6 = Object(slicedToArray[\"a\" /* default */])(_useApi5, 2),\n      updateStatus = _useApi6[0],\n      callUpdateCourse = _useApi6[1];\n\n  Object(hooks[\"a\" /* useDebouncedEffect */])( /*#__PURE__*/Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee2() {\n    var res;\n    return regenerator_default.a.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(emailOrUsername.includes('@') || emailOrUsername === '')) {\n              _context2.next = 2;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", setValid(null));\n\n          case 2:\n            _context2.next = 4;\n            return Object(apiHelpers[\"a\" /* callApi */])('/api/get/username/' + emailOrUsername);\n\n          case 4:\n            res = _context2.sent;\n            if (res.status === 404) setValid(false);else setValid(true);\n\n          case 6:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  })), 500, [emailOrUsername]);\n  Object(react[\"useEffect\"])(function () {\n    return setValid(null);\n  }, [emailOrUsername]);\n\n  var onSubmitInvite = /*#__PURE__*/function () {\n    var _ref3 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee3(e) {\n      var x;\n      return regenerator_default.a.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              x = emailOrUsername.includes('@') ? {\n                email: emailOrUsername\n              } : {\n                username: emailOrUsername\n              };\n              callInviteToCourse(\"/api/courses/\".concat(props.course.id, \"/invite\"), settings_objectSpread({}, x));\n\n            case 3:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function onSubmitInvite(_x2) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var onSubmitToggleInviteOnly = /*#__PURE__*/function () {\n    var _ref4 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee4(e) {\n      var res;\n      return regenerator_default.a.wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              e.preventDefault();\n              _context4.next = 3;\n              return callUpdateCourse(\"/api/courses/\".concat(props.course.id), {\n                invite_only: invite_only\n              });\n\n            case 3:\n              res = _context4.sent;\n              if (res.status === 200) props.mutate(settings_objectSpread(settings_objectSpread({}, props.course), res.result));\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function onSubmitToggleInviteOnly(_x3) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 16,\n    width: 400\n  }, [react_hyperscript_default()(\"h2\", \"Invites\"), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(Layout[\"d\" /* FormBox */], {\n    onSubmit: onSubmitToggleInviteOnly\n  }, [react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8,\n    width: 400\n  }, [react_hyperscript_default()(\"div\", [react_hyperscript_default()(\"h4\", \"Invite Only\"), react_hyperscript_default()(\"small.textSecondary\", \"Learners cannot enroll in an invite only course unless you have sent them an\\ninvite. The invite allows them enroll in any cohort and does not expire.\")]), react_hyperscript_default()(Form[\"a\" /* CheckBox */], [react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: \"checkbox\",\n    checked: invite_only,\n    onChange: function onChange(e) {\n      return setInviteOnly(e.currentTarget.checked);\n    }\n  }), \"Make this course invite only\"])]), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    style: {\n      justifySelf: \"right\"\n    },\n    status: updateStatus,\n    type: \"submit\",\n    disabled: props.course.invite_only === invite_only\n  }, \"Change\")]), !props.course.invite_only ? null : react_hyperscript_default()(Layout[\"d\" /* FormBox */], {\n    onSubmit: onSubmitInvite,\n    gap: 32,\n    width: 400\n  }, [react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()(\"h4\", \"Invite someone to enroll\"), react_hyperscript_default()(\"small.textSecondary\", \"Invite someone with their username or email. Invitee does not need a KrakenEdu account to be invited, but they will need an account to enroll.\"), react_hyperscript_default()(Form[\"d\" /* Input */], {\n    type: emailOrUsername.includes(\"@\") ? \"email\" : \"text\",\n    value: emailOrUsername,\n    onChange: function onChange(e) {\n      return setEmailOrUsername(e.currentTarget.value);\n    }\n  }), valid === null ? null : valid ? react_hyperscript_default()(\"span.accentSuccess\", \"Great, found @\" + emailOrUsername) : react_hyperscript_default()(\"span.accentRed\", \"We can't find a user with that username\")]), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    style: {\n      justifySelf: \"right\"\n    },\n    status: status,\n    type: \"submit\",\n    disabled: !emailOrUsername.includes(\"@\") && valid !== true\n  }, \"Invite\")])])]);\n};\n\nvar settings_EditDetails = function EditDetails(props) {\n  var _useFormData = Object(hooks[\"b\" /* useFormData */])({\n    name: props.course.name,\n    card_image: props.course.card_image,\n    cohort_max_size: props.course.cohort_max_size,\n    description: props.course.description,\n    prerequisites: props.course.prerequisites,\n    cost: props.course.cost,\n    duration: props.course.duration\n  }, [props.course]),\n      state = _useFormData.state,\n      form = _useFormData.form,\n      changed = _useFormData.changed,\n      reset = _useFormData.reset,\n      setState = _useFormData.setState;\n\n  var _useApi7 = Object(apiHelpers[\"b\" /* useApi */])([]),\n      _useApi8 = Object(slicedToArray[\"a\" /* default */])(_useApi7, 2),\n      status = _useApi8[0],\n      callUpdateCourse = _useApi8[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref5 = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee5(e) {\n      var res;\n      return regenerator_default.a.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              e.preventDefault();\n              _context5.next = 3;\n              return callUpdateCourse(\"/api/courses/\".concat(props.course.id), settings_objectSpread({}, state));\n\n            case 3:\n              res = _context5.sent;\n              if (res.status === 200) props.mutate(settings_objectSpread(settings_objectSpread({}, props.course), res.result));\n\n            case 5:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function onSubmit(_x4) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n\n  return react_hyperscript_default()(Layout[\"d\" /* FormBox */], {\n    onSubmit: onSubmit,\n    gap: 32,\n    style: {\n      width: 400\n    }\n  }, [react_hyperscript_default()('h2', 'Edit Details'), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Name'), react_hyperscript_default()(Form[\"d\" /* Input */], settings_objectSpread({\n    type: 'text',\n    maxLength: 50\n  }, form.name))]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Cost (USD)'), react_hyperscript_default()(Form[\"d\" /* Input */], settings_objectSpread({\n    type: 'number'\n  }, form.cost))]), props.course.type === 'course' ? null : react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()(\"div\", [react_hyperscript_default()('h4', \"Emojis\"), react_hyperscript_default()('small.textSecondary', \"Select three emojis to describe your club! Repeats ok.\")]), react_hyperscript_default()(IconPicker_IconPicker, {\n    icons: state.card_image.split(','),\n    setIcons: function setIcons(icons) {\n      setState(settings_objectSpread(settings_objectSpread({}, state), {}, {\n        card_image: icons.join(',')\n      }));\n    }\n  })]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('div', [react_hyperscript_default()('h4', \"Cohort Size\"), react_hyperscript_default()('small.textSecondary', \"How many learners can enroll in a cohort. Set to 0 for no limit.\")]), react_hyperscript_default()(Form[\"d\" /* Input */], settings_objectSpread({\n    type: 'number',\n    required: true\n  }, form.cohort_max_size))]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Description'), react_hyperscript_default()(Form[\"h\" /* Textarea */], settings_objectSpread({\n    maxLength: 200\n  }, form.description))]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Prerequisites'), react_hyperscript_default()(Form[\"h\" /* Textarea */], form.prerequisites)]), react_hyperscript_default()(Layout[\"e\" /* LabelBox */], {\n    gap: 8\n  }, [react_hyperscript_default()('h4', 'Duration'), react_hyperscript_default()(Form[\"d\" /* Input */], form.duration)]), react_hyperscript_default()(SubmitButtons, [react_hyperscript_default()(Button[\"b\" /* Destructive */], {\n    disabled: !changed,\n    onClick: function onClick(e) {\n      e.preventDefault();\n      reset();\n    }\n  }, \"Discard Changes\"), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    type: 'submit',\n    disabled: !changed,\n    status: status\n  }, 'Save Changes')]), react_hyperscript_default()(Maintainers, props)]);\n};\n\nfunction Maintainers(props) {\n  var _useState5 = Object(react[\"useState\"])(''),\n      newMaintainer = _useState5[0],\n      setNewMaintainer = _useState5[1];\n\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()('h3', \"Maintainers\")].concat(Object(toConsumableArray[\"a\" /* default */])(props.course.course_maintainers.map(function (m) {\n    return m.people.display_name || m.people.username;\n  })), [react_hyperscript_default()('h4', \"Add a maintainer\"), react_hyperscript_default()(Layout[\"d\" /* FormBox */], [react_hyperscript_default()(Form[\"d\" /* Input */], {\n    value: newMaintainer,\n    onChange: function onChange(e) {\n      return setNewMaintainer(e.currentTarget.value);\n    }\n  }), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    type: 'submit'\n  }, \"Add\")])]));\n}\n\nfunction CourseTemplates(props) {\n  return react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], [react_hyperscript_default()('p', \"Each cohort comes with its own community space, and templates to help you populate its structure with topics.\"), react_hyperscript_default()('ul', {\n    style: {\n      'margin': 'auto 0'\n    }\n  }, [react_hyperscript_default()('li', [react_hyperscript_default()('b', 'Prepopulated'), react_hyperscript_default()('span', ' topics are automatically posted when each new cohort is created')]), react_hyperscript_default()('li', [react_hyperscript_default()('b', 'Triggered'), react_hyperscript_default()('span', ' topics can be posted by the facilitator from the cohort settings (editable before publishing, so useful for creating multiple topics from one template)')])]), react_hyperscript_default()('p', \"You can edit the default templates we've provided below, or add new ones!\"), react_hyperscript_default()(link_default.a, {\n    href: '/courses/[slug]/[id]/settings/templates/[templateId]',\n    as: \"/courses/\".concat(props.course.slug, \"/\").concat(props.course.id, \"/settings/templates/new\")\n  }, react_hyperscript_default()('a', {}, react_hyperscript_default()(Button[\"f\" /* Primary */], \"+ Add A New Template\")))]), react_hyperscript_default()(Layout[\"b\" /* Box */], {}, props.course.course_templates.sort(function (a, b) {\n    return a.name > b.name ? 1 : -1;\n  }).sort(function (a) {\n    return a.required ? -1 : 1;\n  }).flatMap(function (template) {\n    return [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      h: true,\n      style: {\n        gridAutoColumns: 'auto'\n      }\n    }, [react_hyperscript_default()('div', [react_hyperscript_default()('h3', template.name), react_hyperscript_default()('span.textSecondary', template.type === 'prepopulated' ? \"Prepopulated for all cohorts\" : \"Manually published by facilitator\")]), react_hyperscript_default()(Layout[\"b\" /* Box */], {\n      h: true,\n      style: {\n        justifySelf: 'end',\n        alignItems: 'center'\n      }\n    }, [template.required ? null : react_hyperscript_default()(DeleteTemplate, {\n      course: props.course,\n      mutate: props.mutate,\n      templateName: template.name\n    }), react_hyperscript_default()(link_default.a, {\n      href: '/courses/[slug]/[id]/settings/templates/[templateId]',\n      as: \"/courses/\".concat(props.course.slug, \"/\").concat(props.course.id, \"/settings/templates/\").concat(template.name)\n    }, react_hyperscript_default()('a', {}, react_hyperscript_default()(Button[\"g\" /* Secondary */], 'Edit')))])]), react_hyperscript_default()(Layout[\"f\" /* Seperator */])];\n  }).slice(0, -1))]);\n}\n\nfunction DeleteTemplate(props) {\n  var _useState6 = Object(react[\"useState\"])('normal'),\n      state = _useState6[0],\n      setState = _useState6[1];\n\n  var _useApi9 = Object(apiHelpers[\"b\" /* useApi */])([props]),\n      _useApi10 = Object(slicedToArray[\"a\" /* default */])(_useApi9, 2),\n      status = _useApi10[0],\n      callDelete = _useApi10[1];\n\n  return react_hyperscript_default()(react[\"Fragment\"], [react_hyperscript_default()(Button[\"b\" /* Destructive */], {\n    onClick: function onClick() {\n      return setState('confirm');\n    }\n  }, 'Delete'), react_hyperscript_default()(Modal[\"a\" /* Modal */], {\n    display: state !== 'normal',\n    closeText: \"nevermind\",\n    onExit: function onExit() {\n      return setState('normal');\n    }\n  }, [react_hyperscript_default()(Layout[\"b\" /* Box */], {\n    gap: 32,\n    style: {\n      textAlign: 'center'\n    }\n  }, [react_hyperscript_default()('h3', \"Are you sure?\"), react_hyperscript_default()('p', \"You can't undo this action!\"), react_hyperscript_default()(Button[\"f\" /* Primary */], {\n    style: {\n      justifySelf: \"center\"\n    },\n    status: status,\n    onClick: function () {\n      var _onClick = Object(asyncToGenerator[\"a\" /* default */])( /*#__PURE__*/regenerator_default.a.mark(function _callee6() {\n        var res;\n        return regenerator_default.a.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return callDelete(\"/api/courses/\".concat(props.course.id, \"/templates/\").concat(props.templateName), null, \"DELETE\");\n\n              case 2:\n                res = _context6.sent;\n\n                if (res.status === 200) {\n                  props.mutate(settings_objectSpread(settings_objectSpread({}, props.course), {}, {\n                    course_templates: props.course.course_templates.filter(function (t) {\n                      return t.name !== props.templateName;\n                    })\n                  }));\n                  setState('normal');\n                }\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function onClick() {\n        return _onClick.apply(this, arguments);\n      }\n\n      return onClick;\n    }()\n  }, \"Yup delete it\")])])]);\n}\n\nvar SubmitButtons = /*#__PURE__*/Object(styled_base_browser_esm[\"a\" /* default */])('div', {\n  target: \"efhwjq20\"\n})(true ? {\n  name: \"1mxcumu\",\n  styles: \"justify-self:right;display:grid;grid-template-columns:auto auto;grid-gap:16px;\"\n} : undefined);\n\n/***/ }),\n\n/***/ \"nOkI\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/[slug]/[id]/settings\",\n        function () {\n          return __webpack_require__(\"ECPk\");\n        }\n      ]);\n    \n\n/***/ })\n\n},[[\"nOkI\",0,2,1,3,4,5,7,8,10,11,12,15]]]);","inputSourceMap":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/components/pages/courses/settings/Discounts.ts","/Users/ayooluwaalfonso/code/krakeneduapp/components/IconPicker.ts","/Users/ayooluwaalfonso/code/krakeneduapp/pages/courses/[slug]/[id]/settings/index.ts","/Users/ayooluwaalfonso/code/krakeneduapp/node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?page=%2Fcourses%2F%5Bslug%5D%2F%5Bid%5D%2Fsettings&absolutePagePath=private-next-pages%2Fcourses%2F%5Bslug%5D%2F%5Bid%5D%2Fsettings%2Findex.ts!"],"names":["Discounts","props","useDiscounts","course","discounts","data","mutate","useState","name","type","limited_uses","amount","max_redeems","undefined","newDiscount","setNewDiscount","useApi","res","concat","status","callCreateDiscount","onSubmit","e","preventDefault","h","Box","gap","width","padding","style","backgroundColor","colors","accentPeach","FormBox","LabelBox","Input","required","value","onChange","currentTarget","alignSelf","Radio","selected","items","component","parseInt","Primary","PageLoader","map","discount","DiscountItem","filter","d","code","ref","useRef","callDelete","redeems","alignItems","onFocus","selectionEnd","length","textDecoration","color","readOnly","Secondary","disabled","onClick","current","select","document","execCommand","selectionStart","blur","Destructive","Icons","IconPicker","icons","x","IconGrid","icon","src","alt","split","key","newIcons","slice","setIcons","IconDisplay","index","LinkButton","justifySelf","COPY","cancelCohort","href","WrappedCourseSettingsPage","notFound","ErrorPage","CourseSettings","useCourseData","id","useUserData","user","router","useRouter","useEffect","isMaintainer","course_maintainers","find","maintainer","push","BackButton","as","query","slug","Tabs","tabs","Cohorts","CohortSettings","Details","EditDetails","Invites","Templates","CourseTemplates","AddCohort","Seperator","course_cohorts","cohort","facilitating","cohort_facilitators","f","facilitator","Cohort","enrolled","cohort_max_size","invited","start_date","start_time","facilitators","newCohort","setNewCohort","callCreateCohort","timezone","Date","toLocaleDateString","timeZoneName","date","time","start","courseId","toISOString","result","people_in_cohorts","courses","Error","Info","Select","people","display_name","username","m","Pill","IconButton","f2","Cross","height","placeholder","success","emailOrUsername","setEmailOrUsername","invite_only","setInviteOnly","valid","setValid","callInviteToCourse","updateStatus","callUpdateCourse","useDebouncedEffect","includes","callApi","onSubmitInvite","email","onSubmitToggleInviteOnly","CheckBox","checked","useFormData","card_image","description","prerequisites","cost","duration","state","form","changed","reset","setState","maxLength","join","Textarea","SubmitButtons","Maintainers","newMaintainer","setNewMaintainer","Link","course_templates","sort","a","b","flatMap","template","gridAutoColumns","DeleteTemplate","templateName","Fragment","Modal","display","closeText","onExit","textAlign","t"],"mappings":"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","file":"x","sourcesContent":["import { useState, useRef } from \"react\"\nimport h from 'react-hyperscript'\nimport { useDiscounts } from \"src/data\"\nimport { CreateDiscountMsg, CreateDiscountResult } from \"pages/api/courses/[id]/discounts\"\nimport { useApi } from \"src/apiHelpers\"\nimport { Box, FormBox, LabelBox } from \"components/Layout\"\nimport { Input, Radio } from \"components/Form\"\nimport { PageLoader } from \"components/Loader\"\nimport { Primary, Secondary, Destructive } from \"components/Button\"\nimport { course_discounts } from \"@prisma/client\"\nimport { DeleteDiscountResult } from \"pages/api/discounts/[code]\"\nimport { colors } from \"components/Tokens\"\n\nexport function Discounts(props: {course:number}) {\n  let {data: discounts, mutate} = useDiscounts(props.course)\n  let [newDiscount, setNewDiscount] = useState<CreateDiscountMsg & {limited_uses: boolean}>({\n    name: '',\n    type: \"absolute\",\n    limited_uses: false,\n    amount: 0,\n    max_redeems: undefined\n  })\n  let [status, callCreateDiscount] = useApi<CreateDiscountMsg, CreateDiscountResult>([newDiscount, mutate], (res)=>{\n    if(!discounts) return\n    mutate(discounts.concat([res]))\n  })\n  let onSubmit = (e:React.FormEvent) => {\n    e.preventDefault()\n    callCreateDiscount(`/api/courses/${props.course}/discounts`, newDiscount)\n  }\n  return h(Box, {gap:32}, [\n    h(Box, {width: 640, padding: 32, style:{backgroundColor: colors.accentPeach}}, [\n    h(FormBox, {gap:32, onSubmit, width: 400}, [\n      h('h3', \"Add a New Discount\"),\n      h(LabelBox, {gap:8}, [\n        h('h4', \"Discount Name\"),\n        h(Input, {\n          type: 'text',\n          required: true,\n          value: newDiscount.name,\n          onChange:e =>setNewDiscount({...newDiscount, name: e.currentTarget.value})\n        })\n      ]),\n      h(Box, {h: true, gap:64}, [\n        h(LabelBox, {gap:8}, [\n          h('h4', \"Type\"),\n          h('div', {style: {alignSelf: 'center', padding: '13px 0px'}}, [\n            h(Radio, {\n              h: true,\n              name: 'type',\n              selected: newDiscount.type,\n              onChange: (value) => {\n                setNewDiscount({...newDiscount, type: value as typeof newDiscount.type})\n              },\n              items: [\n                {value: \"percentage\", component: h('span', '%')},\n                {value: 'absolute', component: h('span', \"$\")}\n              ]\n            })\n          ])\n        ]),\n        h(LabelBox, {gap:8}, [\n          h('h4', \"Amount Off\"),\n          h(Input, {\n            type: 'number',\n            value: newDiscount.amount,\n            onChange: e=>setNewDiscount({...newDiscount, amount: parseInt(e.currentTarget.value)})\n          })\n        ])\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', \"Usage Restrictions\"),\n        h(Radio, {\n          name:\"usage-restrictions\",\n          selected: newDiscount.limited_uses ? 'limited' : 'unlimited',\n          onChange: (value) => {\n            setNewDiscount({...newDiscount, limited_uses: value === 'limited'})\n          },\n          items: [\n            {value: 'unlimited', component: h('p', `Unlimited uses. Discount is valid until you cancel it`)},\n            {value: 'limited', component: h('p', `Limited uses. Discount is only valid for a number of uses`)}\n          ]\n        })\n      ]),\n      newDiscount.limited_uses ? h(LabelBox,  {gap: 8}, [\n        h('h4', 'Max uses'),\n        h(Input, {\n          type: 'number',\n          value: newDiscount.max_redeems,\n          onChange: e=> {\n            setNewDiscount({...newDiscount, max_redeems: parseInt(e.currentTarget.value)})\n          }\n        })\n      ]) : null,\n      h(Primary, {type: 'submit', status}, \"Create New Discount\")\n    ]),\n    ]),\n    h('h2', \"Discounts\"),\n    h('p', `Copy the Share Links below and send them to people to offer them a discounted rate on your course!)`),\n    !discounts\n      ? h(PageLoader)\n      : h(Box, {gap: 32}, discounts.map(discount => h('div', [\n        h(DiscountItem, {discount, delete:()=>{\n          if(!discounts) return\n          mutate(discounts.filter(d=>d.code !== discount.code))\n        }})\n      ])))\n  ])\n}\n\nfunction DiscountItem(props: {discount: course_discounts, delete: ()=>void}) {\n  let ref = useRef<HTMLInputElement | null>(null)\n  let [status, callDelete] = useApi<null, DeleteDiscountResult>([props], props.delete)\n  return h(Box, { gap: 8 }, [\n    h(\"h3\", props.discount.name),\n    h(\"div\", [\n      h(\n        \"span.textSecondary\",\n        `${\n          props.discount.type === \"absolute\"\n            ? \"$\" + props.discount.amount\n            : props.discount.amount + \"%\"\n        } off`\n      ),\n      h(\n        \"span.textSecondary\",\n        ` | Redeemed ${\n          props.discount.max_redeems === 0\n            ? props.discount.redeems\n            : `${props.discount.redeems}/${props.discount.max_redeems}`\n        } times`\n      ),\n    ]),\n    h(Box, { h: true, style: { alignItems: \"center\" } }, [\n      h(Input, {\n        onFocus: (e) => {\n          e.currentTarget.selectionEnd = e.currentTarget.value.length;\n        },\n        style: { width: \"360px\", textDecoration: \"underline\", color: \"blue\" },\n        readOnly: true,\n        value: `https://app.krakenedu.com/discount?discount=${props.discount.code}`,\n        ref: ref,\n      }),\n      h(\n        Secondary,\n        {\n          disabled:\n            props.discount.max_redeems !== 0 &&\n            props.discount.max_redeems <= props.discount.redeems,\n          onClick: (e) => {\n            e.preventDefault();\n            if (!ref.current) return;\n            ref.current.select();\n            document.execCommand(\"copy\");\n            ref.current.selectionEnd = ref.current.selectionStart;\n            ref.current.blur();\n          },\n        },\n        \"Copy\"\n      ),\n      h(\n        Destructive,\n        {\n          status,\n          onClick: (e) => {\n            e.preventDefault();\n            callDelete(\"/api/discounts/\" + props.discount.code, null, \"DELETE\");\n          },\n        },\n        \"Delete\"\n      ),\n    ]),\n  ]);\n}\n","import styled from \"@emotion/styled\"\nimport h from 'react-hyperscript'\nimport { Box } from \"./Layout\"\nimport { LinkButton } from \"./Button\"\n\nconst Icons = [\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Lightbulb.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Sparkle.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Picture.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Video.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MusicNote.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Potion.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Plant.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Puzzle.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Chart.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/MoneyBag.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Camera.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Numbers.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Crayon.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/House.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Book.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Present.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Earth.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Shapes.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/Heart.png',\n  'https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/EmojiSet/SpeechBubble.png'\n]\n\nexport const IconPicker = (props:{icons: string[], setIcons: (icons:string[])=>void}) =>{\n  let icons = props.icons.filter(x=>!!x)\n  return h(Box, {width: 400}, [\n    h(IconGrid, Icons.map(icon => h('img', {\n      src: icon,\n      alt: icon.split('/')[icon.length - 1],\n      key: icon,\n      onClick: ()=>{\n        let newIcons = icons.slice(0)\n        if(newIcons.length === 3)  newIcons = [icon]\n        else newIcons[newIcons.length] = icon\n        props.setIcons(newIcons)\n      }\n    }))),\n    h(Box, {gap:8}, [\n      h(IconDisplay, icons.map((icon, index)=> h('img', {key: index, src: icon}))),\n      h(LinkButton, {\n        style:{justifySelf: 'right'},\n        type: 'reset',\n        onClick: ()=>{\n          props.setIcons([])\n        }}, 'Clear')\n    ])\n  ])\n}\n\nconst IconGrid = styled('div')`\ndisplay: grid;\ngrid-template-columns: repeat(auto-fill, 32px);\ngrid-gap: 32px;\n`\n\nconst IconDisplay = styled('div')`\nbox-sizing: border-box;\nheight: 64px;\nbackground-color: white;\ndisplay: grid;\ngrid-template-columns: repeat(3, 32px);\njustify-content: center;\ngrid-gap: 16px;\npadding: 16px;\nwidth: 100%;\nborder: 1px solid;\n`\n","import h from 'react-hyperscript'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { useState, useEffect, Fragment } from 'react'\nimport { InferGetStaticPropsType } from 'next'\nimport styled from '@emotion/styled'\n\nimport { Tabs } from 'components/Tabs'\nimport { useApi, callApi } from 'src/apiHelpers'\nimport { Course, useCourseData, useUserData } from 'src/data'\nimport { PageLoader } from 'components/Loader'\nimport { Box, Seperator, LabelBox, FormBox } from 'components/Layout'\nimport { Info, Error, Select, Input, Textarea, CheckBox } from 'components/Form'\nimport { Primary, Destructive, Secondary, BackButton, IconButton } from 'components/Button'\nimport {Discounts} from 'components/pages/courses/settings/Discounts'\nimport ErrorPage from 'pages/404'\nimport { useDebouncedEffect, useFormData } from 'src/hooks'\nimport { courseDataQuery, UpdateCourseMsg, UpdateCourseResponse } from 'pages/api/courses/[id]'\nimport { CheckUsernameResult } from 'pages/api/get/[...item]'\nimport { CreateCohortMsg, CreateCohortResponse } from 'pages/api/cohorts'\nimport { InviteToCourseMsg, InviteToCourseResponse } from 'pages/api/courses/[id]/invite'\nimport { Modal } from 'components/Modal'\nimport { DeleteTemplateResult } from 'pages/api/courses/[id]/templates/[templateId]'\nimport { getTaggedPost } from 'src/discourse'\nimport { Cohort } from '..'\nimport { IconPicker } from 'components/IconPicker'\nimport { Cross } from 'components/Icons'\nimport { Pill } from 'components/Pill'\n\nconst COPY = {\n  cancelCohort: h(\"p.textSecondary\", [\n    `Contact us at `,\n    h(\"a\", { href: \"mailto:contact@krakenedu.com\" }, `contact@krakenedu.com`),\n    ` to cancel a cohort. Optionally,  let us know the reason you’re cancelling (we’re curious 🤓)`,\n  ]),\n};\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nconst WrappedCourseSettingsPage = (props: Props)=>props.notFound ? h(ErrorPage) : h(CourseSettings, props)\nfunction CourseSettings(props:Extract<Props, {notFound:false}>){\n  let {data: course, mutate} = useCourseData(props.id, props.course || undefined)\n  let {data: user} = useUserData()\n  let router = useRouter()\n\n  useEffect(()=>{\n    if(user === undefined) return\n    if(course) {\n      let isMaintainer = !!(course.course_maintainers.find(maintainer => user && maintainer.maintainer === user.id))\n      if(!isMaintainer) router.push('/')\n    }\n  }, [user, course])\n  if(!course || !user) return h(PageLoader)\n\n  return h(Box, { gap: 64, width: 640 }, [\n    h(Box, { gap: 16 }, [\n      h(\n        BackButton,\n        {\n          href: \"/courses/[slug]/[id]\",\n          as: `/courses/${router.query.slug}/${router.query.id}`,\n        },\n        course.type === \"club\" ? \"Club\" : \"Course\"\n      ),\n      h(\"h1\", \"Settings\"),\n      h(\"p.big\", [\n        `KrakenEdu is new and some things can only be done manually for now! To add a new maintainer, remove a cohort, or anything else you don't see here, please email `,\n        h(\"a\", { href: \"mailto:help@krakenedu.com\" }, \"help@krakenedu.com\"),\n      ]),\n    ]),\n    h(Tabs, {\n      tabs: {\n        Cohorts: h(CohortSettings, { course, mutate }),\n        Details: h(EditDetails, { course, mutate }),\n        Invites: h(Invites, { course, mutate }),\n        Templates: h(CourseTemplates, { course, mutate }),\n        Discounts: h(Discounts, { course: course.id }),\n      },\n    }),\n  ]);\n}\n\nexport default WrappedCourseSettingsPage\n\n\nfunction CohortSettings(props:{course:Course, mutate: (course:Course)=>void}) {\n  let {data: user} = useUserData()\n  return h(Box, {gap: 32}, [\n    h(AddCohort, props),\n    h(Seperator),\n    h(Box, {gap: 16}, [\n      h('h3', \"Cancel a Cohort\"),\n      COPY.cancelCohort\n    ]),\n    h(Box, [\n      h('h3', \"All Cohorts\"),\n      h(Box, {gap:32}, props.course.course_cohorts.map((cohort)=>{\n        let facilitating = !!cohort.cohort_facilitators.find(f=>user&&f.facilitator === user.id)\n        return h(Cohort, {\n          cohort,\n          enrolled: false,\n          facilitating,\n          slug: props.course.slug,\n          cohort_max_size: props.course.cohort_max_size,\n          invited: true\n        })\n      })),\n    ])\n  ])\n}\n\n//feature to add a new cohort to a course\nconst AddCohort = (props:{course:Course, mutate:(c:Course)=>void})=> {\n  let [newCohort, setNewCohort] = useState({start_date: '', start_time: '', facilitators: [] as string[]})\n  let [status, callCreateCohort] = useApi<CreateCohortMsg, CreateCohortResponse>([newCohort])\n\n  let timezone = new Date().toLocaleDateString('en-us',{timeZoneName:\"short\"}).split(', ')[1]\n\n  const onSubmit = async (e:React.FormEvent) => {\n    e.preventDefault()\n\n    let date = newCohort.start_date.split('-').map(x=>parseInt(x))\n    let time = newCohort.start_time.split(':').map(x=>parseInt(x))\n    let start = new Date(date[0], date[1] -1, date[2], time[0], time[1])\n\n    let res = await callCreateCohort(`/api/cohorts`, {courseId: props.course.id, facilitators:newCohort.facilitators, start: start.toISOString()})\n    if(res.status === 200) props.mutate({\n        ...props.course,\n        course_cohorts: [...props.course.course_cohorts, {...res.result, people_in_cohorts:[], courses: {name: props.course.name}}]\n      })\n  }\n\n  return h(FormBox, {onSubmit, gap: 32, style: {width: 400}}, [\n    h('h2', 'Add a new Cohort'),\n    status === 'error' ? h(Error, 'An error occured') : null,\n    status === 'success' ? h(Info, 'Cohort created!') : null,\n    h(LabelBox, {gap:8}, [\n      h('h4', \"Facilitator\"),\n      h(Select, {\n        required: true,\n        onChange: (e:React.ChangeEvent<HTMLSelectElement>)=> setNewCohort({...newCohort, facilitators: [...newCohort.facilitators, e.currentTarget.value]})\n      }, [\n        h('option', {value: ''}, \"Select a facilitator\"),\n        ...(props.course.course_maintainers.map(maintainer => {\n          return h('option', {value: maintainer.maintainer}, maintainer.people.display_name || maintainer.people.username)\n        })||[])\n      ]),\n      h(Box, {h:true}, newCohort.facilitators.map(f=>{\n        let facilitator = props.course.course_maintainers.find(m=>m.maintainer === f)\n        if(!facilitator) return null\n        return h(Pill, {}, h(Box, {h:true, gap:4}, [\n          h('p', facilitator.people.display_name || facilitator.people.username),\n          h(IconButton, {onClick:e=>{\n            e.preventDefault()\n            setNewCohort({...newCohort, facilitators:newCohort.facilitators.filter(f2=>f2!==f)})\n          }}, h(Cross, {width: 10, height:10}))\n        ]))\n      }))\n    ]),\n    h(Box, {h: true, gap: 32}, [\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Start Date'),\n      h(Input, {\n        type: 'date',\n        placeholder: 'yyyy-mm-dd',\n        required: true,\n        value: newCohort.start_date,\n        onChange: e => setNewCohort({...newCohort, start_date: e.currentTarget.value})\n      })\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', `Start time (${timezone})`),\n      h(Input, {\n        type: 'time',\n        placeholder: '23:59',\n        required: true,\n        value: newCohort.start_time,\n        onChange: e => setNewCohort({...newCohort, start_time: e.currentTarget.value})\n      })\n    ]),\n    ]),\n    h(Primary, {\n      style: {justifySelf: 'right'},\n      status,\n      type: 'submit',\n      success: status === 'success',\n      disabled: !newCohort.start_date || newCohort.facilitators.length===0\n    }, 'Add a new Cohort'),\n  ])\n}\n\nconst Invites = (props:{course:Course, mutate: (c:Course) => void})=> {\n  let [emailOrUsername, setEmailOrUsername] = useState('')\n  let [invite_only, setInviteOnly] = useState(props.course.invite_only)\n  let [valid, setValid] = useState<null | boolean>(null)\n  let [status, callInviteToCourse] = useApi<InviteToCourseMsg, InviteToCourseResponse>([emailOrUsername], ()=>setEmailOrUsername(''))\n  let [updateStatus, callUpdateCourse] = useApi<UpdateCourseMsg, UpdateCourseResponse>([])\n\n  useDebouncedEffect(async ()=>{\n    if(emailOrUsername.includes('@') || emailOrUsername === '') return setValid(null)\n    let res = await callApi<null, CheckUsernameResult>('/api/get/username/'+emailOrUsername)\n    if(res.status===404) setValid(false)\n    else setValid(true)\n  }, 500, [emailOrUsername])\n  useEffect(()=>setValid(null),[emailOrUsername])\n\n  let onSubmitInvite = async (e: React.FormEvent)=>{\n    e.preventDefault()\n    let x = emailOrUsername.includes('@') ? {email: emailOrUsername} : {username: emailOrUsername}\n    callInviteToCourse(`/api/courses/${props.course.id}/invite`, {...x})\n  }\n\n  let onSubmitToggleInviteOnly = async (e:React.FormEvent)=>{\n    e.preventDefault()\n    let res = await callUpdateCourse(`/api/courses/${props.course.id}`, {invite_only})\n    if(res.status === 200) props.mutate({...props.course, ...res.result})\n  }\n\n  return h(Box, { gap: 16, width: 400 }, [\n    h(\"h2\", \"Invites\"),\n    h(Box, { gap: 32 }, [\n      h(FormBox, { onSubmit: onSubmitToggleInviteOnly }, [\n        h(LabelBox, { gap: 8, width: 400 }, [\n          h(\"div\", [\n            h(\"h4\", \"Invite Only\"),\n            h(\n              \"small.textSecondary\",\n              `Learners cannot enroll in an invite only course unless you have sent them an\ninvite. The invite allows them enroll in any cohort and does not expire.`\n            ),\n          ]),\n          h(CheckBox, [\n            h(Input, {\n              type: \"checkbox\",\n              checked: invite_only,\n              onChange: (e) => setInviteOnly(e.currentTarget.checked),\n            }),\n            \"Make this course invite only\",\n          ]),\n        ]),\n        h(\n          Primary,\n          {\n            style: { justifySelf: \"right\" },\n            status: updateStatus,\n            type: \"submit\",\n            disabled: props.course.invite_only === invite_only,\n          },\n          \"Change\"\n        ),\n      ]),\n      !props.course.invite_only\n        ? null\n        : h(FormBox, { onSubmit: onSubmitInvite, gap: 32, width: 400 }, [\n            h(LabelBox, { gap: 8 }, [\n              h(\"h4\", \"Invite someone to enroll\"),\n              h(\n                \"small.textSecondary\",\n                `Invite someone with their username or email. Invitee does not need a KrakenEdu account to be invited, but they will need an account to enroll.`\n              ),\n              h(Input, {\n                type: emailOrUsername.includes(\"@\") ? \"email\" : \"text\",\n                value: emailOrUsername,\n                onChange: (e) => setEmailOrUsername(e.currentTarget.value),\n              }),\n              valid === null\n                ? null\n                : valid\n                ? h(\"span.accentSuccess\", \"Great, found @\" + emailOrUsername)\n                : h(\n                    \"span.accentRed\",\n                    \"We can't find a user with that username\"\n                  ),\n            ]),\n            h(\n              Primary,\n              {\n                style: { justifySelf: \"right\" },\n                status,\n                type: \"submit\",\n                disabled: !emailOrUsername.includes(\"@\") && valid !== true,\n              },\n              \"Invite\"\n            ),\n          ]),\n    ]),\n  ]);\n}\n\nconst EditDetails = (props: {course: Course, mutate:(course:Course)=>void}) => {\n  let {state, form, changed, reset, setState} = useFormData({\n    name: props.course.name,\n    card_image: props.course.card_image,\n    cohort_max_size: props.course.cohort_max_size,\n    description: props.course.description,\n    prerequisites: props.course.prerequisites,\n    cost: props.course.cost,\n    duration: props.course.duration\n  }, [props.course])\n  let [status, callUpdateCourse] = useApi<UpdateCourseMsg, UpdateCourseResponse>([])\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    let res = await callUpdateCourse(`/api/courses/${props.course.id}`, {...state})\n    if(res.status === 200) props.mutate({...props.course, ...res.result})\n  }\n\n  return h(FormBox, {onSubmit, gap:32, style:{width: 400}}, [\n    h('h2', 'Edit Details'),\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Name'),\n      h(Input, {\n        type: 'text',\n        maxLength: 50,\n        ...form.name\n      }),\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Cost (USD)'),\n      h(Input, {\n        type: 'number',\n        ...form.cost\n      })\n    ]),\n    props.course.type === 'course' ? null : h(Box,  [\n      h(\"div\", [\n        h('h4', \"Emojis\"),\n        h('small.textSecondary', \"Select three emojis to describe your club! Repeats ok.\")\n      ]),\n      h(IconPicker, {\n        icons: state.card_image.split(','),\n        setIcons: (icons:string[]) => {\n          setState({...state, card_image: icons.join(',')})\n        }\n      })\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('div', [\n        h('h4', \"Cohort Size\"),\n        h('small.textSecondary', \"How many learners can enroll in a cohort. Set to 0 for no limit.\")\n      ]),\n      h(Input, {\n        type: 'number',\n        required: true,\n        ...form.cohort_max_size\n      })\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Description'),\n      h(Textarea, {\n        maxLength: 200,\n        ...form.description\n        }),\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Prerequisites'),\n      h(Textarea, form.prerequisites)\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', 'Duration'),\n      h(Input, form.duration)\n    ]),\n    h(SubmitButtons, [\n      h(Destructive, {disabled: !changed, onClick: (e)=>{\n        e.preventDefault()\n        reset()\n      }}, \"Discard Changes\"),\n        h(Primary, {type: 'submit', disabled: !changed, status}, 'Save Changes')\n    ]),\n    h(Maintainers, props)\n  ])\n}\n\nfunction Maintainers (props: {course: Course, mutate: (c: Course)=>void}) {\n  let [newMaintainer, setNewMaintainer] = useState('')\n  return h(Box, [\n    h('h3', \"Maintainers\"),\n    ...props.course.course_maintainers.map(m=>{\n      return m.people.display_name || m.people.username\n    }),\n    h('h4', \"Add a maintainer\"),\n    h(FormBox, [\n      h(Input, {value: newMaintainer, onChange:(e)=>setNewMaintainer(e.currentTarget.value)}),\n      h(Primary, {type:'submit'}, \"Add\")\n    ])\n  ])\n}\n\nfunction CourseTemplates (props: {course: Course, mutate: (c:Course)=>void}) {\n  return h(Box, {gap: 32}, [\n    h(Box, [\n      h('p', `Each cohort comes with its own community space, and templates to help you populate its structure with topics.`),\n      h('ul', {style: {'margin': 'auto 0'}}, [\n        h('li', [\n          h('b', 'Prepopulated'), \n          h('span', ' topics are automatically posted when each new cohort is created')\n        ]),\n        h('li', [\n          h('b', 'Triggered'), \n          h('span', ' topics can be posted by the facilitator from the cohort settings (editable before publishing, so useful for creating multiple topics from one template)')\n        ])\n      ]),\n      h('p', `You can edit the default templates we've provided below, or add new ones!`),\n      h(Link, {\n        href: '/courses/[slug]/[id]/settings/templates/[templateId]',\n        as:`/courses/${props.course.slug}/${props.course.id}/settings/templates/new`\n      }, h('a', {}, h(Primary, \"+ Add A New Template\"))),\n    ]),\n    h(Box, {}, props.course.course_templates\n      .sort((a, b)=>  a.name > b.name ? 1 : -1)\n      .sort((a)=> a.required ? -1 : 1)\n      .flatMap(template => {\n        return [\n          h(Box, {h: true, style: {gridAutoColumns: 'auto'}},[\n            h('div', [\n              h('h3', template.name),\n              h('span.textSecondary', template.type ==='prepopulated' ? \"Prepopulated for all cohorts\" : \"Manually published by facilitator\")\n            ]),\n            h(Box, {h: true, style:{justifySelf: 'end', alignItems: 'center'}}, [\n              template.required ? null : h(DeleteTemplate, {course: props.course, mutate: props.mutate, templateName: template.name}),\n              h(Link, {\n                href: '/courses/[slug]/[id]/settings/templates/[templateId]',\n                as: `/courses/${props.course.slug}/${props.course.id}/settings/templates/${template.name}`\n              }, h('a', {}, h(Secondary, 'Edit')))\n            ])\n          ]),\n          h(Seperator)\n        ]}).slice(0, -1))\n  ])\n}\n\nfunction DeleteTemplate(props:{templateName:string, course:Course, mutate:(c:Course)=>void}) {\n  let [state, setState] = useState<'normal' | 'confirm'>('normal')\n  let [status, callDelete] = useApi<null, DeleteTemplateResult>([props])\n  return h(Fragment, [\n    h(Destructive, {onClick: ()=>setState('confirm')}, 'Delete'),\n    h(Modal, {display: state !== 'normal', closeText:\"nevermind\", onExit: ()=>setState('normal')}, [\n      h(Box, {gap:32, style: {textAlign: 'center'}}, [\n        h('h3', \"Are you sure?\"),\n        h('p', \"You can't undo this action!\"),\n        h(Primary, {style: {justifySelf:\"center\"}, status, onClick:async ()=>{\n          let res = await callDelete(`/api/courses/${props.course.id}/templates/${props.templateName}`, null, \"DELETE\")\n          if(res.status ===200) {\n            props.mutate({\n              ...props.course,\n              course_templates: props.course.course_templates\n                .filter(t=>t.name!==props.templateName)\n            })\n            setState('normal')\n          }\n        }}, \"Yup delete it\"),\n      ])\n    ])\n  ])\n}\n\n\nconst SubmitButtons = styled('div')`\njustify-self: right;\ndisplay: grid;\ngrid-template-columns: auto auto;\ngrid-gap: 16px;\n`\n\nexport const getStaticProps = async (ctx:any) => {\n  let id = parseInt(ctx.params?.id as string || '' )\n  if(Number.isNaN(id)) return {props: {notFound: true}} as const\n\n  let data = await courseDataQuery(id)\n  if(!data) return {props:{notFound: true}} as const\n  let content = await getTaggedPost(data.category_id, 'curriculum')\n\n  return {props: {notFound: false, id, course: data, content}, revalidate: 1} as const\n}\n\nexport const getStaticPaths = () => {\n  return {paths:[], fallback: true}\n}\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/[slug]/[id]/settings\",\n        function () {\n          return require(\"private-next-pages/courses/[slug]/[id]/settings/index.ts\");\n        }\n      ]);\n    "]}}