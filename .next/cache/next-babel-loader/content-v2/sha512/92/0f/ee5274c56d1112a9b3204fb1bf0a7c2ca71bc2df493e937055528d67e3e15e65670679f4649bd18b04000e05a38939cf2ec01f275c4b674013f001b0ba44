{"ast":null,"code":"import _styled from \"@emotion/styled-base\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport h from 'react-hyperscript';\nimport fs from 'fs';\nimport path from 'path';\nimport matter from 'gray-matter';\nimport Link from 'next/link';\nimport { Box, FlexGrid } from 'components/Layout';\nimport { Card } from 'components/Cards'; // import { prettyDate } from 'src/utils'\n\nimport { Pill } from 'components/Pill';\nimport { RSS } from 'components/Icons';\nimport { Info } from 'components/Form';\nexport const collections = {\n  announcement: {\n    title: \"Announcements\",\n    description: \"New courses, feature notes, upcoming events, and other KrakenEdu news.\"\n  },\n  \"learning-design\": {\n    title: \"Learning Design\",\n    description: \"Essays and guides about aspects of creating great learning experiences.\"\n  },\n  bookshelf: {\n    title: \"Bookshelf\",\n    description: \"Highlighting and reviewing our favorite books on learning and pedagogy.\"\n  },\n  // \"changelog\": {\n  //   title: \"Changelog\",\n  //   description: \"Behind the scenes on KrakenEdu development.\",\n  // },\n  interviews: {\n    title: \"Interviews\",\n    description: \"Conversations with amazing teachers and learners.\"\n  } // \"resources\": {\n  //   title: \"Resources\",\n  //   description: \"Our favorite projects, websites, syllabi, and other learning resources.\",\n  // },\n\n}; //the KrakenEdu Library layout is defined here\n\nconst Library = props => {\n  return h(Box, {\n    gap: 32\n  }, [h(Box, {\n    gap: 32,\n    h: true,\n    style: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    }\n  }, [h('h1', 'KrakenEdu Library'), h('a', {\n    href: '/rss.xml',\n    style: {\n      alignSelf: 'center'\n    }\n  }, RSS), h('a', {\n    href: '/library/latest',\n    style: {\n      alignSelf: 'center',\n      float: 'right'\n    }\n  }, 'chronological feed')]), h('p.big', `Welcome to our internet center for teaching and learning â€” enjoy browsing the collections!`), h(Info, [`ðŸ““ For a general introduction to KrakenEdu and overview of how the platform works, please read the `, h('a', {\n    href: `/manual`\n  }, `KrakenEdu Manual`), `.`]), ...Object.keys(collections).flatMap(slug => {\n    let collection = collections[slug];\n    let posts = props.posts.filter(p => p.tags && p.tags.includes(slug)).sort((a, b) => {\n      return new Date(a.date) < new Date(b.date) ? 1 : -1;\n    });\n    return [h(Box, {\n      gap: 32\n    }, [h(Box, {\n      gap: 8,\n      width: 640\n    }, [h('h2', collection.title), h('p.big', collection.description), h(Link, {\n      href: \"/library/collections/\" + slug\n    }, h('a', `See all posts (${posts.length})`))]), h(FlexGrid, {\n      min: 250,\n      mobileMin: 200\n    }, posts.slice(0, 3).map(p => h(Link, {\n      href: p.path,\n      passHref: true\n    }, h(Card, {\n      style: {\n        height: 'min-content'\n      }\n    }, [h(Box, {\n      gap: 16\n    }, [h(Box, {\n      gap: 8\n    }, [h('h3', p.title), new Date(p.date) > new Date(new Date().getTime() - 60 * 60 * 24 * 7 * 1000) ? h(NewPill, \"new!\") : null // h('span.textSecondary', `${p.author} | ${prettyDate(p.date)}`)\n    ]), h('p', p.description)])]))))]), h('hr')];\n  }).slice(0, -1)]);\n};\n\nexport const getStaticProps = async () => {\n  let posts = fs.readdirSync('./pages/library').map(file => {\n    if (fs.lstatSync(path.join('./pages/library/', file)).isDirectory()) return;\n    let content = fs.readFileSync('./pages/library/' + file);\n    let {\n      data\n    } = matter(content);\n    return _objectSpread(_objectSpread({}, data), {}, {\n      path: '/library/' + file.slice(0, -4)\n    });\n  }).filter(x => x !== undefined);\n  return {\n    props: {\n      posts: posts\n    }\n  };\n};\nexport default Library; // pill to tag new posts - published in the last 7 days\n\nconst NewPill = /*#__PURE__*/_styled(Pill, {\n  target: \"ez6x3s0\"\n})(true ? {\n  name: \"1qc5v5x\",\n  styles: \"background-color:green;color:white;\"\n} : {\n  name: \"1qc5v5x\",\n  styles: \"background-color:green;color:white;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvcGFnZXMvbGlicmFyeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFrSDRCIiwiZmlsZSI6Ii9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvcGFnZXMvbGlicmFyeS50cyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoIGZyb20gJ3JlYWN0LWh5cGVyc2NyaXB0J1xuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCdcbmltcG9ydCBtYXR0ZXIgZnJvbSAnZ3JheS1tYXR0ZXInXG5pbXBvcnQgeyBJbmZlckdldFN0YXRpY1Byb3BzVHlwZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5cbmltcG9ydCB7IEJveCwgRmxleEdyaWQgfSBmcm9tICdjb21wb25lbnRzL0xheW91dCdcbmltcG9ydCB7IENhcmQgfSBmcm9tICdjb21wb25lbnRzL0NhcmRzJ1xuLy8gaW1wb3J0IHsgcHJldHR5RGF0ZSB9IGZyb20gJ3NyYy91dGlscydcbmltcG9ydCB7IFBpbGwgfSBmcm9tICdjb21wb25lbnRzL1BpbGwnXG5pbXBvcnQge1JTU30gZnJvbSAnY29tcG9uZW50cy9JY29ucydcbmltcG9ydCBzdHlsZWQgZnJvbSAnQGVtb3Rpb24vc3R5bGVkJ1xuaW1wb3J0IHsgSW5mbyB9IGZyb20gJ2NvbXBvbmVudHMvRm9ybSdcblxuZXhwb3J0IHR5cGUgIExpYnJhcnkgPSB7XG4gIHRpdGxlOnN0cmluZyxcbiAgYXV0aG9yOnN0cmluZyxcbiAgZGF0ZTpzdHJpbmcsXG4gIHBhdGg6IHN0cmluZyxcbiAgZGVzY3JpcHRpb246c3RyaW5nLFxuICB0YWdzOnN0cmluZ1tdXG59XG5cbmV4cG9ydCBjb25zdCBjb2xsZWN0aW9ucyA9IHtcbiAgYW5ub3VuY2VtZW50OiB7XG4gICAgdGl0bGU6IFwiQW5ub3VuY2VtZW50c1wiLFxuICAgIGRlc2NyaXB0aW9uOlxuICAgICAgXCJOZXcgY291cnNlcywgZmVhdHVyZSBub3RlcywgdXBjb21pbmcgZXZlbnRzLCBhbmQgb3RoZXIgS3Jha2VuRWR1IG5ld3MuXCIsXG4gIH0sXG4gIFwibGVhcm5pbmctZGVzaWduXCI6IHtcbiAgICB0aXRsZTogXCJMZWFybmluZyBEZXNpZ25cIixcbiAgICBkZXNjcmlwdGlvbjpcbiAgICAgIFwiRXNzYXlzIGFuZCBndWlkZXMgYWJvdXQgYXNwZWN0cyBvZiBjcmVhdGluZyBncmVhdCBsZWFybmluZyBleHBlcmllbmNlcy5cIixcbiAgfSxcbiAgYm9va3NoZWxmOiB7XG4gICAgdGl0bGU6IFwiQm9va3NoZWxmXCIsXG4gICAgZGVzY3JpcHRpb246XG4gICAgICBcIkhpZ2hsaWdodGluZyBhbmQgcmV2aWV3aW5nIG91ciBmYXZvcml0ZSBib29rcyBvbiBsZWFybmluZyBhbmQgcGVkYWdvZ3kuXCIsXG4gIH0sXG4gIC8vIFwiY2hhbmdlbG9nXCI6IHtcbiAgLy8gICB0aXRsZTogXCJDaGFuZ2Vsb2dcIixcbiAgLy8gICBkZXNjcmlwdGlvbjogXCJCZWhpbmQgdGhlIHNjZW5lcyBvbiBLcmFrZW5FZHUgZGV2ZWxvcG1lbnQuXCIsXG4gIC8vIH0sXG4gIGludGVydmlld3M6IHtcbiAgICB0aXRsZTogXCJJbnRlcnZpZXdzXCIsXG4gICAgZGVzY3JpcHRpb246IFwiQ29udmVyc2F0aW9ucyB3aXRoIGFtYXppbmcgdGVhY2hlcnMgYW5kIGxlYXJuZXJzLlwiLFxuICB9LFxuICAvLyBcInJlc291cmNlc1wiOiB7XG4gIC8vICAgdGl0bGU6IFwiUmVzb3VyY2VzXCIsXG4gIC8vICAgZGVzY3JpcHRpb246IFwiT3VyIGZhdm9yaXRlIHByb2plY3RzLCB3ZWJzaXRlcywgc3lsbGFiaSwgYW5kIG90aGVyIGxlYXJuaW5nIHJlc291cmNlcy5cIixcbiAgLy8gfSxcbn07XG5cbi8vdGhlIEtyYWtlbkVkdSBMaWJyYXJ5IGxheW91dCBpcyBkZWZpbmVkIGhlcmVcblxudHlwZSBQcm9wcyA9IEluZmVyR2V0U3RhdGljUHJvcHNUeXBlPHR5cGVvZiBnZXRTdGF0aWNQcm9wcz5cbmNvbnN0IExpYnJhcnkgPSAocHJvcHM6UHJvcHMpID0+IHtcbiAgcmV0dXJuIGgoQm94LCB7Z2FwOiAzMn0sIFtcbiAgICBoKEJveCwge2dhcDogMzIsIGg6IHRydWUsIHN0eWxlOntkaXNwbGF5OlwiZmxleFwiLCBmbGV4V3JhcDpcIndyYXBcIn19LCBbXG4gICAgICBoKCdoMScsICdLcmFrZW5FZHUgTGlicmFyeScpLFxuICAgICAgaCgnYScsIHtocmVmOicvcnNzLnhtbCcsIHN0eWxlOnthbGlnblNlbGY6ICdjZW50ZXInfX0sIFJTUyksXG4gICAgICBoKCdhJywge2hyZWY6Jy9saWJyYXJ5L2xhdGVzdCcsIHN0eWxlOnthbGlnblNlbGY6ICdjZW50ZXInLCBmbG9hdDogJ3JpZ2h0J319LCAnY2hyb25vbG9naWNhbCBmZWVkJyksXG4gICAgXSksXG4gICAgaCgncC5iaWcnLCBgV2VsY29tZSB0byBvdXIgaW50ZXJuZXQgY2VudGVyIGZvciB0ZWFjaGluZyBhbmQgbGVhcm5pbmcg4oCUIGVuam95IGJyb3dzaW5nIHRoZSBjb2xsZWN0aW9ucyFgKSxcbiAgICBoKEluZm8sIFtcbiAgICAgIGDwn5OTIEZvciBhIGdlbmVyYWwgaW50cm9kdWN0aW9uIHRvIEtyYWtlbkVkdSBhbmQgb3ZlcnZpZXcgb2YgaG93IHRoZSBwbGF0Zm9ybSB3b3JrcywgcGxlYXNlIHJlYWQgdGhlIGAsXG4gICAgICBoKCdhJywge2hyZWY6IGAvbWFudWFsYH0sIGBLcmFrZW5FZHUgTWFudWFsYCksXG4gICAgICBgLmBcbiAgICBdKSxcbiAgICAuLi5PYmplY3Qua2V5cyhjb2xsZWN0aW9ucykuZmxhdE1hcChzbHVnPT57XG4gICAgICBsZXQgY29sbGVjdGlvbiA9IGNvbGxlY3Rpb25zW3NsdWcgYXMga2V5b2YgdHlwZW9mIGNvbGxlY3Rpb25zXVxuICAgICAgbGV0IHBvc3RzID0gcHJvcHMucG9zdHMuZmlsdGVyKHA9PnAudGFncyAmJiBwLnRhZ3MuaW5jbHVkZXMoc2x1ZykpLnNvcnQoKGEsIGIpPT57XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShhLmRhdGUpIDwgbmV3IERhdGUoYi5kYXRlKSA/IDEgOiAtMVxuICAgICAgfSlcbiAgICAgIHJldHVybiBbXG4gICAgICAgIGgoQm94LCB7Z2FwOiAzMn0sIFtcbiAgICAgICAgICBoKEJveCwge2dhcDo4LCB3aWR0aDogNjQwfSwgW1xuICAgICAgICAgICAgaCgnaDInLCBjb2xsZWN0aW9uLnRpdGxlKSxcbiAgICAgICAgICAgIGgoJ3AuYmlnJywgY29sbGVjdGlvbi5kZXNjcmlwdGlvbiksXG4gICAgICAgICAgICBoKExpbmssIHtocmVmOiBcIi9saWJyYXJ5L2NvbGxlY3Rpb25zL1wiK3NsdWd9LCBoKCdhJywgYFNlZSBhbGwgcG9zdHMgKCR7cG9zdHMubGVuZ3RofSlgKSlcbiAgICAgICAgICBdKSxcbiAgICAgICAgICBoKEZsZXhHcmlkLCB7bWluOjI1MCwgbW9iaWxlTWluOiAyMDB9LHBvc3RzLnNsaWNlKDAsMykubWFwKHA9PmgoTGluaywge2hyZWY6cC5wYXRoLCBwYXNzSHJlZjogdHJ1ZX0sIGgoQ2FyZCwge3N0eWxlOntoZWlnaHQ6J21pbi1jb250ZW50J319LCBbXG4gICAgICAgICAgICAgIGgoQm94LCB7Z2FwOiAxNn0sW1xuICAgICAgICAgICAgICAgIGgoQm94LCB7Z2FwOiA4fSwgW1xuICAgICAgICAgICAgICAgICAgaCgnaDMnLCBwLnRpdGxlKSxcbiAgICAgICAgICAgICAgICAgIG5ldyBEYXRlKHAuZGF0ZSkgPiBuZXcgRGF0ZSgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gNjAgKiA2MCAqIDI0ICogNyAqIDEwMDApID8gaChOZXdQaWxsLCBcIm5ldyFcIikgOiBudWxsLFxuICAgICAgICAgICAgICAgICAgLy8gaCgnc3Bhbi50ZXh0U2Vjb25kYXJ5JywgYCR7cC5hdXRob3J9IHwgJHtwcmV0dHlEYXRlKHAuZGF0ZSl9YClcbiAgICAgICAgICAgICAgICBdKSxcbiAgICAgICAgICAgICAgICBoKCdwJywgcC5kZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgIF0pKSlcbiAgICAgICAgICApXG4gICAgICAgIF0pLFxuICAgICAgICBoKCdocicpXG4gICAgICBdXG4gICAgfSkuc2xpY2UoMCwtMSksXG4gIF0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGFzeW5jICgpID0+e1xuICBsZXQgcG9zdHMgPSBmcy5yZWFkZGlyU3luYygnLi9wYWdlcy9saWJyYXJ5JykubWFwKChmaWxlKT0+e1xuICAgIGlmKGZzLmxzdGF0U3luYyhwYXRoLmpvaW4oJy4vcGFnZXMvbGlicmFyeS8nLCBmaWxlKSkuaXNEaXJlY3RvcnkoKSkgcmV0dXJuXG4gICAgbGV0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoJy4vcGFnZXMvbGlicmFyeS8nK2ZpbGUpXG4gICAgbGV0IHtkYXRhfSA9IG1hdHRlcihjb250ZW50KVxuICAgIHJldHVybiB7Li4uZGF0YSwgcGF0aDogJy9saWJyYXJ5LycrZmlsZS5zbGljZSgwLCAtNCl9IGFzIExpYnJhcnlcbiAgfSkuZmlsdGVyKHg9PnghPT11bmRlZmluZWQpXG5cbiAgcmV0dXJuIHtwcm9wczoge3Bvc3RzOnBvc3RzIGFzIExpYnJhcnlbXX19IGFzIGNvbnN0XG59XG5cbmV4cG9ydCBkZWZhdWx0IExpYnJhcnlcblxuLy8gcGlsbCB0byB0YWcgbmV3IHBvc3RzIC0gcHVibGlzaGVkIGluIHRoZSBsYXN0IDcgZGF5c1xuY29uc3QgTmV3UGlsbCA9IHN0eWxlZChQaWxsKWBcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBncmVlbjtcbiAgICBjb2xvcjogd2hpdGU7XG5gXG5cbi8vIC8vIFRvIGFkZCBuZXcgdGFnIHR5cGVzLCBhZGQgdGhlbSB0byB0aGlzIG9iamVjdC4gQWRkIHRoZSB0YWcgdHlwZSBhbmQgYSBjb2xvciB0aGUgdGFnIHNob3VsZCBiZS5cbi8vIGNvbnN0IHRhZ0NvbG9yczp7W2tleTogc3RyaW5nXTpzdHJpbmcgfCB1bmRlZmluZWR9ID0ge1xuLy8gICAgICdhbm5vdW5jZW1lbnQnOiAnI2NjMjI4OCcsXG4vLyAgICAgJ2Jvb2stcmV2aWV3JzogJyNjYzMzMjInLFxuLy8gICAgICdsZWFybmluZy1kZXNpZ24nOiAnIzExYWFjYycsXG4vLyAgICAgJ2h5cGVybGluay1tZXRhJzogJyMxZDQ0ZDYnLFxuLy8gICAgICdzdGFyZ2F6aW5nJzogJyM2Qjg2NDgnXG4vLyB9XG5cbi8vIC8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgdGFncyB3aXRoIHRoZSBhcHByb3ByaWF0ZSB0YWcgdHlwZSBhbmQgY29sb3IgYmFzZWQgb24gdGhlIGxpc3QgYWJvdmUuXG4vLyBjb25zdCBUYWcgPSBzdHlsZWQoUGlsbCkgPHt0YWdUeXBlOiBzdHJpbmd9PmBcbi8vICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3Byb3BzID0+IHRhZ0NvbG9yc1twcm9wcy50YWdUeXBlXSB8fCBjb2xvcnMuZ3JleTM1fTtcbi8vICAgICBjb2xvcjogd2hpdGU7XG4vLyAgICAgJjo6YWZ0ZXJ7XG4vLyAgICAgICAgIGNvbnRlbnQ6IFwiJHtwcm9wcyA9PiBwcm9wcy50YWdUeXBlfVwiO1xuLy8gICAgIH1cbi8vIGAiXX0= */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n}); // // To add new tag types, add them to this object. Add the tag type and a color the tag should be.\n// const tagColors:{[key: string]:string | undefined} = {\n//     'announcement': '#cc2288',\n//     'book-review': '#cc3322',\n//     'learning-design': '#11aacc',\n//     'hyperlink-meta': '#1d44d6',\n//     'stargazing': '#6B8648'\n// }\n// // This is a function that creates tags with the appropriate tag type and color based on the list above.\n// const Tag = styled(Pill) <{tagType: string}>`\n//     background-color: ${props => tagColors[props.tagType] || colors.grey35};\n//     color: white;\n//     &::after{\n//         content: \"${props => props.tagType}\";\n//     }\n// `","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/library.ts"],"names":["h","fs","path","matter","Link","Box","FlexGrid","Card","Pill","RSS","Info","collections","announcement","title","description","bookshelf","interviews","Library","props","gap","style","display","flexWrap","href","alignSelf","float","Object","keys","flatMap","slug","collection","posts","filter","p","tags","includes","sort","a","b","Date","date","width","length","min","mobileMin","slice","map","passHref","height","getTime","NewPill","getStaticProps","readdirSync","file","lstatSync","join","isDirectory","content","readFileSync","data","x","undefined"],"mappings":"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","sourcesContent":["import h from 'react-hyperscript'\nimport fs from 'fs'\nimport path from 'path'\nimport matter from 'gray-matter'\nimport { InferGetStaticPropsType } from 'next'\nimport Link from 'next/link'\n\nimport { Box, FlexGrid } from 'components/Layout'\nimport { Card } from 'components/Cards'\n// import { prettyDate } from 'src/utils'\nimport { Pill } from 'components/Pill'\nimport {RSS} from 'components/Icons'\nimport styled from '@emotion/styled'\nimport { Info } from 'components/Form'\n\nexport type  Library = {\n  title:string,\n  author:string,\n  date:string,\n  path: string,\n  description:string,\n  tags:string[]\n}\n\nexport const collections = {\n  announcement: {\n    title: \"Announcements\",\n    description:\n      \"New courses, feature notes, upcoming events, and other KrakenEdu news.\",\n  },\n  \"learning-design\": {\n    title: \"Learning Design\",\n    description:\n      \"Essays and guides about aspects of creating great learning experiences.\",\n  },\n  bookshelf: {\n    title: \"Bookshelf\",\n    description:\n      \"Highlighting and reviewing our favorite books on learning and pedagogy.\",\n  },\n  // \"changelog\": {\n  //   title: \"Changelog\",\n  //   description: \"Behind the scenes on KrakenEdu development.\",\n  // },\n  interviews: {\n    title: \"Interviews\",\n    description: \"Conversations with amazing teachers and learners.\",\n  },\n  // \"resources\": {\n  //   title: \"Resources\",\n  //   description: \"Our favorite projects, websites, syllabi, and other learning resources.\",\n  // },\n};\n\n//the KrakenEdu Library layout is defined here\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nconst Library = (props:Props) => {\n  return h(Box, {gap: 32}, [\n    h(Box, {gap: 32, h: true, style:{display:\"flex\", flexWrap:\"wrap\"}}, [\n      h('h1', 'KrakenEdu Library'),\n      h('a', {href:'/rss.xml', style:{alignSelf: 'center'}}, RSS),\n      h('a', {href:'/library/latest', style:{alignSelf: 'center', float: 'right'}}, 'chronological feed'),\n    ]),\n    h('p.big', `Welcome to our internet center for teaching and learning â€” enjoy browsing the collections!`),\n    h(Info, [\n      `ðŸ““ For a general introduction to KrakenEdu and overview of how the platform works, please read the `,\n      h('a', {href: `/manual`}, `KrakenEdu Manual`),\n      `.`\n    ]),\n    ...Object.keys(collections).flatMap(slug=>{\n      let collection = collections[slug as keyof typeof collections]\n      let posts = props.posts.filter(p=>p.tags && p.tags.includes(slug)).sort((a, b)=>{\n        return new Date(a.date) < new Date(b.date) ? 1 : -1\n      })\n      return [\n        h(Box, {gap: 32}, [\n          h(Box, {gap:8, width: 640}, [\n            h('h2', collection.title),\n            h('p.big', collection.description),\n            h(Link, {href: \"/library/collections/\"+slug}, h('a', `See all posts (${posts.length})`))\n          ]),\n          h(FlexGrid, {min:250, mobileMin: 200},posts.slice(0,3).map(p=>h(Link, {href:p.path, passHref: true}, h(Card, {style:{height:'min-content'}}, [\n              h(Box, {gap: 16},[\n                h(Box, {gap: 8}, [\n                  h('h3', p.title),\n                  new Date(p.date) > new Date((new Date()).getTime() - 60 * 60 * 24 * 7 * 1000) ? h(NewPill, \"new!\") : null,\n                  // h('span.textSecondary', `${p.author} | ${prettyDate(p.date)}`)\n                ]),\n                h('p', p.description)\n              ])\n            ])))\n          )\n        ]),\n        h('hr')\n      ]\n    }).slice(0,-1),\n  ])\n}\n\nexport const getStaticProps = async () =>{\n  let posts = fs.readdirSync('./pages/library').map((file)=>{\n    if(fs.lstatSync(path.join('./pages/library/', file)).isDirectory()) return\n    let content = fs.readFileSync('./pages/library/'+file)\n    let {data} = matter(content)\n    return {...data, path: '/library/'+file.slice(0, -4)} as Library\n  }).filter(x=>x!==undefined)\n\n  return {props: {posts:posts as Library[]}} as const\n}\n\nexport default Library\n\n// pill to tag new posts - published in the last 7 days\nconst NewPill = styled(Pill)`\n    background-color: green;\n    color: white;\n`\n\n// // To add new tag types, add them to this object. Add the tag type and a color the tag should be.\n// const tagColors:{[key: string]:string | undefined} = {\n//     'announcement': '#cc2288',\n//     'book-review': '#cc3322',\n//     'learning-design': '#11aacc',\n//     'hyperlink-meta': '#1d44d6',\n//     'stargazing': '#6B8648'\n// }\n\n// // This is a function that creates tags with the appropriate tag type and color based on the list above.\n// const Tag = styled(Pill) <{tagType: string}>`\n//     background-color: ${props => tagColors[props.tagType] || colors.grey35};\n//     color: white;\n//     &::after{\n//         content: \"${props => props.tagType}\";\n//     }\n// `"]},"metadata":{},"sourceType":"module"}