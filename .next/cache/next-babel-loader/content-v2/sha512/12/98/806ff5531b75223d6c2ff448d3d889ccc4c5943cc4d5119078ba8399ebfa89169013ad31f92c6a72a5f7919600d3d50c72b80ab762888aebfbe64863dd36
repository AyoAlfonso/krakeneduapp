{"ast":null,"code":"import _toConsumableArray from \"/Users/ayooluwaalfonso/code/krakeneduapp/node_modules/next/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport { useRef, useEffect, useState } from 'react';\nimport { formHelper } from './utils';\nexport var useDebouncedEffect = function useDebouncedEffect(callback, delay, deps) {\n  var firstUpdate = useRef(true);\n  useEffect(function () {\n    if (firstUpdate.current) {\n      firstUpdate.current = false;\n      return;\n    }\n\n    var handler = setTimeout(function () {\n      callback();\n    }, delay);\n    return function () {\n      clearTimeout(handler);\n    };\n  }, [delay].concat(_toConsumableArray(deps)));\n};\nexport var useMediaQuery = function useMediaQuery(query) {\n  var _useState = useState(false),\n      match = _useState[0],\n      setMatch = _useState[1];\n\n  useEffect(function () {\n    var mediaQuery = window.matchMedia(query);\n    setMatch(mediaQuery.matches);\n\n    var listener = function listener() {\n      setMatch(mediaQuery.matches);\n    };\n\n    mediaQuery.addListener(listener);\n    return function () {\n      return mediaQuery.removeListener(listener);\n    };\n  }, [query]);\n  return match;\n};\nexport function useFormData(initialState) {\n  var update = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n  var _useState2 = useState(initialState),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    setState(initialState);\n  }, update);\n  var form = formHelper(state, setState);\n  return {\n    state: state,\n    setState: setState,\n    changed: Object.keys(initialState).reduce(function (acc, key) {\n      return acc || initialState[key] !== state[key];\n    }, false),\n    form: form,\n    reset: function reset() {\n      return setState(initialState);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/src/hooks.ts"],"names":["useRef","useEffect","useState","formHelper","useDebouncedEffect","callback","delay","deps","firstUpdate","current","handler","setTimeout","clearTimeout","useMediaQuery","query","match","setMatch","mediaQuery","window","matchMedia","matches","listener","addListener","removeListener","useFormData","initialState","update","state","setState","form","changed","Object","keys","reduce","acc","key","reset"],"mappings":";AAAA,SAAQA,MAAR,EAAgBC,SAAhB,EAA2BC,QAA3B,QAA0C,OAA1C;AACA,SAASC,UAAT,QAA2B,SAA3B;AACA,OAAO,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAoBC,KAApB,EAAkCC,IAAlC,EAAkD;AAClF,MAAMC,WAAW,GAAGR,MAAM,CAAC,IAAD,CAA1B;AACAC,EAAAA,SAAS,CAAC,YAAI;AACZ,QAAGO,WAAW,CAACC,OAAf,EAAwB;AACtBD,MAAAA,WAAW,CAACC,OAAZ,GAAsB,KAAtB;AACA;AACD;;AACD,QAAMC,OAAO,GAAGC,UAAU,CAAC,YAAI;AAC7BN,MAAAA,QAAQ;AACT,KAFyB,EAEvBC,KAFuB,CAA1B;AAIA,WAAO,YAAI;AACTM,MAAAA,YAAY,CAACF,OAAD,CAAZ;AACD,KAFD;AAGD,GAZQ,GAYLJ,KAZK,4BAYKC,IAZL,GAAT;AAaD,CAfM;AAiBP,OAAO,IAAMM,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAmB;AAAA,kBACtBZ,QAAQ,CAAC,KAAD,CADc;AAAA,MACzCa,KADyC;AAAA,MAClCC,QADkC;;AAE9Cf,EAAAA,SAAS,CAAC,YAAI;AACZ,QAAIgB,UAAU,GAAGC,MAAM,CAACC,UAAP,CAAkBL,KAAlB,CAAjB;AACAE,IAAAA,QAAQ,CAACC,UAAU,CAACG,OAAZ,CAAR;;AACA,QAAIC,QAAQ,GAAG,SAAXA,QAAW,GAAI;AACjBL,MAAAA,QAAQ,CAACC,UAAU,CAACG,OAAZ,CAAR;AACD,KAFD;;AAGAH,IAAAA,UAAU,CAACK,WAAX,CAAuBD,QAAvB;AACA,WAAO;AAAA,aAAKJ,UAAU,CAACM,cAAX,CAA0BF,QAA1B,CAAL;AAAA,KAAP;AACD,GARQ,EAQP,CAACP,KAAD,CARO,CAAT;AASA,SAAOC,KAAP;AACD,CAZM;AAcP,OAAO,SAASS,WAAT,CAA2FC,YAA3F,EAA4H;AAAA,MAAjBC,MAAiB,uEAAJ,EAAI;;AAAA,mBACzGxB,QAAQ,CAACuB,YAAD,CADiG;AAAA,MAC5HE,KAD4H;AAAA,MACrHC,QADqH;;AAEjI3B,EAAAA,SAAS,CAAC,YAAI;AACZ2B,IAAAA,QAAQ,CAACH,YAAD,CAAR;AACD,GAFQ,EAENC,MAFM,CAAT;AAGA,MAAIG,IAAI,GAAG1B,UAAU,CAACwB,KAAD,EAAQC,QAAR,CAArB;AACA,SAAO;AACLD,IAAAA,KAAK,EAALA,KADK;AAELC,IAAAA,QAAQ,EAARA,QAFK;AAGLE,IAAAA,OAAO,EAAEC,MAAM,CAACC,IAAP,CAAYP,YAAZ,EAA0BQ,MAA1B,CAAiC,UAACC,GAAD,EAAMC,GAAN;AAAA,aAAYD,GAAG,IAAIT,YAAY,CAACU,GAAD,CAAZ,KAAsBR,KAAK,CAACQ,GAAD,CAA9C;AAAA,KAAjC,EAAsF,KAAtF,CAHJ;AAILN,IAAAA,IAAI,EAAJA,IAJK;AAKLO,IAAAA,KAAK,EAAC;AAAA,aAAIR,QAAQ,CAACH,YAAD,CAAZ;AAAA;AALD,GAAP;AAOD","sourcesContent":["import {useRef, useEffect, useState} from 'react'\nimport { formHelper } from './utils';\nexport const useDebouncedEffect = (callback:Function, delay:number, deps:any[])  => {\n  const firstUpdate = useRef(true);\n  useEffect(()=>{\n    if(firstUpdate.current) {\n      firstUpdate.current = false\n      return\n    }\n    const handler = setTimeout(()=>{\n      callback()\n    }, delay)\n\n    return ()=>{\n      clearTimeout(handler)\n    }\n  }, [delay, ...deps])\n}\n\nexport const useMediaQuery = (query: string) => {\n  let [match, setMatch] = useState(false)\n  useEffect(()=>{\n    let mediaQuery = window.matchMedia(query)\n    setMatch(mediaQuery.matches)\n    let listener = ()=>{\n      setMatch(mediaQuery.matches)\n    }\n    mediaQuery.addListener(listener)\n    return ()=> mediaQuery.removeListener(listener)\n  },[query])\n  return match\n}\n\nexport function useFormData<T extends {[key:string]: string | null | number | object | boolean}> (initialState:T, update:any[]=[]) {\n  let [state, setState] = useState(initialState)\n  useEffect(()=>{\n    setState(initialState)\n  }, update)\n  let form = formHelper(state, setState)\n  return {\n    state,\n    setState,\n    changed: Object.keys(initialState).reduce((acc, key)=>acc || initialState[key] !== state[key], false),\n    form,\n    reset:()=>setState(initialState)\n  } as const\n}\n"]},"metadata":{},"sourceType":"module"}