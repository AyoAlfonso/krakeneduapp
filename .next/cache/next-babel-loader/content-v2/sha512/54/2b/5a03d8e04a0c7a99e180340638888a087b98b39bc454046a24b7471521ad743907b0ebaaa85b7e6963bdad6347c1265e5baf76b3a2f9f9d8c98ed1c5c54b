{"ast":null,"code":"import _styled from \"@emotion/styled-base\";\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport h from 'react-hyperscript';\nimport ErrorPage from 'pages/404';\nimport { Box, FlexGrid } from 'components/Layout';\nimport { Card } from 'components/Cards';\nimport Link from 'next/link';\nimport { BackButton } from 'components/Button';\nimport { Pill } from 'components/Pill';\n\nvar WrappedLibraryCollectionsPage = function WrappedLibraryCollectionsPage(props) {\n  return props.notFound ? h(ErrorPage) : h(LibraryCollections, props);\n};\n\nexport var __N_SSG = true;\nexport default WrappedLibraryCollectionsPage;\n\nfunction LibraryCollections(props) {\n  if (!props.collection) return h('div', '');\n  return h(Box, {\n    gap: 64\n  }, [h(Box, {\n    width: 640\n  }, [h(Box, {\n    gap: 8\n  }, [h(BackButton, {\n    href: \"/library\"\n  }, 'all Collections'), h('h1', props.collection.title)]), h('p.big', props.collection.description)]), h(FlexGrid, {\n    min: 250,\n    mobileMin: 250\n  }, props.posts.sort(function (a, b) {\n    return new Date(a.date) < new Date(b.date) ? 1 : -1;\n  }).map(function (p) {\n    return h(Link, {\n      href: p.path\n    }, h(Card, {\n      style: {\n        height: 'min-content'\n      }\n    }, [h(Box, {\n      gap: 16\n    }, [h(Box, {\n      gap: 8\n    }, [h('h3', p.title), new Date(p.date) > new Date(new Date().getTime() - 60 * 60 * 24 * 7 * 1000) ? h(NewPill, \"new!\") : null // h('span.textSecondary', `${p.author} | ${prettyDate(p.date)}`)\n    ]), h('p', p.description)])]));\n  }))]);\n}\n\n// pill to tag new posts - published in the last 7 days\nvar NewPill = /*#__PURE__*/_styled(Pill, {\n  target: \"ej8j9lp0\"\n})(true ? {\n  name: \"1qc5v5x\",\n  styles: \"background-color:green;color:white;\"\n} : {\n  name: \"1qc5v5x\",\n  styles: \"background-color:green;color:white;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvcGFnZXMvbGlicmFyeS9jb2xsZWN0aW9ucy9bY29sbGVjdGlvbl0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMEU0QiIsImZpbGUiOiIvVXNlcnMvYXlvb2x1d2FhbGZvbnNvL2NvZGUva3Jha2VuZWR1YXBwL3BhZ2VzL2xpYnJhcnkvY29sbGVjdGlvbnMvW2NvbGxlY3Rpb25dLnRzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGggZnJvbSAncmVhY3QtaHlwZXJzY3JpcHQnXG5pbXBvcnQgZnMgZnJvbSAnZnMnXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJ1xuaW1wb3J0IG1hdHRlciBmcm9tICdncmF5LW1hdHRlcidcbmltcG9ydCB7IEluZmVyR2V0U3RhdGljUHJvcHNUeXBlIH0gZnJvbSAnbmV4dCdcbmltcG9ydCB7IExpYnJhcnksIGNvbGxlY3Rpb25zIH0gZnJvbSAncGFnZXMvbGlicmFyeSdcbmltcG9ydCBFcnJvclBhZ2UgZnJvbSAncGFnZXMvNDA0J1xuaW1wb3J0IHsgQm94LCBGbGV4R3JpZCB9IGZyb20gJ2NvbXBvbmVudHMvTGF5b3V0J1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJ2NvbXBvbmVudHMvQ2FyZHMnXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5pbXBvcnQgeyBCYWNrQnV0dG9uIH0gZnJvbSAnY29tcG9uZW50cy9CdXR0b24nXG5pbXBvcnQgc3R5bGVkIGZyb20gJ0BlbW90aW9uL3N0eWxlZCdcbmltcG9ydCB7IFBpbGwgfSBmcm9tICdjb21wb25lbnRzL1BpbGwnXG5cbnR5cGUgUHJvcHMgPSBJbmZlckdldFN0YXRpY1Byb3BzVHlwZTx0eXBlb2YgZ2V0U3RhdGljUHJvcHM+XG5cbmNvbnN0IFdyYXBwZWRMaWJyYXJ5Q29sbGVjdGlvbnNQYWdlID0gKHByb3BzOiBQcm9wcyk9PnByb3BzLm5vdEZvdW5kID8gaChFcnJvclBhZ2UpIDogaChMaWJyYXJ5Q29sbGVjdGlvbnMsIHByb3BzKVxuZXhwb3J0IGRlZmF1bHQgIFdyYXBwZWRMaWJyYXJ5Q29sbGVjdGlvbnNQYWdlXG5mdW5jdGlvbiBMaWJyYXJ5Q29sbGVjdGlvbnMocHJvcHM6RXh0cmFjdDxQcm9wcywge25vdEZvdW5kOiBmYWxzZX0+KXtcbiAgaWYoIXByb3BzLmNvbGxlY3Rpb24pIHJldHVybiBoKCdkaXYnLCAnJylcbiAgcmV0dXJuIGgoQm94LCB7Z2FwOiA2NH0sIFtcbiAgICBoKEJveCwge3dpZHRoOiA2NDB9LCBbXG4gICAgICBoKEJveCwge2dhcDogOH0sW1xuICAgICAgICBoKEJhY2tCdXR0b24sIHtocmVmOiBcIi9saWJyYXJ5XCJ9LCAnYWxsIENvbGxlY3Rpb25zJyksXG4gICAgICAgIGgoJ2gxJywgcHJvcHMuY29sbGVjdGlvbi50aXRsZSksXG4gICAgICBdKSxcbiAgICAgIGgoJ3AuYmlnJywgcHJvcHMuY29sbGVjdGlvbi5kZXNjcmlwdGlvbiksXG4gICAgXSksXG4gICAgaChGbGV4R3JpZCwge21pbjoyNTAsIG1vYmlsZU1pbjogMjUwfSwgcHJvcHMucG9zdHNcbiAgICAgIC5zb3J0KChhLCBiKT0+e1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoYS5kYXRlKSA8IG5ldyBEYXRlKGIuZGF0ZSkgPyAxIDogLTFcbiAgICAgIH0pXG4gICAgICAubWFwKHA9PmgoTGluaywge2hyZWY6cC5wYXRofSwgaChDYXJkLCB7c3R5bGU6e2hlaWdodDonbWluLWNvbnRlbnQnfX0sIFtcbiAgICAgICAgaChCb3gsIHtnYXA6IDE2fSxbXG4gICAgICAgICAgaChCb3gsIHtnYXA6IDh9LCBbXG4gICAgICAgICAgICBoKCdoMycsIHAudGl0bGUpLFxuICAgICAgICAgICAgbmV3IERhdGUocC5kYXRlKSA+IG5ldyBEYXRlKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSA2MCAqIDYwICogMjQgKiA3ICogMTAwMCkgPyBoKE5ld1BpbGwsIFwibmV3IVwiKSA6IG51bGwsXG4gICAgICAgICAgICAvLyBoKCdzcGFuLnRleHRTZWNvbmRhcnknLCBgJHtwLmF1dGhvcn0gfCAke3ByZXR0eURhdGUocC5kYXRlKX1gKVxuICAgICAgICAgIF0pLFxuICAgICAgICAgIGgoJ3AnLCBwLmRlc2NyaXB0aW9uKVxuICAgICAgICBdKVxuXG4gICAgICBdKSkpXG4gICAgIClcbl0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGFzeW5jIChjdHg6YW55KSA9PntcbiAgbGV0IG5hbWUgPSBjdHgucGFyYW1zLmNvbGxlY3Rpb25cbiAgbGV0IGNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uc1tuYW1lIGFzIGtleW9mIHR5cGVvZiBjb2xsZWN0aW9uc11cbiAgaWYoIWNvbGxlY3Rpb24pIHJldHVybiB7cHJvcHM6e25vdEZvdW5kOiB0cnVlfX0gYXMgY29uc3RcblxuICBsZXQgcG9zdHMgPSBmcy5yZWFkZGlyU3luYygnLi9wYWdlcy9saWJyYXJ5JykubWFwKChmaWxlKT0+e1xuICAgIGlmKGZzLmxzdGF0U3luYyhwYXRoLmpvaW4oJy4vcGFnZXMvbGlicmFyeS8nLCBmaWxlKSkuaXNEaXJlY3RvcnkoKSkgcmV0dXJuXG4gICAgbGV0IGNvbnRlbnQgPSBmcy5yZWFkRmlsZVN5bmMoJy4vcGFnZXMvbGlicmFyeS8nK2ZpbGUpXG4gICAgbGV0IHtkYXRhfSA9IG1hdHRlcihjb250ZW50KVxuICAgIHJldHVybiB7Li4uZGF0YSwgcGF0aDogJy9saWJyYXJ5LycrZmlsZS5zbGljZSgwLCAtNCl9IGFzIExpYnJhcnlcbiAgfSkuZmlsdGVyKHA9PntcbiAgICByZXR1cm4gcD8udGFncz8uaW5jbHVkZXMobmFtZSlcbiAgfSlcblxuICByZXR1cm4ge3Byb3BzOiB7Y29sbGVjdGlvbiwgcG9zdHM6cG9zdHMgYXMgTGlicmFyeVtdLCBub3RGb3VuZDogZmFsc2V9fSBhcyBjb25zdFxufVxuXG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBhc3luYyAoKSA9PiB7XG4gIGxldCBwYXRocyA9IE9iamVjdC5rZXlzKGNvbGxlY3Rpb25zKS5tYXAobmFtZT0+e1xuICAgIHJldHVybiB7XG4gICAgICBwYXJhbXM6IHtjb2xsZWN0aW9uOiBuYW1lfVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIHtwYXRocywgZmFsbGJhY2s6IGZhbHNlfVxufVxuXG4vLyBwaWxsIHRvIHRhZyBuZXcgcG9zdHMgLSBwdWJsaXNoZWQgaW4gdGhlIGxhc3QgNyBkYXlzXG5jb25zdCBOZXdQaWxsID0gc3R5bGVkKFBpbGwpYFxuICAgIGJhY2tncm91bmQtY29sb3I6IGdyZWVuO1xuICAgIGNvbG9yOiB3aGl0ZTtcbmBcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/library/collections/[collection].ts"],"names":["h","ErrorPage","Box","FlexGrid","Card","Link","BackButton","Pill","WrappedLibraryCollectionsPage","props","notFound","LibraryCollections","collection","gap","width","href","title","description","min","mobileMin","posts","sort","a","b","Date","date","map","p","path","style","height","getTime","NewPill"],"mappings":"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","sourcesContent":["import h from 'react-hyperscript'\nimport fs from 'fs'\nimport path from 'path'\nimport matter from 'gray-matter'\nimport { InferGetStaticPropsType } from 'next'\nimport { Library, collections } from 'pages/library'\nimport ErrorPage from 'pages/404'\nimport { Box, FlexGrid } from 'components/Layout'\nimport { Card } from 'components/Cards'\nimport Link from 'next/link'\nimport { BackButton } from 'components/Button'\nimport styled from '@emotion/styled'\nimport { Pill } from 'components/Pill'\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\n\nconst WrappedLibraryCollectionsPage = (props: Props)=>props.notFound ? h(ErrorPage) : h(LibraryCollections, props)\nexport default  WrappedLibraryCollectionsPage\nfunction LibraryCollections(props:Extract<Props, {notFound: false}>){\n  if(!props.collection) return h('div', '')\n  return h(Box, {gap: 64}, [\n    h(Box, {width: 640}, [\n      h(Box, {gap: 8},[\n        h(BackButton, {href: \"/library\"}, 'all Collections'),\n        h('h1', props.collection.title),\n      ]),\n      h('p.big', props.collection.description),\n    ]),\n    h(FlexGrid, {min:250, mobileMin: 250}, props.posts\n      .sort((a, b)=>{\n        return new Date(a.date) < new Date(b.date) ? 1 : -1\n      })\n      .map(p=>h(Link, {href:p.path}, h(Card, {style:{height:'min-content'}}, [\n        h(Box, {gap: 16},[\n          h(Box, {gap: 8}, [\n            h('h3', p.title),\n            new Date(p.date) > new Date((new Date()).getTime() - 60 * 60 * 24 * 7 * 1000) ? h(NewPill, \"new!\") : null,\n            // h('span.textSecondary', `${p.author} | ${prettyDate(p.date)}`)\n          ]),\n          h('p', p.description)\n        ])\n\n      ])))\n     )\n])\n}\n\nexport const getStaticProps = async (ctx:any) =>{\n  let name = ctx.params.collection\n  let collection = collections[name as keyof typeof collections]\n  if(!collection) return {props:{notFound: true}} as const\n\n  let posts = fs.readdirSync('./pages/library').map((file)=>{\n    if(fs.lstatSync(path.join('./pages/library/', file)).isDirectory()) return\n    let content = fs.readFileSync('./pages/library/'+file)\n    let {data} = matter(content)\n    return {...data, path: '/library/'+file.slice(0, -4)} as Library\n  }).filter(p=>{\n    return p?.tags?.includes(name)\n  })\n\n  return {props: {collection, posts:posts as Library[], notFound: false}} as const\n}\n\nexport const getStaticPaths = async () => {\n  let paths = Object.keys(collections).map(name=>{\n    return {\n      params: {collection: name}\n    }\n  })\n  return {paths, fallback: false}\n}\n\n// pill to tag new posts - published in the last 7 days\nconst NewPill = styled(Pill)`\n    background-color: green;\n    color: white;\n`\n"]},"metadata":{},"sourceType":"module"}