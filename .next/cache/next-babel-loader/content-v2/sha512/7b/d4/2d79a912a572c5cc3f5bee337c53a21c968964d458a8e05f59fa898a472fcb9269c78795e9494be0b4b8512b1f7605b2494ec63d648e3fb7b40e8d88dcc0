{"ast":null,"code":"import h from 'react-hyperscript';\nimport { Box, Seperator } from \"components/Layout\";\nimport { useRef } from \"react\";\nimport { Input } from 'components/Form';\nimport { Primary } from 'components/Button';\nimport { useUserData, useProfileData } from 'src/data';\nexport default function Calender() {\n  let ref = useRef(null);\n  let {\n    data: user\n  } = useUserData();\n  let {\n    data: profile\n  } = useProfileData(user ? user.username : undefined);\n  if (!user || !profile) return null;\n  return h(Box, {\n    gap: 32,\n    width: 640,\n    ma: true\n  }, [h('h2', \"Subscribe to Your Calendar!\"), h(Box, [h('b', `Copy this URL to subscribe to all your KrakenEdu events in your favorite calendar app.`), h('p', `❗ We made this calendar just for you, and you only need to add it once! We'll automatically sync events for all your krakenEdu courses, now and in the future.`)]), h(Box, {\n    style: {\n      justifyItems: 'center'\n    }\n  }, [h(Input, {\n    ref,\n    onFocus: e => {\n      e.currentTarget.selectionEnd = e.currentTarget.value.length;\n    },\n    value: window.location.origin + \"/api/user_calendar?id=\" + profile.calendar_id,\n    style: {\n      minWidth: '300px'\n    },\n    readOnly: true\n  }), h(Primary, {\n    onClick: e => {\n      e.preventDefault();\n      if (!ref.current) return;\n      ref.current.select();\n      document.execCommand('copy');\n      ref.current.selectionEnd = ref.current.selectionStart;\n      ref.current.blur();\n    }\n  }, 'Copy URL')]), h(Seperator), h(Box, [h('h3', \"How to Subscribe\"), h('div', {\n    style: {\n      textAlign: \"left\"\n    }\n  }, [h('h4', \"Google Calendar\"), h('p', [h('a', {\n    href: \"https://calendar.google.com/calendar/u/0/r/settings/addbyurl\"\n  }, \"Click here\"), ` and paste in the above URL.`])]), h('div', {\n    style: {\n      textAlign: \"left\"\n    }\n  }, [h('h4', \"Apple Calendar (Desktop)\"), h('p', `Hit ‘⌥ + ⌘ + S’ and paste in the above URL.`)]), h('div', {\n    style: {\n      textAlign: \"left\"\n    }\n  }, [h('h4', \"Outlook.com\"), h('p', `Select \"Add Calendar\", then \"Subscribe from web\", paste the above URL and \"Import\".`)]), h('div', {\n    style: {\n      textAlign: \"left\"\n    }\n  }, [h('h4', \"Outlook on the web (Microsoft 365)\"), h('p', `Select \"Import calendar\", then \"From web\", paste the above URL and \"Import\".`)]), h('div', {\n    style: {\n      textAlign: \"left\"\n    }\n  }, [h('h4', \"If you use a different calendar app…\"), h('p', `Look up how it handles calendar subscriptions — there should be a way to subscribe to a calendar from an external URL!`)])])]);\n}","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/calendar.ts"],"names":["h","Box","Seperator","useRef","Input","Primary","useUserData","useProfileData","Calender","ref","data","user","profile","username","undefined","gap","width","ma","style","justifyItems","onFocus","e","currentTarget","selectionEnd","value","length","window","location","origin","calendar_id","minWidth","readOnly","onClick","preventDefault","current","select","document","execCommand","selectionStart","blur","textAlign","href"],"mappings":"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","sourcesContent":["import h from 'react-hyperscript'\nimport { Box, Seperator } from \"components/Layout\"\nimport { useRef } from \"react\"\nimport { Input } from 'components/Form'\nimport { Primary } from 'components/Button'\nimport { useUserData, useProfileData } from 'src/data'\n\nexport default function Calender(){\n  let ref = useRef<HTMLInputElement | null>(null)\n  let {data: user} = useUserData()\n  let {data:profile} = useProfileData(user ? user.username : undefined)\n\n  if(!user || !profile) return null\n\n  return h(Box, {gap:32, width: 640, ma: true}, [\n    h('h2', \"Subscribe to Your Calendar!\"),\n    h(Box, [\n      h('b', `Copy this URL to subscribe to all your KrakenEdu events in your favorite calendar app.`),\n      h('p',`❗ We made this calendar just for you, and you only need to add it once! We'll automatically sync events for all your krakenEdu courses, now and in the future.`)\n    ]),\n    h(Box, {style:{justifyItems: 'center'}}, [\n      h(Input, {\n        ref,\n        onFocus: e =>{\n          e.currentTarget.selectionEnd = e.currentTarget.value.length\n        },\n        value: window.location.origin+ \"/api/user_calendar?id=\"+(profile.calendar_id),\n        style: {minWidth: '300px'},\n        readOnly: true,\n      }),\n      h(Primary, {\n        onClick: e =>{\n          e.preventDefault()\n          if(!ref.current) return\n          ref.current.select()\n          document.execCommand('copy')\n          ref.current.selectionEnd  = ref.current.selectionStart\n          ref.current.blur()\n        }\n      }, 'Copy URL' ),\n    ]),\n    h(Seperator),\n    h(Box, [\n      h('h3', \"How to Subscribe\"),\n      h('div', {style:{textAlign: \"left\"}}, [\n        h('h4', \"Google Calendar\"),\n        h('p', [\n          h('a', {href:\"https://calendar.google.com/calendar/u/0/r/settings/addbyurl\"}, \"Click here\"),\n          ` and paste in the above URL.`\n        ])\n      ]),\n      h('div', {style:{textAlign: \"left\"}}, [\n        h('h4', \"Apple Calendar (Desktop)\"),\n        h('p', `Hit ‘⌥ + ⌘ + S’ and paste in the above URL.`)\n      ]),\n      h('div', {style:{textAlign: \"left\"}}, [\n        h('h4', \"Outlook.com\"),\n        h('p', `Select \"Add Calendar\", then \"Subscribe from web\", paste the above URL and \"Import\".`)\n      ]),\n      h('div', {style:{textAlign: \"left\"}}, [\n        h('h4', \"Outlook on the web (Microsoft 365)\"),\n        h('p', `Select \"Import calendar\", then \"From web\", paste the above URL and \"Import\".`)\n      ]),\n      h('div', {style:{textAlign: \"left\"}}, [\n        h('h4', \"If you use a different calendar app…\"),\n        h('p', `Look up how it handles calendar subscriptions — there should be a way to subscribe to a calendar from an external URL!`)\n      ]),\n    ])\n  ])\n}\n"]},"metadata":{},"sourceType":"module"}