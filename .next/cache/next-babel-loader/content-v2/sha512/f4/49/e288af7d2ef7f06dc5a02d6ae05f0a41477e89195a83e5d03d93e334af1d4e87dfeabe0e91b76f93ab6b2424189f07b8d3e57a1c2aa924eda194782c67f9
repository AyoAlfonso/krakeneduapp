{"ast":null,"code":"import h from 'react-hyperscript';\nimport { useRouter } from 'next/router';\nimport { Error } from 'components/Form';\nimport Loader from 'components/Loader';\nimport { Box } from 'components/Layout';\nimport { useProfileData } from 'src/data';\nimport { colors } from 'components/Tokens';\nimport ErrorPage from 'pages/404';\nimport Text from 'components/Text';\n\nvar ProfilePage = function ProfilePage(props) {\n  return props.notFound ? h(ErrorPage) : h(Profile, props);\n};\n\nexport var __N_SSG = true;\nexport default ProfilePage;\n\nvar Profile = function Profile(props) {\n  var _link;\n\n  var router = useRouter();\n  var username = router.query.username;\n\n  var _useProfileData = useProfileData(username, props || undefined),\n      person = _useProfileData.data;\n\n  if (person === undefined) return h(Loader);\n  if (person === false) return h(Error, 'No user found :(');\n  var link = person.link;\n  if (!((_link = link) !== null && _link !== void 0 && _link.startsWith('http'))) link = '//' + link;\n  return h(Box, {\n    gap: 32\n  }, [h(Box, {\n    gap: 8\n  }, [h('h1', [person.display_name || username]), h('div', [h('b', {\n    style: {\n      color: colors.textSecondary\n    }\n  }, \"@\".concat(username)), person.pronouns ? h('span.textSecondary', \" (\".concat(person.pronouns, \")\")) : null]), !person.link ? null : h('a', {\n    href: link\n  }, h('b', person.link))]), !person.bio ? null : h(Box, {\n    width: 640\n  }, h(Text, {\n    source: person.bio\n  }))]);\n};","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/people/[username].ts"],"names":["h","useRouter","Error","Loader","Box","useProfileData","colors","ErrorPage","Text","ProfilePage","props","notFound","Profile","router","username","query","undefined","person","data","link","startsWith","gap","display_name","style","color","textSecondary","pronouns","href","bio","width","source"],"mappings":"AAAA,OAAOA,CAAP,MAAc,mBAAd;AACA,SAASC,SAAT,QAA0B,aAA1B;AAGA,SAASC,KAAT,QAAsB,iBAAtB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,GAAT,QAAoB,mBAApB;AAEA,SAASC,cAAT,QAA+B,UAA/B;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD;AAAA,SAAiBA,KAAK,CAACC,QAAN,GAAiBX,CAAC,CAACO,SAAD,CAAlB,GAAgCP,CAAC,CAACY,OAAD,EAAUF,KAAV,CAAlD;AAAA,CAApB;;;AACA,eAAeD,WAAf;;AAEA,IAAMG,OAAO,GAAE,SAATA,OAAS,CAACF,KAAD,EAA4C;AAAA;;AACzD,MAAIG,MAAM,GAAGZ,SAAS,EAAtB;AACA,MAAIa,QAAQ,GAAGD,MAAM,CAACE,KAAP,CAAaD,QAA5B;;AAFyD,wBAGpCT,cAAc,CAACS,QAAD,EAAWJ,KAAK,IAAIM,SAApB,CAHsB;AAAA,MAG9CC,MAH8C,mBAGpDC,IAHoD;;AAIzD,MAAGD,MAAM,KAAKD,SAAd,EAAyB,OAAOhB,CAAC,CAACG,MAAD,CAAR;AACzB,MAAGc,MAAM,KAAK,KAAd,EAAqB,OAAOjB,CAAC,CAACE,KAAD,EAAQ,kBAAR,CAAR;AAErB,MAAIiB,IAAI,GAAGF,MAAM,CAACE,IAAlB;AACA,MAAG,WAACA,IAAD,kCAAC,MAAMC,UAAN,CAAiB,MAAjB,CAAD,CAAH,EAA8BD,IAAI,GAAG,OAAKA,IAAZ;AAE9B,SAAOnB,CAAC,CAACI,GAAD,EAAM;AAACiB,IAAAA,GAAG,EAAE;AAAN,GAAN,EAAiB,CACvBrB,CAAC,CAACI,GAAD,EAAM;AAACiB,IAAAA,GAAG,EAAE;AAAN,GAAN,EAAgB,CACfrB,CAAC,CAAC,IAAD,EAAO,CACNiB,MAAM,CAACK,YAAP,IAAuBR,QADjB,CAAP,CADc,EAIfd,CAAC,CAAC,KAAD,EAAQ,CACPA,CAAC,CAAC,GAAD,EAAM;AAACuB,IAAAA,KAAK,EAAE;AAACC,MAAAA,KAAK,EAAElB,MAAM,CAACmB;AAAf;AAAR,GAAN,aAAkDX,QAAlD,EADM,EAEPG,MAAM,CAACS,QAAP,GAAkB1B,CAAC,CAAC,oBAAD,cAA4BiB,MAAM,CAACS,QAAnC,OAAnB,GAAqE,IAF9D,CAAR,CAJc,EAQf,CAACT,MAAM,CAACE,IAAR,GAAe,IAAf,GAAsBnB,CAAC,CAAC,GAAD,EAAM;AAAC2B,IAAAA,IAAI,EAAER;AAAP,GAAN,EAAoBnB,CAAC,CAAC,GAAD,EAAMiB,MAAM,CAACE,IAAb,CAArB,CARR,CAAhB,CADsB,EAWvB,CAACF,MAAM,CAACW,GAAR,GAAc,IAAd,GAAqB5B,CAAC,CAACI,GAAD,EAAM;AAACyB,IAAAA,KAAK,EAAE;AAAR,GAAN,EAAoB7B,CAAC,CAACQ,IAAD,EAAO;AAACsB,IAAAA,MAAM,EAAEb,MAAM,CAACW;AAAhB,GAAP,CAArB,CAXC,CAAjB,CAAR;AAaD,CAvBD","sourcesContent":["import h from 'react-hyperscript'\nimport { useRouter } from 'next/router'\nimport { InferGetStaticPropsType } from 'next'\n\nimport { Error } from 'components/Form'\nimport Loader from 'components/Loader'\nimport { Box } from 'components/Layout'\n\nimport { useProfileData } from 'src/data'\nimport { colors } from 'components/Tokens'\nimport ErrorPage from 'pages/404'\nimport Text from 'components/Text'\nimport { profileDataQuery } from 'pages/api/people/[id]'\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\n\nconst ProfilePage = (props: Props)=> props.notFound ? h(ErrorPage) : h(Profile, props)\nexport default ProfilePage\n\nconst Profile= (props: Extract<Props, {notFound: false}>)=>{\n  let router = useRouter()\n  let username = router.query.username as string\n  let {data: person} = useProfileData(username, props || undefined)\n  if(person === undefined) return h(Loader)\n  if(person === false) return h(Error, 'No user found :(')\n\n  let link = person.link\n  if(!link?.startsWith('http')) link = '//'+link\n\n  return h(Box, {gap: 32}, [\n    h(Box, {gap: 8}, [\n      h('h1', [\n        person.display_name || username,\n      ]),\n      h('div', [\n        h('b', {style: {color: colors.textSecondary}}, `@${username}`),\n        person.pronouns ? h('span.textSecondary', ` (${person.pronouns})`) : null\n      ]),\n      !person.link ? null : h('a', {href: link}, h('b', person.link)),\n    ]),\n    !person.bio ? null : h(Box, {width: 640}, h(Text, {source: person.bio}))\n  ])\n}\n\nexport const getStaticProps = async (ctx:any)=>{\n  let username = ctx.params?.username as string\n  let data = await profileDataQuery(username, false)\n\n  if(!data) return {props: {notFound: true}} as const\n\n  return {props: {notFound: false, ...data}, revalidate:1} as const\n}\n\nexport const getStaticPaths = async ()=>{\n  return {paths:[], fallback: true}\n}\n"]},"metadata":{},"sourceType":"module"}