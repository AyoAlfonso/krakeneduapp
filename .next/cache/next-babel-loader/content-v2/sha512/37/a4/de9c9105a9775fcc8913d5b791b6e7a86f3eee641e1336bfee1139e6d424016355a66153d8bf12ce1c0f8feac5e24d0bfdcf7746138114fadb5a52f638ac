{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport h from 'react-hyperscript';\nimport { getPublicEventsQuery } from \"pages/api/events\";\nimport { Box, FlexGrid } from 'components/Layout';\nimport { EventCard } from 'components/Cards/EventCard';\nimport { sortByDateAndName } from 'src/utils';\nexport default function Events(props) {\n  let [pastEvents, upcomingEvents] = props.events.sort((a, b) => sortByDateAndName(a.events, b.events)).reduce((acc, event) => {\n    if (new Date(event.events.end_date) < new Date()) acc[0].push(event);else acc[1].push(event);\n    return acc;\n  }, [[], []]);\n  return h(Box, {\n    gap: 64\n  }, [h('h1', \"Upcoming Events\"), h(FlexGrid, {\n    min: 400,\n    mobileMin: 300\n  }, upcomingEvents.map(ev => h(EventCard, _objectSpread({\n    cost: ev.cost\n  }, ev.events)))), h(Box, {\n    gap: 32\n  }, [h('h2', \"Past Events\"), h(FlexGrid, {\n    min: 400,\n    mobileMin: 300\n  }, pastEvents.map(ev => h(EventCard, _objectSpread({\n    cost: ev.cost\n  }, ev.events))))])]);\n}\nexport const getStaticProps = async () => {\n  let events = await getPublicEventsQuery();\n  return {\n    props: {\n      events\n    },\n    revalidate: 1\n  };\n};","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/events/index.ts"],"names":["h","getPublicEventsQuery","Box","FlexGrid","EventCard","sortByDateAndName","Events","props","pastEvents","upcomingEvents","events","sort","a","b","reduce","acc","event","Date","end_date","push","gap","min","mobileMin","map","ev","cost","getStaticProps","revalidate"],"mappings":";;;;;;AAAA,OAAOA,CAAP,MAAc,mBAAd;AAEA,SAASC,oBAAT,QAAqC,kBAArC;AACA,SAASC,GAAT,EAAcC,QAAd,QAA8B,mBAA9B;AACA,SAAQC,SAAR,QAAwB,4BAAxB;AACA,SAASC,iBAAT,QAAkC,WAAlC;AAGA,eAAe,SAASC,MAAT,CAAgBC,KAAhB,EAA6B;AAC1C,MAAI,CAACC,UAAD,EAAaC,cAAb,IAA+BF,KAAK,CAACG,MAAN,CAChCC,IADgC,CAC3B,CAACC,CAAD,EAAIC,CAAJ,KAAQR,iBAAiB,CAACO,CAAC,CAACF,MAAH,EAAWG,CAAC,CAACH,MAAb,CADE,EAEhCI,MAFgC,CAEzB,CAACC,GAAD,EAAMC,KAAN,KAAc;AACpB,QAAG,IAAIC,IAAJ,CAASD,KAAK,CAACN,MAAN,CAAaQ,QAAtB,IAAkC,IAAID,IAAJ,EAArC,EAAiDF,GAAG,CAAC,CAAD,CAAH,CAAOI,IAAP,CAAYH,KAAZ,EAAjD,KACKD,GAAG,CAAC,CAAD,CAAH,CAAOI,IAAP,CAAYH,KAAZ;AACL,WAAOD,GAAP;AACH,GANkC,EAMhC,CAAC,EAAD,EAAI,EAAJ,CANgC,CAAnC;AAQA,SAAOf,CAAC,CAACE,GAAD,EAAM;AAACkB,IAAAA,GAAG,EAAC;AAAL,GAAN,EAAgB,CACtBpB,CAAC,CAAC,IAAD,EAAO,iBAAP,CADqB,EAEtBA,CAAC,CAACG,QAAD,EAAW;AAACkB,IAAAA,GAAG,EAAE,GAAN;AAAWC,IAAAA,SAAS,EAAE;AAAtB,GAAX,EAAuCb,cAAc,CAACc,GAAf,CAAmBC,EAAE,IAAIxB,CAAC,CAACI,SAAD;AAAaqB,IAAAA,IAAI,EAAED,EAAE,CAACC;AAAtB,KAA+BD,EAAE,CAACd,MAAlC,EAA1B,CAAvC,CAFqB,EAGtBV,CAAC,CAACE,GAAD,EAAM;AAACkB,IAAAA,GAAG,EAAC;AAAL,GAAN,EAAgB,CACfpB,CAAC,CAAC,IAAD,EAAO,aAAP,CADc,EAEfA,CAAC,CAACG,QAAD,EAAW;AAACkB,IAAAA,GAAG,EAAE,GAAN;AAAWC,IAAAA,SAAS,EAAE;AAAtB,GAAX,EAAuCd,UAAU,CAACe,GAAX,CAAeC,EAAE,IAAIxB,CAAC,CAACI,SAAD;AAAaqB,IAAAA,IAAI,EAACD,EAAE,CAACC;AAArB,KAA8BD,EAAE,CAACd,MAAjC,EAAtB,CAAvC,CAFc,CAAhB,CAHqB,CAAhB,CAAR;AAQD;AAED,OAAO,MAAMgB,cAAc,GAAG,YAAY;AACxC,MAAIhB,MAAM,GAAG,MAAMT,oBAAoB,EAAvC;AACA,SAAO;AAACM,IAAAA,KAAK,EAAE;AAACG,MAAAA;AAAD,KAAR;AAAkBiB,IAAAA,UAAU,EAAE;AAA9B,GAAP;AACD,CAHM","sourcesContent":["import h from 'react-hyperscript'\nimport { InferGetStaticPropsType } from \"next\"\nimport { getPublicEventsQuery } from \"pages/api/events\"\nimport { Box, FlexGrid } from 'components/Layout'\nimport {EventCard} from 'components/Cards/EventCard'\nimport { sortByDateAndName } from 'src/utils'\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nexport default function Events(props:Props) {\n  let [pastEvents, upcomingEvents] = props.events\n    .sort((a, b)=>sortByDateAndName(a.events, b.events))\n    .reduce((acc, event)=>{\n      if(new Date(event.events.end_date) < new Date()) acc[0].push(event)\n      else acc[1].push(event)\n      return acc\n  }, [[],[]] as Array<typeof props.events>)\n\n  return h(Box, {gap:64}, [\n    h('h1', \"Upcoming Events\"),\n    h(FlexGrid, {min: 400, mobileMin: 300}, upcomingEvents.map(ev => h(EventCard, {cost: ev.cost, ...ev.events}))),\n    h(Box, {gap:32}, [\n      h('h2', \"Past Events\"),\n      h(FlexGrid, {min: 400, mobileMin: 300}, pastEvents.map(ev => h(EventCard, {cost:ev.cost, ...ev.events})))\n    ])\n  ])\n}\n\nexport const getStaticProps = async () => {\n  let events = await getPublicEventsQuery()\n  return {props: {events}, revalidate: 1} as const\n}\n"]},"metadata":{},"sourceType":"module"}