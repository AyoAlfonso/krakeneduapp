{"ast":null,"code":"import { APIHandler } from \"src/apiHelpers\";\nimport airtable from 'airtable';\nexport default APIHandler(submitForm);\n\nasync function submitForm(req) {\n  let msg = req.body;\n  const base = airtable.base(msg.base);\n  await base('Data').create([{\n    fields: msg.data\n  }]);\n  return {\n    status: 200,\n    result: ''\n  };\n}","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/pages/api/submitForm.ts"],"names":["APIHandler","airtable","submitForm","req","msg","body","base","create","fields","data","status","result"],"mappings":"AAAA,SAAkBA,UAAlB,QAAgD,gBAAhD;AACA,OAAOC,QAAP,MAAqB,UAArB;AAEA,eAAeD,UAAU,CAACE,UAAD,CAAzB;;AAOA,eAAeA,UAAf,CAA0BC,GAA1B,EAAuC;AACrC,MAAIC,GAAG,GAAGD,GAAG,CAACE,IAAd;AAEA,QAAMC,IAAI,GAAGL,QAAQ,CAACK,IAAT,CAAcF,GAAG,CAACE,IAAlB,CAAb;AACA,QAAMA,IAAI,CAAC,MAAD,CAAJ,CAAaC,MAAb,CAAoB,CAAC;AAACC,IAAAA,MAAM,EAAEJ,GAAG,CAACK;AAAb,GAAD,CAApB,CAAN;AACA,SAAO;AAACC,IAAAA,MAAM,EAAE,GAAT;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAAP;AACD","sourcesContent":["import { Request, APIHandler, ResultType } from \"src/apiHelpers\"\nimport airtable from 'airtable'\n\nexport default APIHandler(submitForm)\n\nexport type SubmitFormResponse = ResultType<typeof submitForm>\nexport type SubmitFormMsg = {\n  base: string,\n  data: any\n}\nasync function submitForm(req:Request) {\n  let msg = req.body\n\n  const base = airtable.base(msg.base);\n  await base('Data').create([{fields: msg.data}])\n  return {status: 200, result: ''}\n}\n"]},"metadata":{},"sourceType":"module"}