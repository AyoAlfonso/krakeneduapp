{"ast":null,"code":"import _styled from \"@emotion/styled-base\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _EMOTION_STRINGIFIED_CSS_ERROR__() { return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\"; }\n\nimport h from 'react-hyperscript';\nimport { Fragment, useState } from 'react';\nimport { useUserData, useUserCourses } from 'src/data';\nimport { callApi } from 'src/apiHelpers';\nimport Loader from 'components/Loader';\nimport { Box, FormBox } from 'components/Layout';\nimport { Bell } from 'components/Icons';\nimport { Input } from 'components/Form';\nimport { LinkButton, Primary } from 'components/Button';\nimport { useDebouncedEffect } from 'src/hooks';\nimport { Modal } from 'components/Modal';\nimport { AccentImg } from 'components/Images';\nexport function WatchCourse(props) {\n  let {\n    data: userCourses,\n    mutate\n  } = useUserCourses();\n  let {\n    data: user\n  } = useUserData();\n  let watching = userCourses === null || userCourses === void 0 ? void 0 : userCourses.watching_courses.find(c => c.course === props.id);\n  let {\n    0: loading,\n    1: setLoading\n  } = useState(false); // Should probably throttle toggles to this at some point!\n\n  if (user === false) return h(EmailWatching, props);\n  return h(WatchCourseBox, [h(Icon, {\n    src: watching ? '/img/watching.png' : '/img/not-watching.png'\n  }), h(\"div\", [h('p', [watching ? \"You get emails about new cohorts!\" : \"Want emails on new cohorts?\"]), h(LinkButton, {\n    onClick: async e => {\n      e.preventDefault();\n      if (loading || !user || !userCourses) return;\n      setLoading(true);\n      let res = await callApi(`/api/courses/${props.id}/watch`, {\n        watching: !watching\n      });\n      setLoading(false);\n\n      if (res.status === 200) {\n        if (watching) mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n          watching_courses: userCourses.watching_courses.filter(x => x.course !== props.id)\n        }));else mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n          watching_courses: [...userCourses.watching_courses, {\n            course: props.id,\n            email: user.email\n          }]\n        }));\n      }\n    }\n  }, loading ? h(Loader) : watching ? \"Unsubscribe?\" : \"Subscribe!\")])]);\n} // This component appears at the bottom of course and club listings. \n\nexport function WatchCourseInline(props) {\n  let {\n    data: userCourses,\n    mutate\n  } = useUserCourses();\n  let {\n    data: user\n  } = useUserData();\n  let {\n    0: open,\n    1: setOpen\n  } = useState(false);\n  let watching = userCourses === null || userCourses === void 0 ? void 0 : userCourses.watching_courses.find(c => c.course === props.id);\n  useDebouncedEffect(async () => {\n    await callApi(`/api/courses/${props.id}/watch`, {\n      watching: !!watching\n    });\n  }, 500, [watching]);\n\n  const onClick = async e => {\n    e.preventDefault();\n    if (!user || !userCourses) return setOpen(true);\n    if (watching) mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n      watching_courses: userCourses.watching_courses.filter(x => x.course !== props.id)\n    }), false);else mutate(_objectSpread(_objectSpread({}, userCourses), {}, {\n      watching_courses: [...userCourses.watching_courses, {\n        course: props.id,\n        email: user.email\n      }]\n    }), false);\n  }; // Should probably throttle toggles to this at some point!\n\n\n  return h(Fragment, [h(Modal, {\n    display: open,\n    onExit: () => setOpen(false)\n  }, [h(EmailWatchingModal, props)]), h(WatchCourseInlineButton, {\n    onClick\n  }, [h(Bell, {\n    blue: !!watching\n  }), h('small.textSecondary', [watching ? \"You get updates about this course!\" : h('span', [h('u', \"Get updates\"), \" on new cohorts\"])])])]);\n}\n\nconst WatchCourseInlineButton = /*#__PURE__*/_styled('button', {\n  target: \"e7i6c6d0\",\n  label: \"WatchCourseInlineButton\"\n})(false ? {\n  name: \"1lh8ptr\",\n  styles: \"border:none;background-color:inherit;font-family:inherit;font-size:inherit;display:grid;grid-gap:8px;padding:0;grid-template-columns:min-content auto;&:hover{cursor:pointer;small{color:blue;}path,svg{fill:blue;}}&:focus{outline:none;}text-align:left;\"\n} : {\n  name: \"1lh8ptr\",\n  styles: \"border:none;background-color:inherit;font-family:inherit;font-size:inherit;display:grid;grid-gap:8px;padding:0;grid-template-columns:min-content auto;&:hover{cursor:pointer;small{color:blue;}path,svg{fill:blue;}}&:focus{outline:none;}text-align:left;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvY29tcG9uZW50cy9Db3Vyc2UvV2F0Y2hDb3Vyc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBeUVnRCIsImZpbGUiOiIvVXNlcnMvYXlvb2x1d2FhbGZvbnNvL2NvZGUva3Jha2VuZWR1YXBwL2NvbXBvbmVudHMvQ291cnNlL1dhdGNoQ291cnNlLnRzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnXG5pbXBvcnQgaCBmcm9tICdyZWFjdC1oeXBlcnNjcmlwdCdcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VVc2VyRGF0YSwgdXNlVXNlckNvdXJzZXMgfSBmcm9tICdzcmMvZGF0YSdcbmltcG9ydCB7IFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdCB9IGZyb20gJ3BhZ2VzL2FwaS9jb3Vyc2VzL1tpZF0vd2F0Y2gnXG5pbXBvcnQgeyBjYWxsQXBpIH0gZnJvbSAnc3JjL2FwaUhlbHBlcnMnXG5pbXBvcnQgTG9hZGVyICBmcm9tICdjb21wb25lbnRzL0xvYWRlcidcbmltcG9ydCB7IEJveCwgRm9ybUJveCB9IGZyb20gJ2NvbXBvbmVudHMvTGF5b3V0J1xuaW1wb3J0IHtCZWxsfSBmcm9tICdjb21wb25lbnRzL0ljb25zJ1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdjb21wb25lbnRzL0Zvcm0nXG5pbXBvcnQgeyBMaW5rQnV0dG9uLCBQcmltYXJ5IH0gZnJvbSAnY29tcG9uZW50cy9CdXR0b24nXG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRFZmZlY3QgfSBmcm9tICdzcmMvaG9va3MnXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJ2NvbXBvbmVudHMvTW9kYWwnXG5pbXBvcnQgeyBBY2NlbnRJbWcgfSBmcm9tICdjb21wb25lbnRzL0ltYWdlcydcblxuZXhwb3J0IGZ1bmN0aW9uIFdhdGNoQ291cnNlKHByb3BzOntpZDogbnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgd2F0Y2hpbmcgPSB1c2VyQ291cnNlcz8ud2F0Y2hpbmdfY291cnNlcy5maW5kKGM9PiBjLmNvdXJzZSA9PT0gcHJvcHMuaWQpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAvLyBTaG91bGQgcHJvYmFibHkgdGhyb3R0bGUgdG9nZ2xlcyB0byB0aGlzIGF0IHNvbWUgcG9pbnQhXG4gIGlmKHVzZXI9PT1mYWxzZSkgcmV0dXJuIGgoRW1haWxXYXRjaGluZywgcHJvcHMpXG4gIHJldHVybiBoKFdhdGNoQ291cnNlQm94LCBbXG4gICAgaChJY29uLCB7c3JjOiB3YXRjaGluZyA/ICcvaW1nL3dhdGNoaW5nLnBuZycgOiAnL2ltZy9ub3Qtd2F0Y2hpbmcucG5nJ30pLFxuICAgIGgoXCJkaXZcIiwgW1xuICAgICAgaCgncCcsIFt3YXRjaGluZyA/IFwiWW91IGdldCBlbWFpbHMgYWJvdXQgbmV3IGNvaG9ydHMhXCIgOiBcIldhbnQgZW1haWxzIG9uIG5ldyBjb2hvcnRzP1wiXSksXG4gICAgICBoKExpbmtCdXR0b24sIHtvbkNsaWNrOmFzeW5jIChlOiBSZWFjdC5Nb3VzZUV2ZW50KT0+e1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYobG9hZGluZyB8fCAhdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVyblxuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nfSlcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9KVxuICAgICAgICAgIGVsc2UgbXV0YXRlKHsuLi51c2VyQ291cnNlcywgd2F0Y2hpbmdfY291cnNlczogWy4uLnVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMsIHtjb3Vyc2U6IHByb3BzLmlkLCBlbWFpbDogdXNlci5lbWFpbH1dfSlcbiAgICAgICAgfVxuICAgICAgfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiB3YXRjaGluZz8gXCJVbnN1YnNjcmliZT9cIiA6IFwiU3Vic2NyaWJlIVwiIClcbiAgICBdKVxuICBdKVxufVxuXG4vLyBUaGlzIGNvbXBvbmVudCBhcHBlYXJzIGF0IHRoZSBib3R0b20gb2YgY291cnNlIGFuZCBjbHViIGxpc3RpbmdzLiBcbmV4cG9ydCBmdW5jdGlvbiBXYXRjaENvdXJzZUlubGluZShwcm9wczp7aWQ6bnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGxldCB3YXRjaGluZyA9IHVzZXJDb3Vyc2VzPy53YXRjaGluZ19jb3Vyc2VzLmZpbmQoYz0+IGMuY291cnNlID09PSBwcm9wcy5pZClcblxuICB1c2VEZWJvdW5jZWRFZmZlY3QoYXN5bmMgKCk9PntcbiAgICBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogISF3YXRjaGluZ30pXG4gIH0sIDUwMCwgW3dhdGNoaW5nXSlcblxuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKGU6UmVhY3QuTW91c2VFdmVudCk9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZighdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVybiBzZXRPcGVuKHRydWUpXG4gICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9LCBmYWxzZSlcbiAgICBlbHNlIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IFsuLi51c2VyQ291cnNlcy53YXRjaGluZ19jb3Vyc2VzLCB7Y291cnNlOiBwcm9wcy5pZCwgZW1haWw6IHVzZXIuZW1haWx9XX0sIGZhbHNlKVxuICB9XG5cbiAgLy8gU2hvdWxkIHByb2JhYmx5IHRocm90dGxlIHRvZ2dsZXMgdG8gdGhpcyBhdCBzb21lIHBvaW50IVxuICByZXR1cm4gaChGcmFnbWVudCwgW1xuICAgIGgoTW9kYWwsIHtkaXNwbGF5OiBvcGVuLCBvbkV4aXQ6KCk9PnNldE9wZW4oZmFsc2UpfSwgW1xuICAgICAgaChFbWFpbFdhdGNoaW5nTW9kYWwsIHByb3BzKVxuICAgIF0pLFxuICAgIGgoV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24sIHtvbkNsaWNrfSwgW1xuICAgICAgaChCZWxsLCB7Ymx1ZTogISF3YXRjaGluZ30pLFxuICAgICAgaCgnc21hbGwudGV4dFNlY29uZGFyeScsIFt3YXRjaGluZyA/IFwiWW91IGdldCB1cGRhdGVzIGFib3V0IHRoaXMgY291cnNlIVwiIDogaCgnc3BhbicsIFtoKCd1JywgXCJHZXQgdXBkYXRlc1wiLCksIFwiIG9uIG5ldyBjb2hvcnRzXCJdKV0pXG4gICAgXSlcbiAgXSlcbn1cblxuY29uc3QgV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24gPSBzdHlsZWQoJ2J1dHRvbicpYFxuYm9yZGVyOiBub25lO1xuYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbmZvbnQtZmFtaWx5OiBpbmhlcml0O1xuZm9udC1zaXplOiBpbmhlcml0O1xuZGlzcGxheTogZ3JpZDtcbmdyaWQtZ2FwOiA4cHg7XG5wYWRkaW5nOiAwO1xuZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtaW4tY29udGVudCBhdXRvO1xuJjpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgc21hbGwge1xuICAgIGNvbG9yOiBibHVlO1xuICB9XG4gIHBhdGgsIHN2ZyB7XG4gICAgZmlsbDogYmx1ZTtcbiAgfVxufVxuJjpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnRleHQtYWxpZ246IGxlZnQ7XG5gXG5cbi8vIElubGluZSBXYXRjaCBCdXR0b24gcG9wcyB0aGlzIG1vZGFsIHRvIGNvbGxlY3QgZW1haWxzIGZvciB1c2VycyB3aG8gYXJlIG5vdCBsb2dnZWQgaW4gXG5sZXQgRW1haWxXYXRjaGluZ01vZGFsID0gKHByb3BzOiB7aWQ6bnVtYmVyfSkgPT4ge1xuICBsZXQgW3dhdGNoaW5nLCBzZXRXYXRjaGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgbGV0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChlOlJlYWN0LkZvcm1FdmVudCkgPT57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYobG9hZGluZyB8fCAhZW1haWwpIHJldHVyblxuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICBsZXQgcmVzID0gYXdhaXQgY2FsbEFwaTxXYXRjaENvdXJzZU1zZywgV2F0Y2hDb3Vyc2VSZXN1bHQ+KGAvYXBpL2NvdXJzZXMvJHtwcm9wcy5pZH0vd2F0Y2hgLCB7d2F0Y2hpbmc6ICF3YXRjaGluZywgZW1haWw6IGVtYWlsfSlcbiAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIGlmKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgc2V0V2F0Y2hpbmcodHJ1ZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gIGgoQm94LCB7Z2FwOiAxNn0sIFtcbiAgICBoKCdkaXYnLCB7c3R5bGU6e3RleHRBbGlnbjonY2VudGVyJ319LCBbd2F0Y2hpbmcgXG4gICAgICA/IGgoQm94LCBbaChBY2NlbnRJbWcsIHtzcmM6ICcvaW1nL3N1Y2Nlc3MuZ2lmJywgYWx0OiBcIkEgbGl0dGxlIGRyYWdvbiB3aG8gaXMgaGFwcHkgZm9yIHlvdSFcIiwgc3R5bGU6e21hcmdpbjonYXV0byBhdXRvJ319KSxcbiAgICAgICAgaCgnYicsIFwiVGhhbmtzISBXZSdsbCBlbWFpbCB5b3UgYXMgc29vbiBhcyB0aGVyZSdzIGEgbmV3IGNvaG9ydCFcIiksIFxuICAgICAgXSlcbiAgICAgIDogaCgnYicsIFwiTGVhdmUgeW91ciBlbWFpbCBmb3IgdXBkYXRlcyBvbiBuZXcgY29ob3J0cyBvZiB0aGlzIGNvdXJzZVwiKSxcbiAgICBdKSxcbiAgICB3YXRjaGluZyA/IG51bGwgOiBoKEZvcm1Cb3gsIHtvblN1Ym1pdH0sIFtcbiAgICAgIGgoSW5wdXQsIHt2YWx1ZTplbWFpbCwgdHlwZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICd5b3VyIGVtYWlsJywgb25DaGFuZ2U6KGUpPT5zZXRFbWFpbChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSksXG4gICAgICBoKFByaW1hcnksIHt0eXBlOiAnc3VibWl0JywgZGlzYWJsZWQ6ICFlbWFpbCwgc3R5bGU6e2p1c3RpZnlTZWxmOidjZW50ZXInfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiBcIlN1YnNjcmliZVwiIClcbiAgICBdKVxuICBdKVxuXG59XG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvbiBNb2RhbFxuXG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvblxuXG5sZXQgRW1haWxXYXRjaGluZyA9IChwcm9wczp7aWQ6IG51bWJlcn0pPT57XG4gIGxldCBbd2F0Y2hpbmcsIHNldFdhdGNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBsZXQgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJylcbiAgbGV0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKGU6UmVhY3QuRm9ybUV2ZW50KSA9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZihsb2FkaW5nIHx8ICFlbWFpbCkgcmV0dXJuXG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nLCBlbWFpbDogZW1haWx9KVxuICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBzZXRXYXRjaGluZyh0cnVlKVxuICAgIH1cbiAgfVxuICByZXR1cm4gaChXYXRjaENvdXJzZUJveCwgW1xuICAgIGgoSWNvbiwge3NyYzogd2F0Y2hpbmcgPyAnL2ltZy93YXRjaGluZy5wbmcnIDogJy9pbWcvbm90LXdhdGNoaW5nLnBuZyd9KSxcbiAgICBoKEJveCwge2dhcDogOH0sIFtcbiAgICAgIGgoJ2InLCBbd2F0Y2hpbmcgPyBcIllvdSBnZXQgZW1haWxzIGFib3V0IG5ldyBjb2hvcnRzIVwiIDogXCJFbWFpbCBtZSB3aGVuIG5ldyBjb2hvcnRzIGFyZSBzY2hlZHVsZWRcIl0pLFxuICAgICAgd2F0Y2hpbmcgPyBudWxsIDogaChGb3JtQm94LCB7Z2FwOjgsIG9uU3VibWl0fSwgW1xuICAgICAgICBoKElucHV0LCB7dmFsdWU6ZW1haWwsIHR5cGU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAneW91ciBlbWFpbCcsIG9uQ2hhbmdlOihlKT0+c2V0RW1haWwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX0pLFxuICAgICAgICBoKExpbmtCdXR0b24sIHt0eXBlOiAnc3VibWl0Jywgc3R5bGU6e2p1c3RpZnlTZWxmOidyaWdodCd9fSwgbG9hZGluZyA/IGgoTG9hZGVyKSA6IFwic3Vic2NyaWJlXCIgKVxuICAgICAgXSlcbiAgICBdKVxuICBdKVxufVxuXG5jb25zdCBJY29uID0gc3R5bGVkKCdpbWcnKWBcbmltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xuaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzO1xuaW1hZ2UtcmVuZGVyaW5nOiBjcmlzcC1lZGdlcztcbmBcblxuY29uc3QgV2F0Y2hDb3Vyc2VCb3ggPSBzdHlsZWQoJ2RpdicpYFxubWF4LXdpZHRoOiAzMDBweDtcbmRpc3BsYXk6IGdyaWQ7XG5ncmlkLWdhcDogMTZweDtcbmdyaWQtdGVtcGxhdGUtY29sdW1uczogbWluLWNvbnRlbnQgYXV0bztcbmBcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n}); // Inline Watch Button pops this modal to collect emails for users who are not logged in \n\n\nlet EmailWatchingModal = props => {\n  let {\n    0: watching,\n    1: setWatching\n  } = useState(false);\n  let {\n    0: email,\n    1: setEmail\n  } = useState('');\n  let {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    if (loading || !email) return;\n    setLoading(true);\n    let res = await callApi(`/api/courses/${props.id}/watch`, {\n      watching: !watching,\n      email: email\n    });\n    setLoading(false);\n\n    if (res.status === 200) {\n      setWatching(true);\n    }\n  };\n\n  return h(Box, {\n    gap: 16\n  }, [h('div', {\n    style: {\n      textAlign: 'center'\n    }\n  }, [watching ? h(Box, [h(AccentImg, {\n    src: '/img/success.gif',\n    alt: \"A little dragon who is happy for you!\",\n    style: {\n      margin: 'auto auto'\n    }\n  }), h('b', \"Thanks! We'll email you as soon as there's a new cohort!\")]) : h('b', \"Leave your email for updates on new cohorts of this course\")]), watching ? null : h(FormBox, {\n    onSubmit\n  }, [h(Input, {\n    value: email,\n    type: 'email',\n    placeholder: 'your email',\n    onChange: e => setEmail(e.currentTarget.value)\n  }), h(Primary, {\n    type: 'submit',\n    disabled: !email,\n    style: {\n      justifySelf: 'center'\n    }\n  }, loading ? h(Loader) : \"Subscribe\")])]);\n}; // END Inline Watch Button Modal\n// END Inline Watch Button\n\n\nlet EmailWatching = props => {\n  let {\n    0: watching,\n    1: setWatching\n  } = useState(false);\n  let {\n    0: email,\n    1: setEmail\n  } = useState('');\n  let {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    if (loading || !email) return;\n    setLoading(true);\n    let res = await callApi(`/api/courses/${props.id}/watch`, {\n      watching: !watching,\n      email: email\n    });\n    setLoading(false);\n\n    if (res.status === 200) {\n      setWatching(true);\n    }\n  };\n\n  return h(WatchCourseBox, [h(Icon, {\n    src: watching ? '/img/watching.png' : '/img/not-watching.png'\n  }), h(Box, {\n    gap: 8\n  }, [h('b', [watching ? \"You get emails about new cohorts!\" : \"Email me when new cohorts are scheduled\"]), watching ? null : h(FormBox, {\n    gap: 8,\n    onSubmit\n  }, [h(Input, {\n    value: email,\n    type: 'email',\n    placeholder: 'your email',\n    onChange: e => setEmail(e.currentTarget.value)\n  }), h(LinkButton, {\n    type: 'submit',\n    style: {\n      justifySelf: 'right'\n    }\n  }, loading ? h(Loader) : \"subscribe\")])])]);\n};\n\nconst Icon = /*#__PURE__*/_styled('img', {\n  target: \"e7i6c6d1\",\n  label: \"Icon\"\n})(false ? {\n  name: \"14vr9xz\",\n  styles: \"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;\"\n} : {\n  name: \"14vr9xz\",\n  styles: \"image-rendering:pixelated;image-rendering:-moz-crisp-edges;image-rendering:crisp-edges;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvY29tcG9uZW50cy9Db3Vyc2UvV2F0Y2hDb3Vyc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0swQiIsImZpbGUiOiIvVXNlcnMvYXlvb2x1d2FhbGZvbnNvL2NvZGUva3Jha2VuZWR1YXBwL2NvbXBvbmVudHMvQ291cnNlL1dhdGNoQ291cnNlLnRzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnXG5pbXBvcnQgaCBmcm9tICdyZWFjdC1oeXBlcnNjcmlwdCdcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VVc2VyRGF0YSwgdXNlVXNlckNvdXJzZXMgfSBmcm9tICdzcmMvZGF0YSdcbmltcG9ydCB7IFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdCB9IGZyb20gJ3BhZ2VzL2FwaS9jb3Vyc2VzL1tpZF0vd2F0Y2gnXG5pbXBvcnQgeyBjYWxsQXBpIH0gZnJvbSAnc3JjL2FwaUhlbHBlcnMnXG5pbXBvcnQgTG9hZGVyICBmcm9tICdjb21wb25lbnRzL0xvYWRlcidcbmltcG9ydCB7IEJveCwgRm9ybUJveCB9IGZyb20gJ2NvbXBvbmVudHMvTGF5b3V0J1xuaW1wb3J0IHtCZWxsfSBmcm9tICdjb21wb25lbnRzL0ljb25zJ1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdjb21wb25lbnRzL0Zvcm0nXG5pbXBvcnQgeyBMaW5rQnV0dG9uLCBQcmltYXJ5IH0gZnJvbSAnY29tcG9uZW50cy9CdXR0b24nXG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRFZmZlY3QgfSBmcm9tICdzcmMvaG9va3MnXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJ2NvbXBvbmVudHMvTW9kYWwnXG5pbXBvcnQgeyBBY2NlbnRJbWcgfSBmcm9tICdjb21wb25lbnRzL0ltYWdlcydcblxuZXhwb3J0IGZ1bmN0aW9uIFdhdGNoQ291cnNlKHByb3BzOntpZDogbnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgd2F0Y2hpbmcgPSB1c2VyQ291cnNlcz8ud2F0Y2hpbmdfY291cnNlcy5maW5kKGM9PiBjLmNvdXJzZSA9PT0gcHJvcHMuaWQpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAvLyBTaG91bGQgcHJvYmFibHkgdGhyb3R0bGUgdG9nZ2xlcyB0byB0aGlzIGF0IHNvbWUgcG9pbnQhXG4gIGlmKHVzZXI9PT1mYWxzZSkgcmV0dXJuIGgoRW1haWxXYXRjaGluZywgcHJvcHMpXG4gIHJldHVybiBoKFdhdGNoQ291cnNlQm94LCBbXG4gICAgaChJY29uLCB7c3JjOiB3YXRjaGluZyA/ICcvaW1nL3dhdGNoaW5nLnBuZycgOiAnL2ltZy9ub3Qtd2F0Y2hpbmcucG5nJ30pLFxuICAgIGgoXCJkaXZcIiwgW1xuICAgICAgaCgncCcsIFt3YXRjaGluZyA/IFwiWW91IGdldCBlbWFpbHMgYWJvdXQgbmV3IGNvaG9ydHMhXCIgOiBcIldhbnQgZW1haWxzIG9uIG5ldyBjb2hvcnRzP1wiXSksXG4gICAgICBoKExpbmtCdXR0b24sIHtvbkNsaWNrOmFzeW5jIChlOiBSZWFjdC5Nb3VzZUV2ZW50KT0+e1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYobG9hZGluZyB8fCAhdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVyblxuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nfSlcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9KVxuICAgICAgICAgIGVsc2UgbXV0YXRlKHsuLi51c2VyQ291cnNlcywgd2F0Y2hpbmdfY291cnNlczogWy4uLnVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMsIHtjb3Vyc2U6IHByb3BzLmlkLCBlbWFpbDogdXNlci5lbWFpbH1dfSlcbiAgICAgICAgfVxuICAgICAgfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiB3YXRjaGluZz8gXCJVbnN1YnNjcmliZT9cIiA6IFwiU3Vic2NyaWJlIVwiIClcbiAgICBdKVxuICBdKVxufVxuXG4vLyBUaGlzIGNvbXBvbmVudCBhcHBlYXJzIGF0IHRoZSBib3R0b20gb2YgY291cnNlIGFuZCBjbHViIGxpc3RpbmdzLiBcbmV4cG9ydCBmdW5jdGlvbiBXYXRjaENvdXJzZUlubGluZShwcm9wczp7aWQ6bnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGxldCB3YXRjaGluZyA9IHVzZXJDb3Vyc2VzPy53YXRjaGluZ19jb3Vyc2VzLmZpbmQoYz0+IGMuY291cnNlID09PSBwcm9wcy5pZClcblxuICB1c2VEZWJvdW5jZWRFZmZlY3QoYXN5bmMgKCk9PntcbiAgICBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogISF3YXRjaGluZ30pXG4gIH0sIDUwMCwgW3dhdGNoaW5nXSlcblxuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKGU6UmVhY3QuTW91c2VFdmVudCk9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZighdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVybiBzZXRPcGVuKHRydWUpXG4gICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9LCBmYWxzZSlcbiAgICBlbHNlIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IFsuLi51c2VyQ291cnNlcy53YXRjaGluZ19jb3Vyc2VzLCB7Y291cnNlOiBwcm9wcy5pZCwgZW1haWw6IHVzZXIuZW1haWx9XX0sIGZhbHNlKVxuICB9XG5cbiAgLy8gU2hvdWxkIHByb2JhYmx5IHRocm90dGxlIHRvZ2dsZXMgdG8gdGhpcyBhdCBzb21lIHBvaW50IVxuICByZXR1cm4gaChGcmFnbWVudCwgW1xuICAgIGgoTW9kYWwsIHtkaXNwbGF5OiBvcGVuLCBvbkV4aXQ6KCk9PnNldE9wZW4oZmFsc2UpfSwgW1xuICAgICAgaChFbWFpbFdhdGNoaW5nTW9kYWwsIHByb3BzKVxuICAgIF0pLFxuICAgIGgoV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24sIHtvbkNsaWNrfSwgW1xuICAgICAgaChCZWxsLCB7Ymx1ZTogISF3YXRjaGluZ30pLFxuICAgICAgaCgnc21hbGwudGV4dFNlY29uZGFyeScsIFt3YXRjaGluZyA/IFwiWW91IGdldCB1cGRhdGVzIGFib3V0IHRoaXMgY291cnNlIVwiIDogaCgnc3BhbicsIFtoKCd1JywgXCJHZXQgdXBkYXRlc1wiLCksIFwiIG9uIG5ldyBjb2hvcnRzXCJdKV0pXG4gICAgXSlcbiAgXSlcbn1cblxuY29uc3QgV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24gPSBzdHlsZWQoJ2J1dHRvbicpYFxuYm9yZGVyOiBub25lO1xuYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbmZvbnQtZmFtaWx5OiBpbmhlcml0O1xuZm9udC1zaXplOiBpbmhlcml0O1xuZGlzcGxheTogZ3JpZDtcbmdyaWQtZ2FwOiA4cHg7XG5wYWRkaW5nOiAwO1xuZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtaW4tY29udGVudCBhdXRvO1xuJjpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgc21hbGwge1xuICAgIGNvbG9yOiBibHVlO1xuICB9XG4gIHBhdGgsIHN2ZyB7XG4gICAgZmlsbDogYmx1ZTtcbiAgfVxufVxuJjpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnRleHQtYWxpZ246IGxlZnQ7XG5gXG5cbi8vIElubGluZSBXYXRjaCBCdXR0b24gcG9wcyB0aGlzIG1vZGFsIHRvIGNvbGxlY3QgZW1haWxzIGZvciB1c2VycyB3aG8gYXJlIG5vdCBsb2dnZWQgaW4gXG5sZXQgRW1haWxXYXRjaGluZ01vZGFsID0gKHByb3BzOiB7aWQ6bnVtYmVyfSkgPT4ge1xuICBsZXQgW3dhdGNoaW5nLCBzZXRXYXRjaGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgbGV0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChlOlJlYWN0LkZvcm1FdmVudCkgPT57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYobG9hZGluZyB8fCAhZW1haWwpIHJldHVyblxuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICBsZXQgcmVzID0gYXdhaXQgY2FsbEFwaTxXYXRjaENvdXJzZU1zZywgV2F0Y2hDb3Vyc2VSZXN1bHQ+KGAvYXBpL2NvdXJzZXMvJHtwcm9wcy5pZH0vd2F0Y2hgLCB7d2F0Y2hpbmc6ICF3YXRjaGluZywgZW1haWw6IGVtYWlsfSlcbiAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIGlmKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgc2V0V2F0Y2hpbmcodHJ1ZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gIGgoQm94LCB7Z2FwOiAxNn0sIFtcbiAgICBoKCdkaXYnLCB7c3R5bGU6e3RleHRBbGlnbjonY2VudGVyJ319LCBbd2F0Y2hpbmcgXG4gICAgICA/IGgoQm94LCBbaChBY2NlbnRJbWcsIHtzcmM6ICcvaW1nL3N1Y2Nlc3MuZ2lmJywgYWx0OiBcIkEgbGl0dGxlIGRyYWdvbiB3aG8gaXMgaGFwcHkgZm9yIHlvdSFcIiwgc3R5bGU6e21hcmdpbjonYXV0byBhdXRvJ319KSxcbiAgICAgICAgaCgnYicsIFwiVGhhbmtzISBXZSdsbCBlbWFpbCB5b3UgYXMgc29vbiBhcyB0aGVyZSdzIGEgbmV3IGNvaG9ydCFcIiksIFxuICAgICAgXSlcbiAgICAgIDogaCgnYicsIFwiTGVhdmUgeW91ciBlbWFpbCBmb3IgdXBkYXRlcyBvbiBuZXcgY29ob3J0cyBvZiB0aGlzIGNvdXJzZVwiKSxcbiAgICBdKSxcbiAgICB3YXRjaGluZyA/IG51bGwgOiBoKEZvcm1Cb3gsIHtvblN1Ym1pdH0sIFtcbiAgICAgIGgoSW5wdXQsIHt2YWx1ZTplbWFpbCwgdHlwZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICd5b3VyIGVtYWlsJywgb25DaGFuZ2U6KGUpPT5zZXRFbWFpbChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSksXG4gICAgICBoKFByaW1hcnksIHt0eXBlOiAnc3VibWl0JywgZGlzYWJsZWQ6ICFlbWFpbCwgc3R5bGU6e2p1c3RpZnlTZWxmOidjZW50ZXInfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiBcIlN1YnNjcmliZVwiIClcbiAgICBdKVxuICBdKVxuXG59XG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvbiBNb2RhbFxuXG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvblxuXG5sZXQgRW1haWxXYXRjaGluZyA9IChwcm9wczp7aWQ6IG51bWJlcn0pPT57XG4gIGxldCBbd2F0Y2hpbmcsIHNldFdhdGNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBsZXQgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJylcbiAgbGV0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKGU6UmVhY3QuRm9ybUV2ZW50KSA9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZihsb2FkaW5nIHx8ICFlbWFpbCkgcmV0dXJuXG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nLCBlbWFpbDogZW1haWx9KVxuICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBzZXRXYXRjaGluZyh0cnVlKVxuICAgIH1cbiAgfVxuICByZXR1cm4gaChXYXRjaENvdXJzZUJveCwgW1xuICAgIGgoSWNvbiwge3NyYzogd2F0Y2hpbmcgPyAnL2ltZy93YXRjaGluZy5wbmcnIDogJy9pbWcvbm90LXdhdGNoaW5nLnBuZyd9KSxcbiAgICBoKEJveCwge2dhcDogOH0sIFtcbiAgICAgIGgoJ2InLCBbd2F0Y2hpbmcgPyBcIllvdSBnZXQgZW1haWxzIGFib3V0IG5ldyBjb2hvcnRzIVwiIDogXCJFbWFpbCBtZSB3aGVuIG5ldyBjb2hvcnRzIGFyZSBzY2hlZHVsZWRcIl0pLFxuICAgICAgd2F0Y2hpbmcgPyBudWxsIDogaChGb3JtQm94LCB7Z2FwOjgsIG9uU3VibWl0fSwgW1xuICAgICAgICBoKElucHV0LCB7dmFsdWU6ZW1haWwsIHR5cGU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAneW91ciBlbWFpbCcsIG9uQ2hhbmdlOihlKT0+c2V0RW1haWwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX0pLFxuICAgICAgICBoKExpbmtCdXR0b24sIHt0eXBlOiAnc3VibWl0Jywgc3R5bGU6e2p1c3RpZnlTZWxmOidyaWdodCd9fSwgbG9hZGluZyA/IGgoTG9hZGVyKSA6IFwic3Vic2NyaWJlXCIgKVxuICAgICAgXSlcbiAgICBdKVxuICBdKVxufVxuXG5jb25zdCBJY29uID0gc3R5bGVkKCdpbWcnKWBcbmltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xuaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzO1xuaW1hZ2UtcmVuZGVyaW5nOiBjcmlzcC1lZGdlcztcbmBcblxuY29uc3QgV2F0Y2hDb3Vyc2VCb3ggPSBzdHlsZWQoJ2RpdicpYFxubWF4LXdpZHRoOiAzMDBweDtcbmRpc3BsYXk6IGdyaWQ7XG5ncmlkLWdhcDogMTZweDtcbmdyaWQtdGVtcGxhdGUtY29sdW1uczogbWluLWNvbnRlbnQgYXV0bztcbmBcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});\n\nconst WatchCourseBox = /*#__PURE__*/_styled('div', {\n  target: \"e7i6c6d2\",\n  label: \"WatchCourseBox\"\n})(false ? {\n  name: \"1w97zf4\",\n  styles: \"max-width:300px;display:grid;grid-gap:16px;grid-template-columns:min-content auto;\"\n} : {\n  name: \"1w97zf4\",\n  styles: \"max-width:300px;display:grid;grid-gap:16px;grid-template-columns:min-content auto;\",\n  map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9heW9vbHV3YWFsZm9uc28vY29kZS9rcmFrZW5lZHVhcHAvY29tcG9uZW50cy9Db3Vyc2UvV2F0Y2hDb3Vyc2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0tvQyIsImZpbGUiOiIvVXNlcnMvYXlvb2x1d2FhbGZvbnNvL2NvZGUva3Jha2VuZWR1YXBwL2NvbXBvbmVudHMvQ291cnNlL1dhdGNoQ291cnNlLnRzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHN0eWxlZCBmcm9tICdAZW1vdGlvbi9zdHlsZWQnXG5pbXBvcnQgaCBmcm9tICdyZWFjdC1oeXBlcnNjcmlwdCdcbmltcG9ydCB7IEZyYWdtZW50LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0J1xuXG5pbXBvcnQgeyB1c2VVc2VyRGF0YSwgdXNlVXNlckNvdXJzZXMgfSBmcm9tICdzcmMvZGF0YSdcbmltcG9ydCB7IFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdCB9IGZyb20gJ3BhZ2VzL2FwaS9jb3Vyc2VzL1tpZF0vd2F0Y2gnXG5pbXBvcnQgeyBjYWxsQXBpIH0gZnJvbSAnc3JjL2FwaUhlbHBlcnMnXG5pbXBvcnQgTG9hZGVyICBmcm9tICdjb21wb25lbnRzL0xvYWRlcidcbmltcG9ydCB7IEJveCwgRm9ybUJveCB9IGZyb20gJ2NvbXBvbmVudHMvTGF5b3V0J1xuaW1wb3J0IHtCZWxsfSBmcm9tICdjb21wb25lbnRzL0ljb25zJ1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdjb21wb25lbnRzL0Zvcm0nXG5pbXBvcnQgeyBMaW5rQnV0dG9uLCBQcmltYXJ5IH0gZnJvbSAnY29tcG9uZW50cy9CdXR0b24nXG5pbXBvcnQgeyB1c2VEZWJvdW5jZWRFZmZlY3QgfSBmcm9tICdzcmMvaG9va3MnXG5pbXBvcnQgeyBNb2RhbCB9IGZyb20gJ2NvbXBvbmVudHMvTW9kYWwnXG5pbXBvcnQgeyBBY2NlbnRJbWcgfSBmcm9tICdjb21wb25lbnRzL0ltYWdlcydcblxuZXhwb3J0IGZ1bmN0aW9uIFdhdGNoQ291cnNlKHByb3BzOntpZDogbnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgd2F0Y2hpbmcgPSB1c2VyQ291cnNlcz8ud2F0Y2hpbmdfY291cnNlcy5maW5kKGM9PiBjLmNvdXJzZSA9PT0gcHJvcHMuaWQpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAvLyBTaG91bGQgcHJvYmFibHkgdGhyb3R0bGUgdG9nZ2xlcyB0byB0aGlzIGF0IHNvbWUgcG9pbnQhXG4gIGlmKHVzZXI9PT1mYWxzZSkgcmV0dXJuIGgoRW1haWxXYXRjaGluZywgcHJvcHMpXG4gIHJldHVybiBoKFdhdGNoQ291cnNlQm94LCBbXG4gICAgaChJY29uLCB7c3JjOiB3YXRjaGluZyA/ICcvaW1nL3dhdGNoaW5nLnBuZycgOiAnL2ltZy9ub3Qtd2F0Y2hpbmcucG5nJ30pLFxuICAgIGgoXCJkaXZcIiwgW1xuICAgICAgaCgncCcsIFt3YXRjaGluZyA/IFwiWW91IGdldCBlbWFpbHMgYWJvdXQgbmV3IGNvaG9ydHMhXCIgOiBcIldhbnQgZW1haWxzIG9uIG5ldyBjb2hvcnRzP1wiXSksXG4gICAgICBoKExpbmtCdXR0b24sIHtvbkNsaWNrOmFzeW5jIChlOiBSZWFjdC5Nb3VzZUV2ZW50KT0+e1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgaWYobG9hZGluZyB8fCAhdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVyblxuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nfSlcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9KVxuICAgICAgICAgIGVsc2UgbXV0YXRlKHsuLi51c2VyQ291cnNlcywgd2F0Y2hpbmdfY291cnNlczogWy4uLnVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMsIHtjb3Vyc2U6IHByb3BzLmlkLCBlbWFpbDogdXNlci5lbWFpbH1dfSlcbiAgICAgICAgfVxuICAgICAgfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiB3YXRjaGluZz8gXCJVbnN1YnNjcmliZT9cIiA6IFwiU3Vic2NyaWJlIVwiIClcbiAgICBdKVxuICBdKVxufVxuXG4vLyBUaGlzIGNvbXBvbmVudCBhcHBlYXJzIGF0IHRoZSBib3R0b20gb2YgY291cnNlIGFuZCBjbHViIGxpc3RpbmdzLiBcbmV4cG9ydCBmdW5jdGlvbiBXYXRjaENvdXJzZUlubGluZShwcm9wczp7aWQ6bnVtYmVyfSkge1xuICBsZXQge2RhdGE6IHVzZXJDb3Vyc2VzLCBtdXRhdGV9ID0gdXNlVXNlckNvdXJzZXMoKVxuICBsZXQge2RhdGE6IHVzZXJ9ID0gdXNlVXNlckRhdGEoKVxuICBsZXQgW29wZW4sIHNldE9wZW5dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGxldCB3YXRjaGluZyA9IHVzZXJDb3Vyc2VzPy53YXRjaGluZ19jb3Vyc2VzLmZpbmQoYz0+IGMuY291cnNlID09PSBwcm9wcy5pZClcblxuICB1c2VEZWJvdW5jZWRFZmZlY3QoYXN5bmMgKCk9PntcbiAgICBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogISF3YXRjaGluZ30pXG4gIH0sIDUwMCwgW3dhdGNoaW5nXSlcblxuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKGU6UmVhY3QuTW91c2VFdmVudCk9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZighdXNlciB8fCAhdXNlckNvdXJzZXMpIHJldHVybiBzZXRPcGVuKHRydWUpXG4gICAgaWYod2F0Y2hpbmcpIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IHVzZXJDb3Vyc2VzLndhdGNoaW5nX2NvdXJzZXMuZmlsdGVyKHg9PnguY291cnNlICE9PSBwcm9wcy5pZCl9LCBmYWxzZSlcbiAgICBlbHNlIG11dGF0ZSh7Li4udXNlckNvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXM6IFsuLi51c2VyQ291cnNlcy53YXRjaGluZ19jb3Vyc2VzLCB7Y291cnNlOiBwcm9wcy5pZCwgZW1haWw6IHVzZXIuZW1haWx9XX0sIGZhbHNlKVxuICB9XG5cbiAgLy8gU2hvdWxkIHByb2JhYmx5IHRocm90dGxlIHRvZ2dsZXMgdG8gdGhpcyBhdCBzb21lIHBvaW50IVxuICByZXR1cm4gaChGcmFnbWVudCwgW1xuICAgIGgoTW9kYWwsIHtkaXNwbGF5OiBvcGVuLCBvbkV4aXQ6KCk9PnNldE9wZW4oZmFsc2UpfSwgW1xuICAgICAgaChFbWFpbFdhdGNoaW5nTW9kYWwsIHByb3BzKVxuICAgIF0pLFxuICAgIGgoV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24sIHtvbkNsaWNrfSwgW1xuICAgICAgaChCZWxsLCB7Ymx1ZTogISF3YXRjaGluZ30pLFxuICAgICAgaCgnc21hbGwudGV4dFNlY29uZGFyeScsIFt3YXRjaGluZyA/IFwiWW91IGdldCB1cGRhdGVzIGFib3V0IHRoaXMgY291cnNlIVwiIDogaCgnc3BhbicsIFtoKCd1JywgXCJHZXQgdXBkYXRlc1wiLCksIFwiIG9uIG5ldyBjb2hvcnRzXCJdKV0pXG4gICAgXSlcbiAgXSlcbn1cblxuY29uc3QgV2F0Y2hDb3Vyc2VJbmxpbmVCdXR0b24gPSBzdHlsZWQoJ2J1dHRvbicpYFxuYm9yZGVyOiBub25lO1xuYmFja2dyb3VuZC1jb2xvcjogaW5oZXJpdDtcbmZvbnQtZmFtaWx5OiBpbmhlcml0O1xuZm9udC1zaXplOiBpbmhlcml0O1xuZGlzcGxheTogZ3JpZDtcbmdyaWQtZ2FwOiA4cHg7XG5wYWRkaW5nOiAwO1xuZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBtaW4tY29udGVudCBhdXRvO1xuJjpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgc21hbGwge1xuICAgIGNvbG9yOiBibHVlO1xuICB9XG4gIHBhdGgsIHN2ZyB7XG4gICAgZmlsbDogYmx1ZTtcbiAgfVxufVxuJjpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbnRleHQtYWxpZ246IGxlZnQ7XG5gXG5cbi8vIElubGluZSBXYXRjaCBCdXR0b24gcG9wcyB0aGlzIG1vZGFsIHRvIGNvbGxlY3QgZW1haWxzIGZvciB1c2VycyB3aG8gYXJlIG5vdCBsb2dnZWQgaW4gXG5sZXQgRW1haWxXYXRjaGluZ01vZGFsID0gKHByb3BzOiB7aWQ6bnVtYmVyfSkgPT4ge1xuICBsZXQgW3dhdGNoaW5nLCBzZXRXYXRjaGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgbGV0IFtlbWFpbCwgc2V0RW1haWxdID0gdXNlU3RhdGUoJycpXG4gIGxldCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChlOlJlYWN0LkZvcm1FdmVudCkgPT57XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgaWYobG9hZGluZyB8fCAhZW1haWwpIHJldHVyblxuICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICBsZXQgcmVzID0gYXdhaXQgY2FsbEFwaTxXYXRjaENvdXJzZU1zZywgV2F0Y2hDb3Vyc2VSZXN1bHQ+KGAvYXBpL2NvdXJzZXMvJHtwcm9wcy5pZH0vd2F0Y2hgLCB7d2F0Y2hpbmc6ICF3YXRjaGluZywgZW1haWw6IGVtYWlsfSlcbiAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIGlmKHJlcy5zdGF0dXMgPT09IDIwMCkge1xuICAgICAgc2V0V2F0Y2hpbmcodHJ1ZSlcbiAgICB9XG4gIH1cblxuICByZXR1cm4gIGgoQm94LCB7Z2FwOiAxNn0sIFtcbiAgICBoKCdkaXYnLCB7c3R5bGU6e3RleHRBbGlnbjonY2VudGVyJ319LCBbd2F0Y2hpbmcgXG4gICAgICA/IGgoQm94LCBbaChBY2NlbnRJbWcsIHtzcmM6ICcvaW1nL3N1Y2Nlc3MuZ2lmJywgYWx0OiBcIkEgbGl0dGxlIGRyYWdvbiB3aG8gaXMgaGFwcHkgZm9yIHlvdSFcIiwgc3R5bGU6e21hcmdpbjonYXV0byBhdXRvJ319KSxcbiAgICAgICAgaCgnYicsIFwiVGhhbmtzISBXZSdsbCBlbWFpbCB5b3UgYXMgc29vbiBhcyB0aGVyZSdzIGEgbmV3IGNvaG9ydCFcIiksIFxuICAgICAgXSlcbiAgICAgIDogaCgnYicsIFwiTGVhdmUgeW91ciBlbWFpbCBmb3IgdXBkYXRlcyBvbiBuZXcgY29ob3J0cyBvZiB0aGlzIGNvdXJzZVwiKSxcbiAgICBdKSxcbiAgICB3YXRjaGluZyA/IG51bGwgOiBoKEZvcm1Cb3gsIHtvblN1Ym1pdH0sIFtcbiAgICAgIGgoSW5wdXQsIHt2YWx1ZTplbWFpbCwgdHlwZTogJ2VtYWlsJywgcGxhY2Vob2xkZXI6ICd5b3VyIGVtYWlsJywgb25DaGFuZ2U6KGUpPT5zZXRFbWFpbChlLmN1cnJlbnRUYXJnZXQudmFsdWUpfSksXG4gICAgICBoKFByaW1hcnksIHt0eXBlOiAnc3VibWl0JywgZGlzYWJsZWQ6ICFlbWFpbCwgc3R5bGU6e2p1c3RpZnlTZWxmOidjZW50ZXInfX0sIGxvYWRpbmcgPyBoKExvYWRlcikgOiBcIlN1YnNjcmliZVwiIClcbiAgICBdKVxuICBdKVxuXG59XG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvbiBNb2RhbFxuXG4vLyBFTkQgSW5saW5lIFdhdGNoIEJ1dHRvblxuXG5sZXQgRW1haWxXYXRjaGluZyA9IChwcm9wczp7aWQ6IG51bWJlcn0pPT57XG4gIGxldCBbd2F0Y2hpbmcsIHNldFdhdGNoaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuICBsZXQgW2VtYWlsLCBzZXRFbWFpbF0gPSB1c2VTdGF0ZSgnJylcbiAgbGV0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKVxuXG4gIGNvbnN0IG9uU3VibWl0ID0gYXN5bmMgKGU6UmVhY3QuRm9ybUV2ZW50KSA9PntcbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBpZihsb2FkaW5nIHx8ICFlbWFpbCkgcmV0dXJuXG4gICAgc2V0TG9hZGluZyh0cnVlKVxuICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPFdhdGNoQ291cnNlTXNnLCBXYXRjaENvdXJzZVJlc3VsdD4oYC9hcGkvY291cnNlcy8ke3Byb3BzLmlkfS93YXRjaGAsIHt3YXRjaGluZzogIXdhdGNoaW5nLCBlbWFpbDogZW1haWx9KVxuICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBzZXRXYXRjaGluZyh0cnVlKVxuICAgIH1cbiAgfVxuICByZXR1cm4gaChXYXRjaENvdXJzZUJveCwgW1xuICAgIGgoSWNvbiwge3NyYzogd2F0Y2hpbmcgPyAnL2ltZy93YXRjaGluZy5wbmcnIDogJy9pbWcvbm90LXdhdGNoaW5nLnBuZyd9KSxcbiAgICBoKEJveCwge2dhcDogOH0sIFtcbiAgICAgIGgoJ2InLCBbd2F0Y2hpbmcgPyBcIllvdSBnZXQgZW1haWxzIGFib3V0IG5ldyBjb2hvcnRzIVwiIDogXCJFbWFpbCBtZSB3aGVuIG5ldyBjb2hvcnRzIGFyZSBzY2hlZHVsZWRcIl0pLFxuICAgICAgd2F0Y2hpbmcgPyBudWxsIDogaChGb3JtQm94LCB7Z2FwOjgsIG9uU3VibWl0fSwgW1xuICAgICAgICBoKElucHV0LCB7dmFsdWU6ZW1haWwsIHR5cGU6ICdlbWFpbCcsIHBsYWNlaG9sZGVyOiAneW91ciBlbWFpbCcsIG9uQ2hhbmdlOihlKT0+c2V0RW1haWwoZS5jdXJyZW50VGFyZ2V0LnZhbHVlKX0pLFxuICAgICAgICBoKExpbmtCdXR0b24sIHt0eXBlOiAnc3VibWl0Jywgc3R5bGU6e2p1c3RpZnlTZWxmOidyaWdodCd9fSwgbG9hZGluZyA/IGgoTG9hZGVyKSA6IFwic3Vic2NyaWJlXCIgKVxuICAgICAgXSlcbiAgICBdKVxuICBdKVxufVxuXG5jb25zdCBJY29uID0gc3R5bGVkKCdpbWcnKWBcbmltYWdlLXJlbmRlcmluZzogcGl4ZWxhdGVkO1xuaW1hZ2UtcmVuZGVyaW5nOiAtbW96LWNyaXNwLWVkZ2VzO1xuaW1hZ2UtcmVuZGVyaW5nOiBjcmlzcC1lZGdlcztcbmBcblxuY29uc3QgV2F0Y2hDb3Vyc2VCb3ggPSBzdHlsZWQoJ2RpdicpYFxubWF4LXdpZHRoOiAzMDBweDtcbmRpc3BsYXk6IGdyaWQ7XG5ncmlkLWdhcDogMTZweDtcbmdyaWQtdGVtcGxhdGUtY29sdW1uczogbWluLWNvbnRlbnQgYXV0bztcbmBcbiJdfQ== */\",\n  toString: _EMOTION_STRINGIFIED_CSS_ERROR__\n});","map":{"version":3,"sources":["/Users/ayooluwaalfonso/code/krakeneduapp/components/Course/WatchCourse.ts"],"names":["h","Fragment","useState","useUserData","useUserCourses","callApi","Loader","Box","FormBox","Bell","Input","LinkButton","Primary","useDebouncedEffect","Modal","AccentImg","WatchCourse","props","data","userCourses","mutate","user","watching","watching_courses","find","c","course","id","loading","setLoading","EmailWatching","WatchCourseBox","Icon","src","onClick","e","preventDefault","res","status","filter","x","email","WatchCourseInline","open","setOpen","display","onExit","EmailWatchingModal","WatchCourseInlineButton","blue","setWatching","setEmail","onSubmit","gap","style","textAlign","alt","margin","value","type","placeholder","onChange","currentTarget","disabled","justifySelf"],"mappings":"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","sourcesContent":["import styled from '@emotion/styled'\nimport h from 'react-hyperscript'\nimport { Fragment, useState } from 'react'\n\nimport { useUserData, useUserCourses } from 'src/data'\nimport { WatchCourseMsg, WatchCourseResult } from 'pages/api/courses/[id]/watch'\nimport { callApi } from 'src/apiHelpers'\nimport Loader  from 'components/Loader'\nimport { Box, FormBox } from 'components/Layout'\nimport {Bell} from 'components/Icons'\nimport { Input } from 'components/Form'\nimport { LinkButton, Primary } from 'components/Button'\nimport { useDebouncedEffect } from 'src/hooks'\nimport { Modal } from 'components/Modal'\nimport { AccentImg } from 'components/Images'\n\nexport function WatchCourse(props:{id: number}) {\n  let {data: userCourses, mutate} = useUserCourses()\n  let {data: user} = useUserData()\n  let watching = userCourses?.watching_courses.find(c=> c.course === props.id)\n  let [loading, setLoading] = useState(false)\n\n  // Should probably throttle toggles to this at some point!\n  if(user===false) return h(EmailWatching, props)\n  return h(WatchCourseBox, [\n    h(Icon, {src: watching ? '/img/watching.png' : '/img/not-watching.png'}),\n    h(\"div\", [\n      h('p', [watching ? \"You get emails about new cohorts!\" : \"Want emails on new cohorts?\"]),\n      h(LinkButton, {onClick:async (e: React.MouseEvent)=>{\n        e.preventDefault()\n        if(loading || !user || !userCourses) return\n        setLoading(true)\n        let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching})\n        setLoading(false)\n        if(res.status === 200) {\n          if(watching) mutate({...userCourses, watching_courses: userCourses.watching_courses.filter(x=>x.course !== props.id)})\n          else mutate({...userCourses, watching_courses: [...userCourses.watching_courses, {course: props.id, email: user.email}]})\n        }\n      }}, loading ? h(Loader) : watching? \"Unsubscribe?\" : \"Subscribe!\" )\n    ])\n  ])\n}\n\n// This component appears at the bottom of course and club listings. \nexport function WatchCourseInline(props:{id:number}) {\n  let {data: userCourses, mutate} = useUserCourses()\n  let {data: user} = useUserData()\n  let [open, setOpen] = useState(false)\n  let watching = userCourses?.watching_courses.find(c=> c.course === props.id)\n\n  useDebouncedEffect(async ()=>{\n    await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !!watching})\n  }, 500, [watching])\n\n  const onClick = async (e:React.MouseEvent)=>{\n    e.preventDefault()\n    if(!user || !userCourses) return setOpen(true)\n    if(watching) mutate({...userCourses, watching_courses: userCourses.watching_courses.filter(x=>x.course !== props.id)}, false)\n    else mutate({...userCourses, watching_courses: [...userCourses.watching_courses, {course: props.id, email: user.email}]}, false)\n  }\n\n  // Should probably throttle toggles to this at some point!\n  return h(Fragment, [\n    h(Modal, {display: open, onExit:()=>setOpen(false)}, [\n      h(EmailWatchingModal, props)\n    ]),\n    h(WatchCourseInlineButton, {onClick}, [\n      h(Bell, {blue: !!watching}),\n      h('small.textSecondary', [watching ? \"You get updates about this course!\" : h('span', [h('u', \"Get updates\",), \" on new cohorts\"])])\n    ])\n  ])\n}\n\nconst WatchCourseInlineButton = styled('button')`\nborder: none;\nbackground-color: inherit;\nfont-family: inherit;\nfont-size: inherit;\ndisplay: grid;\ngrid-gap: 8px;\npadding: 0;\ngrid-template-columns: min-content auto;\n&:hover {\n  cursor: pointer;\n  small {\n    color: blue;\n  }\n  path, svg {\n    fill: blue;\n  }\n}\n&:focus {\n  outline: none;\n}\n\ntext-align: left;\n`\n\n// Inline Watch Button pops this modal to collect emails for users who are not logged in \nlet EmailWatchingModal = (props: {id:number}) => {\n  let [watching, setWatching] = useState(false)\n  let [email, setEmail] = useState('')\n  let [loading, setLoading] = useState(false)\n\n  const onSubmit = async (e:React.FormEvent) =>{\n    e.preventDefault()\n    if(loading || !email) return\n    setLoading(true)\n    let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching, email: email})\n    setLoading(false)\n    if(res.status === 200) {\n      setWatching(true)\n    }\n  }\n\n  return  h(Box, {gap: 16}, [\n    h('div', {style:{textAlign:'center'}}, [watching \n      ? h(Box, [h(AccentImg, {src: '/img/success.gif', alt: \"A little dragon who is happy for you!\", style:{margin:'auto auto'}}),\n        h('b', \"Thanks! We'll email you as soon as there's a new cohort!\"), \n      ])\n      : h('b', \"Leave your email for updates on new cohorts of this course\"),\n    ]),\n    watching ? null : h(FormBox, {onSubmit}, [\n      h(Input, {value:email, type: 'email', placeholder: 'your email', onChange:(e)=>setEmail(e.currentTarget.value)}),\n      h(Primary, {type: 'submit', disabled: !email, style:{justifySelf:'center'}}, loading ? h(Loader) : \"Subscribe\" )\n    ])\n  ])\n\n}\n// END Inline Watch Button Modal\n\n// END Inline Watch Button\n\nlet EmailWatching = (props:{id: number})=>{\n  let [watching, setWatching] = useState(false)\n  let [email, setEmail] = useState('')\n  let [loading, setLoading] = useState(false)\n\n  const onSubmit = async (e:React.FormEvent) =>{\n    e.preventDefault()\n    if(loading || !email) return\n    setLoading(true)\n    let res = await callApi<WatchCourseMsg, WatchCourseResult>(`/api/courses/${props.id}/watch`, {watching: !watching, email: email})\n    setLoading(false)\n    if(res.status === 200) {\n      setWatching(true)\n    }\n  }\n  return h(WatchCourseBox, [\n    h(Icon, {src: watching ? '/img/watching.png' : '/img/not-watching.png'}),\n    h(Box, {gap: 8}, [\n      h('b', [watching ? \"You get emails about new cohorts!\" : \"Email me when new cohorts are scheduled\"]),\n      watching ? null : h(FormBox, {gap:8, onSubmit}, [\n        h(Input, {value:email, type: 'email', placeholder: 'your email', onChange:(e)=>setEmail(e.currentTarget.value)}),\n        h(LinkButton, {type: 'submit', style:{justifySelf:'right'}}, loading ? h(Loader) : \"subscribe\" )\n      ])\n    ])\n  ])\n}\n\nconst Icon = styled('img')`\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\n`\n\nconst WatchCourseBox = styled('div')`\nmax-width: 300px;\ndisplay: grid;\ngrid-gap: 16px;\ngrid-template-columns: min-content auto;\n`\n"]},"metadata":{},"sourceType":"module"}