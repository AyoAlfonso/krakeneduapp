(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[15],{"6d7b":function(e,t,n){"use strict";var o=n("vJKn"),r=n.n(o),i=n("rg98"),a=n("wTIg"),c=n("j+1P"),s=n.n(c),u=n("9Hbq"),l=n("mirl"),d=n("q1tI"),p=n("GRjo"),h=n("0CBl"),f=n("BTHN");t.a=function(e){var t,n,o,a,c,b,m=Object(p.c)().data,v=(null===(t=e.course)||void 0===t?void 0:t.cost)||0,y=null===m||void 0===m?void 0:m.find((function(t){var n;return t.course==(null===(n=e.course)||void 0===n?void 0:n.id)}));return Object(d.useEffect)((function(){Object(i.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&m){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(h.a)("/api/discounts/"+y.code);case 4:(200!==(t=e.sent).status||t.result.deleted||0!==t.result.max_redeems&&t.result.max_redeems<=t.result.redeems)&&Object(p.b)(m.filter((function(e){return e.code!==(null===y||void 0===y?void 0:y.code)})));case 6:case"end":return e.stop()}}),e)})))()}),[y,m]),y&&("absolute"===y.type?v-=y.amount:v-=Math.floor(y.amount/100*v)),s()(u.b,{gap:16},[s()(u.b,{gap:8},[y?s()(g,{green:!0},"$"+v):null,s()(g,{discounted:!!y},"$"+(null===(n=e.course)||void 0===n?void 0:n.cost))]),s()(u.b,{gap:8,style:{color:l.d.textSecondary}},[s()("b",null===(o=e.course)||void 0===o?void 0:o.duration),0===(null===(a=e.course)||void 0===a?void 0:a.cohort_max_size)?null:s()("b","Up to ".concat(null===(c=e.course)||void 0===c?void 0:c.cohort_max_size," learners")),s()(u.b,{gap:4},[s()("b","Prerequisites"),s()(f.a,{source:null===(b=e.course)||void 0===b?void 0:b.prerequisites,disallowedTypes:["heading"]})])]),e.children])};var g=Object(a.a)("span",{target:"egkpgdv0"})("width:min-content;line-height:56px;font-size:56px;font-weight:bold;",(function(e){return e.green?"color: ".concat(l.d.accentSuccess,";"):""})," ",(function(e){return e.discounted?"\nfont-size: 32px;\nline-height: 32px;\nbackground: linear-gradient(20deg, transparent 45.75%, currentColor 47.5%, currentColor 52.5%, transparent 53.25%);\n":""}),"")},"9GwF":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var o=n("j+1P"),r=n.n(o),i=n("Sl1R"),a=n("q1tI"),c=n("rk+T"),s=i.Array(i.Boolean);function u(e){var t=e.items.filter((function(e){return!!e})),n=Object(a.useState)(new Array(t.length).fill(!1)),o=n[0],i=n[1];return Object(a.useEffect)((function(){if(e.persistKey){var t=localStorage.getItem(e.persistKey);try{var n=s.check(JSON.parse(t||""));i(n)}catch(o){}}}),[]),Object(a.useEffect)((function(){e.persistKey&&localStorage.setItem(e.persistKey,JSON.stringify(o))}),[o]),r()(a.Fragment,t.map((function(e,t){return r()(c.a,[r()(c.d,{type:"checkbox",checked:o[t],onChange:function(e){var n=o.slice(0);n[t]=e.currentTarget.checked,i(n)}}),e])})))}},he5r:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var o="https://forum.krakenedu.com"},ptY8:function(e,t,n){"use strict";n.r(t),n.d(t,"__N_SSG",(function(){return W})),n.d(t,"Cohort",(function(){return $}));var o=n("vJKn"),r=n.n(o),i=n("rg98"),a=n("xvhg"),c=n("cpVT"),s=n("z7pX"),u=n("wTIg"),l=n("j+1P"),d=n.n(l),p=n("q1tI"),h=n("YFqc"),f=n.n(h),g=n("9Hbq"),b=n("lnWS"),m=n("mirl"),v=n("kacE"),y=n("rk+T"),_=n("+ErQ"),O=n("6d7b"),j=n("BTHN"),k=n("+6Um"),w=n("fdqv"),x=function(e){var t=new Date(e.start_date)<new Date;return d()(f.a,{href:"/courses/[slug]/[id]/cohorts/[cohortId]",as:"/courses/".concat(e.courses.slug,"/").concat(e.course,"/cohorts/").concat(e.id),passHref:!0},[d()(k.a,{style:{border:"1px solid",borderTop:"4px solid",borderRadius:"2px"}},[d()(g.b,{gap:8},[d()(g.b,{h:!0},[d()("h3",Object(w.a)(e.name)),e.enrolled||e.facilitating?d()(g.b,{gap:8,h:!0,style:{alignSelf:"center"}},[e.facilitating?d()(_.a,{borderOnly:!0},"facilitator"):null,e.enrolled?d()(_.a,"enrolled"):null,e.live?null:d()(_.a,{red:!0,borderOnly:!0},"draft")]):null]),d()("div",[d()("h4","".concat(t?"Started":"Starts"," ").concat(Object(w.f)(e.start_date))),d()("p",{style:{color:m.d.textSecondary}},"Facilitated by ".concat(e.facilitators.join(", ")))])])])])},S=n("Zp4/"),C=n("wyA/"),I=n("Hzj1"),T=n("AX+V"),D=n("he5r"),z=n("5++N"),P=n("0CBl"),q=n("Lq9q"),R=n("+Xui"),E=n("g4pe"),F=n.n(E),Y=n("20a2"),A=n("R1ly"),B=n("9GwF");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L="Curriculum",H="All Cohorts",J="Your Current Cohorts",M="You can edit details, create new cohorts, and more.",G=function(e){return d()(y.c,["\ud83d\udca1 You can make changes to the curriculum by editing ",d()("a",{href:"".concat(D.a,"/session/sso?return_path=/t/").concat(e.id)},"this topic")," in the forum"])},W=!0,U=(t.default=function(e){return e.notFound?d()(R.default):d()(U,e)},function(e){var t,n=Object(z.i)().data,o=Object(z.g)().data,r=Object(z.b)(e.id,e.course||void 0).data;if(!r)return d()(v.a);var i=r.course_cohorts.filter((function(e){return!!n&&(null===e.completed&&(!!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))||e.people_in_cohorts.find((function(e){return e.people.id===(n?n.id:void 0)}))))})).sort(w.g),a=i.filter((function(e){return!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))})).length>0,u=r.course_cohorts.filter((function(e){return new Date(e.start_date)>new Date&&e.live})).sort(w.g),l=!(null===r||void 0===r||!r.course_maintainers.find((function(e){return n&&e.maintainer===n.id}))),p=!(null===o||void 0===o||!o.invited_courses.find((function(t){return t.id===e.course.id})));return d()("div",[d()(F.a,{children:[d()("meta",{property:"og:title",content:r.name,key:"og:title"}),d()("meta",{property:"og:description",content:r.description,key:"og:description"}),d()("meta",{property:"og:image",content:r.card_image.split(",")[0],key:"og:image"}),d()("meta",{property:"twitter:card",content:"summary",key:"twitter:card"})]}),d()(Z,{draft:"draft"===r.status,id:e.id,isMaintainer:l,slug:r.slug}),d()(g.h,[d()(g.b,{gap:32},[d()(g.b,{gap:16},[d()("h1",null===r||void 0===r?void 0:r.name)]),d()("p.big",(null===r||void 0===r?void 0:r.description)||""),u.length>0&&0===i.length?d()(g.b,{padding:32,style:{backgroundColor:m.d.accentPeach}},Object(s.a)(u.flatMap((function(e){return[d()($,{cohort:e,enrolled:!1,facilitating:!1,invited:p,slug:(null===r||void 0===r?void 0:r.slug)||"",cohort_max_size:(null===r||void 0===r?void 0:r.cohort_max_size)||0}),d()(g.f)]})).slice(0,-1))):0===i.length?null:d()(g.b,{padding:32,style:{backgroundColor:m.d.grey95}},[d()("h3",J)].concat(Object(s.a)(i.map((function(e){return d()(x,K(K({},e),{},{facilitators:e.cohort_facilitators.map((function(e){return e.people.display_name||e.people.username})),courses:{name:(null===r||void 0===r?void 0:r.name)||"",slug:(null===r||void 0===r?void 0:r.slug)||""},facilitating:!!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id})),enrolled:!e.cohort_facilitators.find((function(e){return n&&e.facilitator===n.id}))}))})))))]),d()(b.b,{tabs:(t={},Object(c.a)(t,L,d()(g.b,[l?d()(G,{id:e.content.id}):null,d()(j.a,{source:e.content.text})])),Object(c.a)(t,H,d()(V,{cohorts:r.course_cohorts,slug:r.slug,user:n?n.id:"",invited:p,cohort_max_size:(null===r||void 0===r?void 0:r.cohort_max_size)||0})),Object(c.a)(t,"Facilitators",d()(g.b,{gap:32},r.course_maintainers.map((function(e){return d()(g.b,{},[d()("h3",e.people.display_name||e.people.username),e.people.link?d()("a",{href:e.people.link},d()("b",e.people.link)):null,e.people.bio?d()(g.b,{width:640},d()(j.a,{source:e.people.bio})):null])})))),t)}),d()(g.g,[d()(b.a,[d()(O.a,{course:r},[d()(g.b,[d()(X,{courseId:r.id,courseSlug:r.slug,draft:"draft"===r.status,maintainer:l,inviteOnly:r.invite_only,invited:p,loggedIn:!!n,enrolled:a,upcoming:0!==u.length}),d()(g.f),l?d()(g.b,[d()(g.b,{gap:8},[d()("h3","You maintain this ".concat(r.type)),d()("p.textSecondary",M)]),d()(f.a,{href:"/courses/[slug]/[id]/settings",as:"/courses/".concat(r.slug,"/").concat(r.id,"/settings")},d()(I.b,"Settings"))]):d()(T.a,{id:r.id})])])])])])])});function X(e){return e.draft?e.maintainer?d()("span.accentRed","Learners can't enroll in this course until you publish it!"):d()("span.accentRed","This course is still a draft. You can enroll once the creator publishes it!"):e.enrolled?e.upcoming?d()("span.accentSuccess","You're enrolled in an upcoming cohort. Feel free to enroll in another one though!"):d()("span.accentSuccess","You're enrolled in an upcoming cohort"):e.upcoming?e.inviteOnly?e.maintainer?d()("span.accentRed",["Learners need to be invited to enroll. Invite someone ",d()(f.a,{href:"/courses/".concat(e.courseSlug,"/").concat(e.courseId,"/settings")},d()("a","here")),"."]):e.invited?d()("span.accentSuccess","You're invited!"):e.loggedIn?d()("div",{},d()("span.accentRed","This course is invite only. Reach out to the facilitators if you're interested!")):d()("div",{},d()("span.accentRed","This course is invite only. If you've been invited, please log in.")):null:e.maintainer?d()("span.accentRed",["Looks like there aren't any cohorts planned. Create one ",d()(f.a,{href:"/courses/[slug]/[id]/settings",as:"/courses/".concat(e.courseSlug,"/").concat(e.courseId,"/settings")},d()("a","here")),"."]):d()("span.accentRed","Looks like there aren't any cohorts planned :(")}var V=function(e){var t=e.cohorts.filter((function(t){return!!t.live||!!t.cohort_facilitators.find((function(t){return t.facilitator===e.user}))})).sort(w.g).reduce((function(t,n){var o=!!n.people_in_cohorts.find((function(t){return t.people.id===e.user})),r=!!n.cohort_facilitators.find((function(t){return t.facilitator===e.user}));return t[new Date(n.start_date)<new Date?0:1].push(d()($,{cohort:n,enrolled:o,facilitating:r,slug:e.slug,cohort_max_size:e.cohort_max_size,invited:e.invited})),t}),[[],[]]),n=Object(a.a)(t,2),o=n[0],r=n[1];return d()(g.b,{gap:32},[0===r.length?null:d()("h2","Upcoming Cohorts")].concat(Object(s.a)(r),[0===r.length||0===o.length?null:d()(g.f),0===o.length?null:d()("h2","Ongoing and Past Cohorts")],Object(s.a)(o)))},$=function(e){var t=e.cohort.id,n=Object(Y.useRouter)(),o=new Date(e.cohort.start_date)<new Date;return d()(g.b,{h:!0,style:{gridAutoColumns:"auto"}},[d()(g.b,{gap:4},[e.enrolled||e.facilitating?d()("div",[e.enrolled?d()(_.a,"enrolled"):null," ",e.facilitating?d()(_.a,{borderOnly:!0},"facilitating"):null," ",e.cohort.live?null:d()(_.a,{borderOnly:!0,red:!0},"draft")]):null,d()("h3",{},d()(f.a,{href:"/courses/[slug]/[id]/cohorts/[cohortId]",as:"/courses/".concat(e.slug,"/").concat(e.cohort.course,"/cohorts/").concat(t)},d()("a",{style:{textDecoration:"none"}},Object(w.a)(e.cohort.name)))),d()(g.b,{style:{color:m.d.textSecondary},gap:4},[d()("strong",Object(q.c)(e.cohort.start_date,e.cohort.completed)),d()("div",["Facilitated by "].concat(Object(s.a)(e.cohort.cohort_facilitators.flatMap((function(e){return[d()(f.a,{href:"/people/".concat(e.people.username)},d()("a",e.people.display_name||e.people.username)),", "]})).slice(0,-1))))]),0===e.cohort_max_size||o?null:e.cohort_max_size>e.cohort.people_in_cohorts.length?d()("span.accentSuccess","".concat(e.cohort_max_size-e.cohort.people_in_cohorts.length," ").concat(e.cohort_max_size-e.cohort.people_in_cohorts.length===1?"spot":"spots"," left!")):d()("span.accentRed","Sorry! This cohort is full.")]),o||e.enrolled||e.facilitating?null:d()(g.b,{gap:8,style:{alignItems:"center",alignContent:"center",justifySelf:"right",textAlign:"right"}},[d()(f.a,{href:"/courses/".concat(n.query.slug,"/").concat(e.cohort.course,"/cohorts/").concat(e.cohort.id)},d()("a",{},d()(I.f,"See schedule")))])])};function Q(e){var t=Object(z.b)(e.id),n=t.data,o=t.mutate,a=Object(p.useState)("normal"),c=a[0],s=a[1],u=function(){var t=Object(i.a)(r.a.mark((function t(i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),n){t.next=3;break}return t.abrupt("return");case 3:return s("loading"),t.next=6,Object(P.a)("/api/courses/".concat(e.id),{status:"live"});case 6:200===t.sent.status&&(s("normal"),o(K(K({},n),{},{status:"live"})));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return"confirm"===c||"loading"===c?d()(C.a,{display:!0,closeText:"nevermind",onExit:function(){return s("normal")}},[d()(g.b,{gap:32},[d()("h2",{style:{textAlign:"center"}},"Are you sure?"),d()(g.b,{gap:16},["Before going live please check that you've done these things",d()(g.b.withComponent("ul",{target:"e1iqf50g1"}),{gap:16},[d()("li",["Edit important details in ",d()("a",{href:"https://app.krakenedu.com/courses/".concat(e.slug,"/").concat(e.id,"/settings?tab=Details")},"course settings"),"."]),d()("li",["Written a ",d()("a",{href:"".concat(D.a,"/session/sso?return_path=/t/").concat(e.id)},"curriculum"),"."])]),d()(I.f,{style:{justifySelf:"center"},onClick:u},"loading"===c?d()(v.b):"Go Live!")])])]):d()(I.f,{onClick:function(){var e=Object(i.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),s("confirm");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"Publish!")}var Z=function(e){return e.draft&&e.isMaintainer?e.isMaintainer?d()(ee,e):d()(S.a,{red:!0},d()(g.b,{gap:16},[d()(g.b,{gap:16},[d()("h3","This course isn't live yet!"),d()("p",["The maintainer is still working on getting this course in shape. Let them know\nif you have any feedback!"])])])):null},ee=function(e){var t=Object(p.useState)(!1),n=t[0],o=t[1];return d()(S.a,{red:!0},[d()(te,[d()(A.a,{height:32,width:36,src:"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Seedling.png"}),d()(g.b,{gap:8},[d()("h4","This course is still a draft"),d()("p","It\u2019s hidden from public view. People can\u2019t see this page until you publish it.")])].concat(Object(s.a)(n?[d()(A.a,{height:32,width:36,src:"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Bud.png"}),d()(g.b,{gap:16},[d()("h4","Before you publish this course make sure that you ...  "),d()(B.a,{persistKey:"course-creation-todo",items:[d()("span",["Edit important details, like description and price, in ",d()("a",{href:"https://app.krakenedu.com/courses/".concat(e.slug,"/").concat(e.id,"/settings?tab=Details")},"course settings"),"."]),d()("span",["Write a comprehensive curriculum for your course, by editing the ",d()("a",{href:"".concat(D.a,"/session/sso?return_path=/t/").concat(e.id)},"Curriculum topic")," in the forum."]),d()("span",["Create or edit ",d()("a",{href:"https://app.krakenedu.com/courses/".concat(e.slug,"/").concat(e.id,"/settings?tab=Templates")},"templates")," for reusable forum topics so you don't need to rewrite them for every cohort you run (or you can add these later)."]),d()("span",["Create your first cohort, in ",d()("a",{href:"https://app.krakenedu.com/courses/".concat(e.slug,"/").concat(e.id,"/settings?tab=Cohorts")},"course settings"),". It will also be a draft that you need to edit before publishing. We'll guide you through it!"])]})]),d()(A.a,{height:32,width:36,src:"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Flower.png"}),d()(g.b,{gap:16},[d()("h4","Once you're ready, you can publish it here!"),d()(Q,e)])]:[]))),d()(I.e,{style:{justifySelf:"right",textDecoration:"none"},onClick:function(){return o(!n)}},n?"hide checklist":"show checklist")])},te=Object(u.a)("div",{target:"e1iqf50g0"})({name:"12gnjoo",styles:"display:grid;grid-template-columns:min-content auto;grid-column-gap:16px;grid-row-gap:32px;"})}}]);
//# sourceMappingURL=435e89fe4f1e2c992e828e345bd02f15d171fea0.ee554a9cbb0fd02a7a0b.js.map