{"version":3,"sources":["webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?06c4","webpack://_N_E/./pages/events/.ts","webpack://_N_E/./node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://_N_E/./node_modules/next/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://_N_E/./pages/events/create.ts","webpack://_N_E/./components/EditorWithPreview.ts"],"names":["window","__NEXT_P","push","EventPage","props","notFound","h","ErrorPage","EditableEvent","user","useUserData","data","useEventData","id","event","mutate","useState","editting","setEditting","start_date","Date","end_date","name","cost","standalone_events","max_attendees","description","getFullYear","getMonth","slice","getDate","start_time","toLocaleTimeString","hour","minute","hour12","end_time","location","edittedEvent","setEdittedEvent","useEffect","useApi","status","callUpdateEvent","undefined","PageLoader","onSubmit","e","a","preventDefault","dateFromDateAndTimeInputs","toISOString","type","res","result","events","cohort_events","FormBox","EventForm","onChange","state","style","backgroundColor","colors","appBackground","position","bottom","padding","margin","width","Box","justifyContent","Destructive","onClick","Primary","people","Banner","Head","children","key","property","content","Event","facilitating","rsvpd","people_in_events","find","p","person","emails","map","email","concat","no_account_rsvps","TwoColumn","gap","Text","source","Seperator","display_name","username","bio","length","href","join","Link","as","className","pronouns","Sidebar","StickyWrapper","Details","attendees","TwoColumnBanner","red","alignSelf","Secondary","prettyDate","start","end","timeZoneName","toLocaleDateString","weekday","JoinButton","callRSVP","router","useRouter","formState","setFormState","form","formHelper","encodeURIComponent","asPath","enrolled","getStripe","stripe","redirectToCheckout","sessionId","value","no_accounts_rsvps","Input","placeholder","justifySelf","textAlign","_objectWithoutProperties","excluded","i","target","sourceKeys","Object","keys","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","f","timezone","split","LabelBox","EditorWithPreview","height","gridAutoColumns","required","min","CreateEvent","formData","setFormData","callCreateEvent","mobile","useMediaQuery","mode","setMode","LinkButton","Preview","Editor","EditorPreviewContainer","grey55","accentPeach"],"mappings":"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","file":"static/chunks/pages/events/[id]-6b82948ef629d3310f62.js","sourcesContent":["\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/events/[id]\",\n        function () {\n          return require(\"private-next-pages/events/[id].ts\");\n        }\n      ]);\n    ","import h from 'react-hyperscript'\nimport { eventDataQuery, UpdateEventMsg, UpdateEventResult } from \"pages/api/events/[id]\"\nimport ErrorPage from 'pages/404'\nimport { InferGetStaticPropsType } from \"next\"\nimport { dateFromDateAndTimeInputs, getStripe, prettyDate, formHelper } from 'src/utils'\nimport { Box, FormBox, Seperator, Sidebar, TwoColumn } from 'components/Layout'\nimport {colors} from 'components/Tokens'\nimport Text from 'components/Text'\nimport { Primary, Secondary, Destructive } from 'components/Button'\nimport { useEventData, useUserData } from 'src/data'\nimport { PageLoader } from 'components/Loader'\nimport { useEffect, useState } from 'react'\nimport { EventForm } from 'pages/events/create'\nimport { Input } from 'components/Form'\nimport { useApi } from 'src/apiHelpers'\nimport { EventRSVPResult, EventRSVPMessage } from 'pages/api/events/[id]/rsvp'\nimport { useRouter } from 'next/router'\nimport { StickyWrapper } from 'components/Tabs'\nimport Link from 'next/link'\nimport { TwoColumnBanner } from 'components/Banner'\nimport Head from 'next/head'\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nconst EventPage = (props: Props)=> props.notFound ? h(ErrorPage) : h(EditableEvent, props)\nexport default EventPage\n\nconst EditableEvent = (props: Extract<Props, {notFound: false}>) => {\n  let {data: user} = useUserData()\n  let {data: event, mutate} = useEventData(props.id)\n  let [editting, setEditting] = useState(false)\n\n  let start_date = new Date(props.start_date)\n  let end_date = new Date(props.end_date)\n\n  let [edittedEvent, setEdittedEvent] =  useState({\n    name: props.name,\n    cost: props.standalone_events?.cost || 0,\n    max_attendees: props.standalone_events?.max_attendees || 0,\n    description: props.description,\n    start_date: `${start_date.getFullYear()}-${('0'+(start_date.getMonth()+1)).slice(-2)}-${('0'+start_date.getDate()).slice(-2)}`,\n    start_time: start_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n    end_time: end_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n    location: props.location,\n  })\n  useEffect(()=>{\n    if(!event) return\n    let start_date = new Date(event.start_date)\n    let end_date = new Date(event.end_date)\n    setEdittedEvent({\n      name: event.name,\n      cost: event.standalone_events?.cost || 0,\n      max_attendees: event.standalone_events?.max_attendees || 0,\n      description: event.description,\n      start_date: `${start_date.getFullYear()}-${('0'+(start_date.getMonth()+1)).slice(-2)}-${('0'+start_date.getDate()).slice(-2)}`,\n      start_time: start_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n      end_time: end_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n      location: event.location,\n  })\n  }, [event])\n  let [status, callUpdateEvent] = useApi<UpdateEventMsg, UpdateEventResult>([])\n\n  if(props === undefined|| !event) return h(PageLoader)\n  if(!props.standalone_events) return h(ErrorPage)\n\n  const onSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    let start_date = dateFromDateAndTimeInputs(edittedEvent.start_date, edittedEvent.start_time).toISOString()\n    let end_date =dateFromDateAndTimeInputs(edittedEvent.start_date, edittedEvent.end_time).toISOString()\n\n    let res = await callUpdateEvent('/api/events/'+props.id, {data:{...edittedEvent, start_date, end_date}, type: 'standalone', })\n    if(res.status===200 && res.result.type === 'standalone') {\n      let {events, ...standalone_events} = res.result.data\n      mutate({\n        ...events,\n        standalone_events,\n        cohort_events: [],\n      })\n      setEditting(false)\n    }\n  }\n\n  if(editting) return h(FormBox, {onSubmit}, [\n    h('h1', \"Edit Event\"),\n    h(EventForm, {onChange: setEdittedEvent, state:edittedEvent}),\n    h('div', {style:{\n      backgroundColor: colors.appBackground,\n      position: 'sticky',\n      bottom: '0',\n      padding: '16px 0',\n      margin: '-16px 0',\n      width: '100%'\n    }},[\n      h(Box, {h:true, style:{justifyContent: 'right'}}, [\n        h(Destructive, {onClick: ()=>setEditting(false)}, \"Cancel\"),\n        h(Primary, {type: 'submit' ,status}, \"Submit\")\n      ])\n    ])\n  ])\n  return h(\"div\", [\n    user && props.people.id === user.id\n      ? h(Banner, { start_date: props.start_date, setEditting })\n      : null,\n    h(Head, {\n      children: [\n        h(\"title\", { key: \"title\" }, event.name),\n        h(\"meta\", {\n          property: \"og:title\",\n          content: event.name,\n          key: \"og:title\",\n        }),\n        h(\"meta\", {\n          property: \"og:description\",\n          content: event.description.slice(0, 140) + \"...\",\n          key: \"og:description\",\n        }),\n        h(\"meta\", {\n          property: \"og:image\",\n          content: \"https://app.krakenedu.com/img/favicon.png\",\n          key: \"og:image\",\n        }),\n        h(\"meta\", {\n          property: \"twitter:card\",\n          content: \"summary\",\n          key: \"twitter:card\",\n        }),\n      ],\n    }),\n    h(Event, {\n      notFound: false as false,\n      ...event,\n      facilitating: !!user && props.people.id === user.id,\n      rsvpd: !!event.people_in_events.find((p) => user && p.person === user.id),\n      mutate,\n    }),\n  ]);\n}\n\n\nconst Event = (props: Extract<Props, {notFound: false}> & {facilitating: boolean, rsvpd: boolean, mutate: ReturnType<typeof useEventData>[\"mutate\"]}) => {\n  if(!props.standalone_events) return h(ErrorPage)\n\n  let emails = props.people_in_events\n    .map(p=>p.people.email)\n    .concat(props.no_account_rsvps.map(p=>p.email))\n\n  return h(TwoColumn, [\n    h(Box, {gap:32, width: 640}, [\n      h('h1', props.name),\n    ]),\n    h(Box, {gap:32}, [\n      h(Text, {source: props.description}),\n      h(Seperator),\n      h(Box, {}, [\n        h('h2', `Facilitated by ${props.people.display_name || props.people.username}`),\n        h(Text, {source: props.people.bio || ''}),\n\n        h(Box, {h:true}, [\n          h('h4', [`Attending `, h('span.textSecondary', props.standalone_events.max_attendees !== 0 ?\n            `(${props.people_in_events.length + props.no_account_rsvps.length}/${props.standalone_events.max_attendees})` :\n            `(${props.people_in_events.length + props.no_account_rsvps.length})`)]),\n          !props.facilitating ? null : h('a', {\n            href:`mailto:?bcc=${emails.join(',')}`\n          }, 'email everyone')\n        ]),\n        ...props.people_in_events.map(person=>h(Box, {h:true, gap:4}, [\n          h(Link, {\n            href: '/people/[id]',\n            as: `/people/${person.people.username}`\n          }, [\n            h('a', {className: 'notBlue'}, person.people.display_name || person.people.username),\n          ]),\n          person.people.pronouns ? h('span.textSecondary', {}, ` (${person.people.pronouns})`) : null\n        ])),\n        ...props.no_account_rsvps.map(person=>h(Box, {h:true, gap:4}, [\n          person.name\n        ]))\n      ]),\n    ]),\n\n    h(Sidebar, [\n      h(StickyWrapper, [\n        h(Box, [\n          h(Details, {\n            ...props.standalone_events,\n            attendees: props.people_in_events.length + props.no_account_rsvps.length,\n            facilitating: props.facilitating,\n            id: props.id,\n            start_date: props.start_date,\n            end_date: props.end_date,\n            mutate: props.mutate,\n            rsvpd: props.rsvpd,\n            location: props.location\n          }),\n        ])\n      ])\n    ])\n  ])\n}\n\nconst Banner = (props:{start_date: string, setEditting: (b:boolean)=>void})=>{\n  let start_date = new Date(props.start_date)\n  if(start_date > new Date()) return h(TwoColumnBanner, {red: true}, [\n    h('span', {style:{alignSelf: 'center'}}, \"You're facilitating this event\"),\n    h(Secondary, {onClick: ()=>props.setEditting(true)}, \"Edit Event\")\n  ])\n\n  return h(TwoColumnBanner, {red: true}, [\n    h('span', {style:{alignSelf: 'center'}}, `Congrats! You hosted this event on ${prettyDate(props.start_date)}. You can edit the description to add any artifacts.`),\n    h(Secondary, {onClick: ()=>props.setEditting(true)}, \"Edit Event\")\n  ])\n}\n\ntype DetailsProps = {\n  start_date: string,\n  end_date: string,\n  attendees: number,\n  cost:number,\n  mutate: ReturnType<typeof useEventData>['mutate'],\n  max_attendees:number|null,\n  id: number,\n  rsvpd: boolean,\n  location: string,\n  facilitating: boolean,\n}\nconst Details = (props:DetailsProps)=>{\n  let start_date = new Date(props.start_date)\n  let end_date = new Date(props.end_date)\n\n  let start = start_date.toLocaleTimeString([], {hour12: true, minute: '2-digit', hour:'numeric'})\n  let end = end_date.toLocaleTimeString([], {hour12: true, minute: '2-digit', hour:'numeric', timeZoneName: \"short\"})\n  return h(Box,{style:{alignSelf: 'center'}}, [\n    h('div', {style:{alignSelf:'center'}}, [\n      h('h1', props.cost !== 0 ? `$${props.cost}` : \"FREE\"),\n      h('h3',  `${start_date.toLocaleDateString([], {weekday: 'short'})} ${prettyDate(props.start_date)}`),\n      h('h4.textSecondary', `@ ${start} - ${end}`),\n    ]),\n    h(JoinButton, props),\n    !(props.rsvpd) && props.max_attendees ? h('b', `${props.attendees}/${props.max_attendees} spots filled`) : null,\n  ])\n}\n\nconst JoinButton = (props:DetailsProps)=>{\n  let [status, callRSVP] = useApi<EventRSVPMessage, EventRSVPResult>([])\n  let {data: user} = useUserData()\n  let router=useRouter()\n\n  let [formState, setFormState] = useState({email: '', name: ''})\n  let form = formHelper(formState, setFormState)\n\n  if(new Date(props.end_date) < new Date()) return h('p.big', \"This event has concluded\")\n  if(props.max_attendees && props.attendees >= props.max_attendees) return h('p.big', \"Sorry, this event is full!\")\n\n  if(props.rsvpd || props.facilitating) return h('a', {href: props.location}, h(Primary, \"Join Event\"))\n\n  if(props.cost === 0 && !user) {\n    if(status === 'success') return h('p.accentSuccess', \"You're RSVP'd! Check your email for an event invite, and any updates\")\n    return h(FormBox, {onSubmit: async (e) => {\n        e.preventDefault()\n        let result = await callRSVP(`/api/events/${props.id}/rsvp`, {\n          email: form.email.value,\n          name: form.name.value\n        })\n        if(result.status === 200) props.mutate((data)=>{\n          if(!data || !user) return data\n          return {\n            ...data,\n            no_accounts_rsvps: [...data.no_account_rsvps, {name: form.name.value, email:''}]\n          }\n        })\n      }}, [\n        h(Input, {placeholder: \"Your email\", type: 'email', ...form.email}),\n        h(Input, {placeholder: \"Your name\", ...form.name}),\n        h(Box, {gap: 4, style:{justifySelf: 'right', textAlign: 'right'}}, [\n        h(Primary, {\n          status,\n          type: 'submit',\n        }, \"RSVP\"),\n          h(Link, {href: `/login?redirect=${encodeURIComponent(router.asPath)}`}, h('a', 'or sign in'))\n        ])\n      ])\n  }\n\n  return h(Primary, {\n      onClick: async ()=> {\n        if(user === false) router.push('/login?redirect=' + encodeURIComponent(router.asPath))\n        else {\n          let result = await callRSVP(`/api/events/${props.id}/rsvp`)\n          if(result.status===200) {\n            if(result.result.enrolled) props.mutate((data)=>{\n              if(!data || !user) return data\n              return {...data, people_in_events:[{person: user.id, event: props.id, people:{username: user.username, display_name: user.display_name || '', pronouns: '', email:''}}]}\n\n            })\n            else  {\n              let stripe = await getStripe()\n              stripe?.redirectToCheckout({sessionId: result.result.sessionId})\n            }\n          }\n        }\n      }, status}, \"RSVP\")\n}\n\nexport const getStaticProps = async (ctx:any)=>{\n  let eventID = parseInt(ctx.params?.id as string)\n  if(Number.isNaN(eventID)) return {props:{notFound:true}} as const\n  let data = await eventDataQuery(eventID)\n\n  if(!data || data.standalone_events===null) return {props: {notFound: true}} as const\n\n  return {props: {notFound: false, ...data}, revalidate:1} as const\n}\n\nexport const getStaticPaths = async ()=>{\n  return {paths:[], fallback: true}\n}\n","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import h from 'react-hyperscript'\nimport { useRouter } from 'next/router'\nimport { useState } from 'react'\n\nimport { Input } from 'components/Form'\nimport { Primary } from 'components/Button'\nimport { LabelBox, FormBox, Box, Seperator } from 'components/Layout'\n\nimport { useApi } from 'src/apiHelpers'\nimport { useUserData } from 'src/data'\nimport { CreateEventMsg, CreateEventResponse } from 'pages/api/events'\nimport { dateFromDateAndTimeInputs, formHelper } from 'src/utils'\nimport EditorWithPreview from 'components/EditorWithPreview'\n\ntype EventInput = {\n  name: string,\n  cost: number,\n  max_attendees: number,\n  description: string,\n  start_date: string,\n  start_time: string,\n  end_time: string,\n  location: string\n}\n\nconst CreateEvent = ()=> {\n  let {data: user} = useUserData()\n  let router = useRouter()\n  let [formData, setFormData] = useState({\n    name: '',\n    cost: 0,\n    max_attendees: 0,\n    description: '',\n    start_date: '',\n    start_time: '',\n    end_time: '',\n    location: '',\n  })\n  let [status, callCreateEvent] = useApi<CreateEventMsg, CreateEventResponse>([])\n\n  if(user === false) router.push('/')\n\n  const onSubmit = async (e:React.FormEvent) => {\n    e.preventDefault()\n\n    let start_date = dateFromDateAndTimeInputs(formData.start_date, formData.start_time).toISOString()\n    let end_date =dateFromDateAndTimeInputs(formData.start_date, formData.end_time).toISOString()\n\n    let result = await callCreateEvent('/api/events', {...formData, type: 'standalone', start_date, end_date})\n    if(result.status === 200) router.push('/events/'+result.result.event.events.id)\n  }\n\n  return h(FormBox, {onSubmit}, [\n    h('h1', 'Create a New Event'),\n    h(EventForm, {onChange: setFormData, state: formData}),\n    h(Primary, {status, type: 'submit'}, 'Submit'),\n  ])\n}\n\nexport const EventForm = (props: {onChange: (e:EventInput)=>void, state:EventInput})=>{\n  let f = formHelper(props.state, props.onChange)\n  let timezone = new Date().toLocaleDateString('en-us',{timeZoneName:\"short\"}).split(', ')[1]\n  return h(Box, [\n    h(LabelBox, {gap:8, width: 400}, [\n      h('h4', \"Event Name\"),\n      h(Input, {...f.name})\n    ]),\n    h(LabelBox, {gap:8}, [\n      h('h4', \"Description\"),\n      h(EditorWithPreview, {height: 400, ...f.description})\n    ]),\n    h(Seperator),\n    h(Box, {h: true, gap: 32, width: 640, style:{gridAutoColumns: 'auto'}}, [\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Date'),\n        h(Input, {\n          type: 'date',\n          required: true,\n          ...f.start_date,\n        })\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'Start Time ' + `(${timezone})`),\n        h(Input, {\n          type: 'time',\n          required: true,\n          ...f.start_time\n        })\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('h4', 'End Time ' + `(${timezone})`),\n        h(Input, {\n          type: \"time\",\n          required: true,\n          ...f.end_time\n        })\n      ]),\n    ]),\n    h(LabelBox, {gap: 8, width: 400}, [\n      h('div', [\n        h('h4', \"Location\"),\n        h('small.textSecondary', 'Like a Zoom, Jitsi, or Google Meet link'),\n      ]),\n      h(Input, {...f.location,required:true})\n    ]),\n    h(LabelBox, {gap: 8, width: 400, }, [\n      h('div', [\n        h('h4', \"Max participants\"),\n        h('small.textSecondary', \"Set to 0 for no limit\"),\n      ]),\n      h(Input, {type: 'number',  min: 0, ...f.max_attendees})\n    ]),\n    h(LabelBox, {gap:8, width:400},[\n      h('h4',\"Cost\"),\n      h(Input, {type: 'number', min: 0, ...f.cost})\n    ]),\n  ])\n}\n\nexport default CreateEvent\n","import h from 'react-hyperscript'\nimport styled from '@emotion/styled'\nimport Text from './Text'\nimport {colors} from './Tokens'\nimport { useMediaQuery } from 'src/hooks'\nimport { useState } from 'react'\nimport { Box } from './Layout'\nimport { LinkButton } from './Button'\n\nexport default function EditorWithPreview(props:{height?: number, value: string, onChange: (e:React.ChangeEvent<HTMLTextAreaElement>)=>void}) {\n  let mobile = useMediaQuery('(max-width:640px)')\n\n  let [mode, setMode] = useState<'edit'|'preview'>('edit')\n  if(mobile) return h(Box, {gap:4}, [\n    h('div', {style:{justifySelf: 'right'}}, [\n      mode === 'preview'\n        ? h(LinkButton, {onClick: ()=>setMode('edit')}, 'edit')\n        : h(LinkButton, {onClick: ()=>setMode('preview')}, 'preview'),\n    ]),\n    mode === 'preview'\n      ? h(Preview, {}, h(Text, {source: props.value}))\n      : h(Editor, props),\n  ])\n  return h(EditorPreviewContainer, [\n    h(Editor, props),\n    h(Preview, {height:props.height}, h(Text, {source: props.value}))\n  ])\n}\nlet EditorPreviewContainer = styled('div')`\ndisplay: grid;\nmax-width: 1200px;\ngrid-template-columns: 50% 50%;\n`\n\nlet Editor = styled('textarea')<{height?:number}>`\nbox-sizing: border-box;\nheight: ${props=>props.height ? props.height : 512}px;\npadding: 16px;\nfont-family: 'Lato', sans-serif;\nborder-color: ${colors.grey55} !important;\nborder: 1px solid;\nborder-radius: 2px 0 0 2px;\nresize: none;\nfont-size: inherit;\nline-height: inherit;\n`\n\nlet Preview = styled('div')<{height?:number}>`\noverflow: scroll;\nbox-sizing: border-box;\npadding: 16px;\nfont-size: 16px;\nheight: ${props=>props.height ? props.height : 512}px;\nbackground-color:${colors.accentPeach};\nborder-radius: 0 2px 2px 0;\n`\n"],"sourceRoot":""}