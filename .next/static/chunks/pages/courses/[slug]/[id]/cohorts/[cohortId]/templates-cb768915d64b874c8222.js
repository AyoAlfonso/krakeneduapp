_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{XRgW:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/[slug]/[id]/cohorts/[cohortId]/templates",function(){return r("aeH5")}])},aeH5:function(e,t,r){"use strict";r.r(t),r.d(t,"__N_SSG",(function(){return P}));var o=r("cpVT"),n=r("vJKn"),c=r.n(n),a=r("rg98"),i=r("xvhg"),s=r("j+1P"),u=r.n(s),l=r("YFqc"),p=r.n(l),d=r("20a2"),h=r("9Hbq"),f=r("Hzj1"),g=r("q1tI"),b=r("rk+T"),y=r("u5GO"),m=r("kacE"),v=r("0CBl"),w=r("wyA/"),j=r("he5r"),O=r("mB65");function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){Object(o.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P=!0;function _(e){var t=Object(O.b)(e.template),r=t.form,o=t.changed,n=t.reset,s=Object(g.useState)(),l=s[0],m=s[1],x=Object(v.b)([]),P=Object(i.a)(x,2),_=P[0],k=P[1],S=Object(d.useRouter)(),T=function(){var e=Object(a.a)(c.a.mark((function e(t){var o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,k("/api/cohorts/".concat(S.query.cohortId,"/postTopic"),{title:r.title.value,body:r.content.value,tags:[]});case 3:200===(o=e.sent).status&&m(o.result.topic.topic_id);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return u()(g.Fragment,[l&&"success"===_?u()(w.a,{display:!!l,onExit:function(){m(void 0)}},u()(h.b,{gap:32},[u()(h.b,{gap:16,style:{textAlign:"center"}},[u()("h1","Cool!"),u()("p","Your topic has been added")]),u()(h.b,[u()("a",{style:{justifySelf:"center"},href:"".concat(j.a,"/t/").concat(l)},u()(f.f,"View it here")),u()(p.a,{href:"/courses/".concat(S.query.slug,"/").concat(S.query.id,"/cohorts/").concat(S.query.cohortId,"/templates")},u()("a",{style:{justifySelf:"center"}},u()(f.g,"Back to Templates")))])])):null,u()(h.d,{onSubmit:T,gap:32},[u()(h.e,{width:400},[u()("h4","Title"),u()(b.d,q({type:"text",name:"title"},r.title))]),u()(h.e,[u()("h4","Body"),u()(y.a,r.content)]),u()(h.b,{h:!0,style:{justifySelf:"right"}},[u()(f.g,{disabled:!o,onClick:function(){return n()}},"Reset Template"),u()(f.f,{type:"submit",status:_},"Post to the forum")])])])}t.default=function(e){var t,r,o=Object(d.useRouter)(),n=null===(t=e.templates)||void 0===t?void 0:t.find((function(e){return e.name===o.query.template}));return e.templates?n?u()(h.b,{gap:64},[u()(h.b,{gap:16},[u()(f.a,{href:"/courses/".concat(o.query.slug,"/").concat(o.query.id,"/cohorts/").concat(o.query.cohortId,"/templates"),shallow:!0},"Templates"),u()("h1","Post template")]),u()(_,{template:n})]):u()(h.b,{width:640,gap:32},[u()(h.b,{gap:16},[u()(f.a,{href:"/courses/[slug]/[id]/cohorts/[cohortId]",as:"/courses/".concat(o.query.slug,"/").concat(o.query.id,"/cohorts/").concat(o.query.cohortId)},"Cohort Details"),u()("h1","Templates"),u()("p.big",["Use templates to easily post new topics in your cohort forum! You can create new templates in the ",u()(p.a,{href:"/courses/[slug]/[id]/settings",as:"/courses/".concat(o.query.slug,"/").concat(o.query.id,"/settings")},u()("a","course settings")),"."])]),u()(h.b,{},null===(r=e.templates)||void 0===r?void 0:r.filter((function(e){return"triggered"===e.type})).sort((function(e,t){return e.name>t.name?1:-1})).flatMap((function(e){return[u()(h.b,{h:!0,style:{gridAutoColumns:"auto"}},[u()("div",[u()("h3",e.name),u()("span.textSecondary","prepopulated"===e.type?"Prepopulated for all cohorts":"Manually published by facilitator")]),u()(h.b,{h:!0,style:{justifySelf:"end",alignItems:"center"}},[u()(p.a,{href:"/courses/".concat(o.query.slug,"/").concat(o.query.id,"/cohorts/").concat(o.query.cohortId,"/templates")+"?template="+e.name,shallow:!0},u()(f.g,"Use"))])]),u()(h.f)]})).slice(0,-1))]):u()(m.a)}},he5r:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var o="https://forum.krakenedu.com"},u5GO:function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var o=r("wTIg"),n=r("j+1P"),c=r.n(n),a=r("BTHN"),i=r("mirl"),s=r("mB65"),u=r("q1tI"),l=r("9Hbq"),p=r("Hzj1");function d(e){var t=Object(s.c)("(max-width:640px)"),r=Object(u.useState)("edit"),o=r[0],n=r[1];return t?c()(l.b,{gap:4},[c()("div",{style:{justifySelf:"right"}},["preview"===o?c()(p.e,{onClick:function(){return n("edit")}},"edit"):c()(p.e,{onClick:function(){return n("preview")}},"preview")]),"preview"===o?c()(g,{},c()(a.a,{source:e.value})):c()(f,e)]):c()(h,[c()(f,e),c()(g,{height:e.height},c()(a.a,{source:e.value}))])}var h=Object(o.a)("div",{target:"efj9xzw0"})({name:"17v6q2h",styles:"display:grid;max-width:1200px;grid-template-columns:50% 50%;"}),f=Object(o.a)("textarea",{target:"efj9xzw1"})("box-sizing:border-box;height:",(function(e){return e.height?e.height:512}),"px;padding:16px;font-family:'Lato',sans-serif;border-color:",i.d.grey55," !important;border:1px solid;border-radius:2px 0 0 2px;resize:none;font-size:inherit;line-height:inherit;"),g=Object(o.a)("div",{target:"efj9xzw2"})("overflow:scroll;box-sizing:border-box;padding:16px;font-size:16px;height:",(function(e){return e.height?e.height:512}),"px;background-color:",i.d.accentPeach,";border-radius:0 2px 2px 0;")}},[["XRgW",0,2,1,3,4,5,7]]]);
//# sourceMappingURL=templates-cb768915d64b874c8222.js.map