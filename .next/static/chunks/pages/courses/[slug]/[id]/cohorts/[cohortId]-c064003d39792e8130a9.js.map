{"version":3,"sources":["webpack://_N_E/./components/Pill.ts","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?fdeb","webpack://_N_E/./components/Course/Enroll.ts","webpack://_N_E/./components/TodoList.ts","webpack://_N_E/./components/Images.ts","webpack://_N_E/./components/Course/EnrollButton.ts","webpack://_N_E/./src/paystack/use-paystack.ts","webpack://_N_E/./src/paystack/paystack-actions.ts","webpack://_N_E/./components/Course/SubEnrollButton.ts","webpack://_N_E/./src/paystack/compress-data.ts","webpack://_N_E/./components/pages/cohorts/WelcomeModal.ts","webpack://_N_E/./components/pages/cohorts/CreateEvent.ts","webpack://_N_E/./components/pages/cohorts/Events.ts","webpack://_N_E/./pages/courses/[slug]//cohorts/[cohortId]/index.ts","webpack://_N_E/./src/constants.ts"],"names":["Pill","props","red","colors","accentRed","textSecondary","borderOnly","grey55","grey90","window","__NEXT_P","push","Enroll","discounts","useLocalDiscounts","data","price","course","cost","discount","find","d","id","useEffect","a","callApi","code","res","status","result","deleted","max_redeems","redeems","setDiscounts","filter","type","amount","Math","floor","h","Box","gap","Cost","green","discounted","style","color","duration","cohort_max_size","Text","source","prerequisites","disallowedTypes","children","accentSuccess","TodoParser","t","TodoList","items","i","useState","Array","length","fill","checked","setChecked","persistKey","savedValue","localStorage","getItem","localData","check","JSON","parse","e","setItem","stringify","Fragment","map","todo","index","CheckBox","Input","onChange","newValues","slice","currentTarget","AccentImg","height","width","HalfLoopImg","looping","setLooping","imageRef","useRef","current","complete","setTimeout","startLoop","src","src2","alt","ref","onLoad","src1","EnrollButton","user","useUserData","router","useRouter","error","setError","useApi","getStripe","stripe","zeroCost","query","slug","redirectToCheckout","sessionId","callEnroll","onClick","preventDefault","encodeURIComponent","asPath","getDiscounts","paystack","undefined","alignItems","Modal","display","Primary","disabled","invited","max_size","learners","usePaystackPayment","options","publicKey","firstname","lastname","phone","email","reference","metadata","currency","channels","label","plan","quantity","subaccount","transaction_charge","bearer","split","split_code","callback","onClose","paystackArgs","handler","PaystackPop","setup","openIframe","callPaystackPop","key","defaultConfig","process","onSuccess","msg","toast","success","icon","paystackHook","config","Object","assign","Date","getTime","compress","initializePayment","console","log","SubEnrollButton","WelcomeModal","onExit","replace","cohort","courses","shallow","textAlign","Info","prettyDate","start_date","Link","href","Secondary","justifySelf","margin","DISCOURSE_URL","category_id","CreateEvent","open","setOpen","name","start_time","end_time","location","description","everyone","people","event","setEvent","mutate","callCreateEvent","FormBox","onSubmit","d1","x","parseInt","t1","t2","end_date","toISOString","EventForm","state","timezone","toLocaleDateString","timeZoneName","padding","backgroundColor","grey95","LabelBox","required","value","gridAutoColumns","placeholder","Textarea","Select","p","includes","AttendeeList","gridTemplateColumns","maxWidth","AttendeePill","LinkButton","person","Cross","appBackground","CohortEvents","pastEvents","events","showPastEvents","setShowPastEvents","displayedEvents","sort","b","gridGap","SmallLinkButton","showCal","Calendar","TimelineContainer","Event","inCohort","facilitating","newEvent","mutateDelete","splice","first","last","editting","setEditing","expanded","setExpanded","past","useFormData","getFullYear","getMonth","getDate","toLocaleTimeString","hour","minute","hour12","people_in_events","username","setState","callUpdateEvent","deleteStatus","callDeleteEvent","EventContainer","selected","Dot","Destructive","fontWeight","weekday","month","day","toUpperCase","getTimeBetween","alignSelf","EventTitle","created_by","IconButton","Pencil","border","overflow","overflowWrap","display_name","join","size","grey80","CohortPage","WrappedCohortPage","notFound","ErrorPage","userCohorts","useUserCohorts","profile","useProfileData","useCohortData","cohortId","useCourseData","courseId","selectedTab","tab","PageLoader","invited_courses","people_in_cohorts","isFacilitator","cohort_facilitators","f","isStarted","Tabs","Artifacts","artifacts","text","Schedule","cohort_events","c","WhiteContainer","EmptyImg","curriculum","CohortMembers","tabKeys","keys","Head","property","content","card_image","welcome","user_calendar","calendar_id","Banners","enrolled","TwoColumn","gridColumn","imageRendering","cohortName","Sidebar","StickyWrapper","CourseDetails","fontSize","invite_only","VerticalTabs","tabs","route","URL","searchParams","set","completed","pathname","as","MarkCohortComplete","unenrollState","setUnenrollState","UnenrollModal","target","facilitator","className","pronouns","bio","marginRight","DestructiveSmallButton","personID","cohortID","removeMember","callUnenroll","hideCloseButton","justifyItems","MarkCohortLive","closeText","live","Loader","Seperator","forum","TODOBanner","TwoColumnBanner","round","BannerContent","textDecoration"],"mappings":"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","file":"static/chunks/pages/courses/[slug]/[id]/cohorts/[cohortId]-c064003d39792e8130a9.js","sourcesContent":["import styled from '@emotion/styled'\nimport {colors} from './Tokens'\nexport const Pill = styled('span')<{borderOnly?: boolean, red?: boolean}>`\nheight: min-content;\nwidth: fit-content;\nfont-weight: bold;\nfont-family: Roboto Mono;\npadding: 2px 8px;\nfont-size: 0.75rem;\nborder-radius: 4px;\ncolor: ${props => props.red ? colors.accentRed : colors.textSecondary};\n${props=> props.borderOnly\n? `border: 2px solid ${props.red ? colors.accentRed : colors.grey55};`\n: `background-color: ${colors.grey90};`\n}\n`\n","\n      (window.__NEXT_P = window.__NEXT_P || []).push([\n        \"/courses/[slug]/[id]/cohorts/[cohortId]\",\n        function () {\n          return require(\"private-next-pages/courses/[slug]/[id]/cohorts/[cohortId]/index.ts\");\n        }\n      ]);\n    ","import h from 'react-hyperscript'\nimport styled from '@emotion/styled'\n\nimport { Box } from '../Layout'\nimport {colors} from '../Tokens'\nimport { Course } from '../../src/data'\nimport { ReactElement, useEffect } from 'react'\nimport { useLocalDiscounts, setDiscounts } from 'src/clientData'\nimport { callApi } from 'src/apiHelpers'\nimport { GetDiscountResult } from 'pages/api/discounts/[code]'\nimport Text from 'components/Text'\n\ntype Props = {\n  course: Course\n}\n\nconst Enroll:React.FC<Props> = (props) => {\n  let {data: discounts} = useLocalDiscounts()\n  let price = props.course?.cost || 0\n  let discount = discounts?.find(d=>d.course == props.course?.id)\n  useEffect(()=>{\n    (async function(){\n      if(!discount || !discounts) return\n      let res = await callApi<null, GetDiscountResult>('/api/discounts/'+discount.code)\n      if(res.status !== 200 ||\n        res.result.deleted ||\n        (res.result.max_redeems !== 0\n          && res.result.max_redeems <= res.result.redeems)) {\n        setDiscounts(discounts.filter(d=>d.code!==discount?.code))\n      }\n    })()\n  }, [discount, discounts])\n  if(discount) {\n    if(discount.type === 'absolute') price = price - discount.amount\n    else price = price - (Math.floor((discount.amount/100)*price))\n  }\n  //Laying out the Enroll Panel\n  return h(Box, {gap:16}, [\n    h(Box, {gap:8}, [\n      discount ? h(Cost, {green: true}, '$'+price) : null,\n      h(Cost, {discounted: !!discount}, '$' + props.course?.cost),\n    ]),\n    h(Box, {gap: 8, style:{color: colors.textSecondary}}, [\n      h('b', props.course?.duration),\n      props.course?.cohort_max_size === 0 ? null : h('b', `Up to ${props.course?.cohort_max_size} learners`),\n      h(Box, {gap: 4}, [\n        h('b', 'Prerequisites'),\n        h(Text, {source: props.course?.prerequisites, disallowedTypes:[\"heading\" as const]})\n      ]),\n    ]),\n    props.children as ReactElement ,\n  ])\n}\n\nexport default Enroll\n\n\nconst Cost = styled('span')<{discounted?:boolean, green?: boolean}>`\nwidth: min-content;\nline-height: 56px;\nfont-size: 56px;\nfont-weight: bold;\n${props=>props.green? `color: ${colors.accentSuccess};`:''}\n${props=>props.discounted ? `\nfont-size: 32px;\nline-height: 32px;\nbackground: linear-gradient(20deg, transparent 45.75%, currentColor 47.5%, currentColor 52.5%, transparent 53.25%);\n`: ''}\n`\n\n// Add a wrapper around Enroll Panel so apply the sticky feature on screens above 768px\nexport const StickyWrapper = styled('div')`\nposition: sticky;\ntop: 32px;\n`\n","import h from 'react-hyperscript'\nimport * as t from 'runtypes'\nimport {useState, useEffect, Fragment} from 'react'\nimport { CheckBox, Input } from './Form'\n\nlet TodoParser = t.Array(t.Boolean)\n\nexport function TodoList(props: {items: Array< string | React.ReactElement | null>, persistKey?: string}) {\n  let items = props.items.filter(i=>!!i)\n  let [checked, setChecked] = useState (new Array(items.length).fill(false))\n  useEffect(() => {\n    if(!props.persistKey) return\n    let savedValue = localStorage.getItem(props.persistKey)\n    try {\n      let localData = TodoParser.check(JSON.parse(savedValue || ''))\n      setChecked(localData)\n    }\n    catch(e){}\n  },[])\n  useEffect(()=>{\n    if(!props.persistKey) return\n    localStorage.setItem(props.persistKey, JSON.stringify(checked))\n  },[checked])\n\n  return h(Fragment, items.map((todo, index)=>{\n    return h(CheckBox, [\n      h(Input, {\n        type: 'checkbox',\n        checked: checked[index],\n        onChange: e=> {\n          let newValues = checked.slice(0)\n          newValues[index] = e.currentTarget.checked\n          setChecked(newValues)\n        }\n      }),\n      todo\n    ])\n  }))\n}\n","import styled from '@emotion/styled'\nimport { useState, useEffect, useRef } from 'react'\nimport h from 'react-hyperscript'\n\nexport let TitleImg = styled('img')<{height?: number, width: number}>`\nimage-rendering: pixelated;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: 2px solid;\nheight: ${props=> props.height ? props.height +'px' : 'auto'};\nwidth: ${props=> props.width}px;\n`\n\nexport let AccentImg = styled('img')<{height?: number, width?: number}>`\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\ndisplay: block;\nborder: none;\nheight: ${props=> props.height ? props.height +'px' : '100px'};\nwidth: ${props=> props.width ? props.width +'px' : '100px'};\n`\n\nexport function HalfLoopImg(props:\n    {\n        src1:string,\n        src2:string,\n        alt:string,\n        startLoop:number,\n    }) {\n    let [looping, setLooping] = useState(false)\n    let imageRef = useRef<HTMLImageElement>(null)\n    useEffect(()=> {\n      if(imageRef.current?.complete && !looping) {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }\n    }, [])\n  \n    if(!looping) {\n      return h(AccentImg, {ref: imageRef, onLoad: () => {\n        setTimeout(()=>setLooping(true), props.startLoop)\n      }, src: props.src1, alt: props.alt })\n    }\n    return h(AccentImg, {src: props.src2, alt: props.alt })\n  }","import h from 'react-hyperscript'\nimport { useUserData } from \"src/data\"\nimport { useRouter } from \"next/router\"\nimport { useState } from \"react\"\nimport { useApi } from \"src/apiHelpers\"\nimport { EnrollMsg, EnrollResponse } from \"pages/api/cohorts/[cohortId]/enroll\"\nimport { getDiscounts, setDiscounts } from \"src/clientData\"\nimport { Box } from \"components/Layout\"\nimport { Modal } from \"components/Modal\"\nimport { Primary } from \"components/Button\"\nimport { getStripe } from 'src/utils'\n\nexport const EnrollButton:React.FC<{\n  id:number,\n  course: number,\n  max_size: number,\n  learners: number,\n  invited: boolean\n}> = (props) => {\n  let {data: user} = useUserData()\n  let router = useRouter()\n  let [error, setError] = useState(false)\n  let [status, callEnroll] = useApi<EnrollMsg, EnrollResponse>([], async (res)=>{\n    let stripe = await getStripe()\n    if(res.zeroCost) await router.push('/courses/[slug]/[id]/cohorts/[cohortId]', `/courses/${router.query.slug}/${props.course}/cohorts/${props.id}?welcome`)\n    else await stripe?.redirectToCheckout({sessionId: res.sessionId})\n  })\n\n  let onClick= async (e:React.MouseEvent)=> {\n    e.preventDefault()\n    if(user === false) await router.push('/login?redirect=' + encodeURIComponent(router.asPath))\n    if(!props.id) return\n    let discount = getDiscounts().find(d=>d.course === props.course)\n    let res = await callEnroll(`/api/cohorts/${props.id}/enroll`, {discount: discount?.code as string | undefined, paystack: undefined})\n    if(res.status === 403) {\n      setError(true)\n      setDiscounts(getDiscounts().filter(d=>res.status === 403 && d.code !== res.result.discount))\n    }\n  }\n\n  return  h(Box, {gap: 4, style:{alignItems: 'center'}}, [\n    h(Modal, {display: error}, [\n      h('h3', \"Sorry, the discount code you're using is no longer valid\")\n    ]),\n    h(Primary, {onClick, status, disabled: !props.invited || (props.max_size !==0 && props.max_size === props.learners)},\n      props.children as React.ReactElement),\n    props.max_size === 0 ? null : props.max_size > props.learners\n      ? h('span.accentSuccess', `${props.max_size - props.learners} ${props.max_size - props.learners === 1 ? 'spot' : 'spots'} left!`)\n      : h('span.accentRed', `Sorry! This cohort is full.`)\n  ])\n}\n","import {PaystackProps} from './types';\nimport {callPaystackPop} from './paystack-actions';\n\nexport default function usePaystackPayment(\n  options: PaystackProps,\n): (callback?: Function, onClose?: Function) => void {\n  const {\n    publicKey,\n    firstname,\n    lastname,\n    phone,\n    email,\n    amount,\n    reference,\n    metadata = {},\n    currency = 'NGN',\n    channels,\n    label = '',\n    plan = '',\n    quantity = '',\n    subaccount = '',\n    transaction_charge = 0,\n    bearer = 'account',\n    split,\n    split_code,\n  } = options;\n\n  function initializePayment(callback?: Function, onClose?: Function): void {\n      const paystackArgs: Record<string, any> = {\n        callback: callback ? callback : (): any => null,\n        onClose: onClose ? onClose : (): any => null,\n        key: publicKey,\n        ref: reference,\n        email,\n        firstname,\n        lastname,\n        phone,\n        amount,\n        currency,\n        plan,\n        quantity,\n        'data-custom-button': options['data-custom-button'] || '',\n        channels,\n        subaccount,\n        transaction_charge,\n        bearer,\n        label,\n        metadata,\n        split,\n        split_code,\n      };\n      callPaystackPop(paystackArgs);\n  }\n\n  return initializePayment;\n}\n","export const callPaystackPop = (paystackArgs: Record<string, any>): void => {\n  //@ts-ignore\n  const handler = window.PaystackPop && window.PaystackPop.setup(paystackArgs);\n  handler && handler.openIframe();\n};\n","import h from \"react-hyperscript\";\nimport { useUserData } from \"src/data\";\nimport { useRouter } from \"next/router\";\nimport { useState } from \"react\";\nimport { useApi } from \"src/apiHelpers\";\nimport { EnrollMsg, EnrollResponse } from \"pages/api/cohorts/[cohortId]/enroll\";\nimport { getDiscounts, setDiscounts } from \"src/clientData\";\nimport { Box } from \"components/Layout\";\nimport { Modal } from \"components/Modal\";\nimport { Primary } from \"components/Button\";\nimport compress from \"src/paystack/compress-data\"\nimport toast from \"react-hot-toast\";\n// import {PaystackProps} from 'src/paystack/types';\n// import Toast from 'light-toast';\n\nconst errorNotify = (msg: string) =>\n  toast.error(msg, {\n    icon: \"ðŸ˜Ÿ\",\n  });\n\nconst successNotify = (msg: string) =>\n  toast.success(msg, {\n    icon: \"ðŸ‘\",\n  });\n\nconst defaultConfig = {\n  publicKey: process.env.NEXT_PUBLIC_PAYSTACK_KEY,\n};\n\nconst onSuccess = () => {\n  successNotify(\"Your payment was successful!\");\n};\n\nconst onClose = () => {\n  errorNotify(\"Your payment failed, try again?\");\n};\n\nconst paystackHook = (config:{}) => {\n  try {\n    let initializePayment = compress(config, defaultConfig)\n    // @ts-ignore\n    initializePayment(onSuccess, onClose)();\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const SubEnrollButton: React.FC<{\n  id: number;\n  course: number;\n  max_size: number;\n  learners: number;\n  invited: boolean;\n}> = (props) => {\n  let { data: user } = useUserData();\n  let router = useRouter();\n  let [error, setError] = useState(false);\n  let [status, callEnroll] = useApi<EnrollMsg, EnrollResponse>(\n    [],\n    async (res) => {\n    \n      if (res.zeroCost)\n        await router.push(\n          \"/courses/[slug]/[id]/cohorts/[cohortId]\",\n          `/courses/${router.query.slug}/${props.course}/cohorts/${props.id}?welcome`\n        );\n      paystackHook(res);\n    }\n  );\n\n  let onClick = async (e: React.MouseEvent) => {\n    e.preventDefault();\n    if (user === false)\n      await router.push(\"/login?redirect=\" + encodeURIComponent(router.asPath));\n    if (!props.id) return;\n    let discount = getDiscounts().find((d) => d.course === props.course);\n    let res = await callEnroll(`/api/cohorts/${props.id}/enroll`, {\n      discount: discount?.code,\n      paystack: true,\n    });\n\n    if (res.status === 403) {\n      setError(true);\n      setDiscounts(\n        getDiscounts().filter(\n          (d) => res.status === 403 && d.code !== res.result.discount\n        )\n      );\n    }\n  };\n\n  return h(Box, { gap: 4, style: { alignItems: \"center\" } }, [\n    h(Modal, { display: error }, [\n      h(\"h3\", \"Sorry, the discount code you're using is no longer valid\"),\n    ]),\n    h(\n      Primary,\n      {\n        onClick,\n        status,\n        disabled:\n          !props.invited ||\n          (props.max_size !== 0 && props.max_size === props.learners),\n      },\n      props.children as React.ReactElement\n    ),\n  ]);\n};\n","// @ts-nocheck\nimport usePaystackPayment from \"./use-paystack\";\n\nexport default function compress(config, defaultConfig){\n    return usePaystackPayment(Object.assign(config, defaultConfig, { reference: new Date().getTime() })) as const\n}","import h from 'react-hyperscript'\nimport { Cohort } from 'src/data'\nimport { Modal } from 'components/Modal'\nimport { Box } from 'components/Layout'\nimport { Info} from 'components/Form'\nimport { prettyDate } from 'src/utils'\nimport { Primary, Secondary } from 'components/Button'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport { DISCOURSE_URL } from 'src/constants'\n\nexport const WelcomeModal = (props: {display:boolean, cohort:Cohort} ) => {\n  let router = useRouter()\n  return h(\n    Modal,\n    {\n      display: props.display,\n      onExit: () => {\n        router.replace(\n          `/courses/[slug]/[id]/cohorts/[cohortId]`,\n          `/courses/${props.cohort.courses.slug}/${props.cohort.courses.id}/cohorts/${props.cohort.id}`,\n          { shallow: true }\n        );\n      },\n    },\n    h(Box, { gap: 32, width: 640, style: { textAlign: \"center\" } }, [\n      h(\"h2\", \"You're enrolled!\"),\n      h(\n        Info,\n        {},\n        h(Box, [\n          h(\n            \"b\",\n            `This cohort starts on ${prettyDate(props.cohort.start_date)}`\n          ),\n          h(Box, { gap: 8 }, [\n            h(\n              Link,\n              {\n                href: \"/calendar\",\n              },\n              h(\"a\", [\n                h(\n                  Secondary,\n                  { style: { justifySelf: \"center\" } },\n                  \"Add to calendar\"\n                ),\n              ])\n            ),\n            h(\"p\", [\n              h(\"small.textSecondary\", \"If youâ€™ve added to calendar from\"),\n              h(\n                \"small.textSecondary\",\n                \"KrakenEdu before, you donâ€™t need to do this. \"\n              ),\n            ]),\n          ]),\n        ])\n      ),\n      h(Box, [\n        h(\n          \"b\",\n          `Head to the cohort forum to introduce yourself and see what you'll be doing on your first day`\n        ),\n        h(\n          \"a\",\n          {\n            style: { margin: \"auto\" },\n            href: `${DISCOURSE_URL}/session/sso?return_path=/c/${props.cohort.category_id}`,\n          },\n          h(Primary, \"Get started\")\n        ),\n      ]),\n    ])\n  );\n}\n","import h from 'react-hyperscript'\nimport { Secondary, Primary, LinkButton } from 'components/Button'\nimport { FormBox, LabelBox, Box } from 'components/Layout'\nimport { colors } from 'components/Tokens'\nimport {Cross} from 'components/Icons'\nimport { useState } from 'react'\nimport { Input, Select, Textarea } from 'components/Form'\nimport { useApi } from 'src/apiHelpers'\nimport { CreateEventMsg, CreateEventResponse } from 'pages/api/events'\nimport { Cohort } from 'src/data'\nimport styled from '@emotion/styled'\nimport { Pill } from 'components/Pill'\n\ntype Event = {\n  name: string,\n  start_date: string,\n  start_time: string,\n  end_time: string,\n  location: string,\n  description: string\n  everyone: boolean\n  people: string[]\n}\n\nexport const CreateEvent = (props: {\n  cohort:number,\n  people: string[],\n  mutate: (e:Cohort[\"cohort_events\"][0])=>void\n}) => {\n  let [open, setOpen] = useState(false)\n  let [event, setEvent] = useState<Event>({\n    name: '',\n    start_date: '',\n    start_time: '',\n    end_time: '',\n    location: '',\n    description: '',\n    everyone: false,\n    people: []\n  })\n  let [status, callCreateEvent] = useApi<CreateEventMsg, CreateEventResponse>([event], (e)=>{\n    if(e.type === 'cohort') props.mutate(e.event)\n    setEvent({\n      everyone: false,\n      people:[],\n      name: '',\n      start_date: '',\n      start_time: '',\n      end_time: '',\n      location: '',\n      description: ''\n    })\n    setOpen(false)\n  })\n\n  let onSubmit = (e: React.FormEvent) =>{\n    e.preventDefault()\n\n    let d1 = event.start_date.split('-').map(x=>parseInt(x))\n    let t1 = event.start_time.split(':').map(x=>parseInt(x))\n    let t2 = event.end_time.split(':').map(x=>parseInt(x))\n    let start_date = new Date(d1[0], d1[1] -1, d1[2], t1[0], t1[1])\n    let end_date = new Date(d1[0], d1[1] - 1, d1[2], t2[0], t2[1])\n\n    callCreateEvent('/api/events', {\n      type: 'cohort',\n      people: event.people,\n      cohort: props.cohort,\n      name: event.name,\n      description: event.description,\n      location: event.location,\n      start_date: start_date.toISOString(),\n      end_date: end_date.toISOString()\n    })\n  }\n  return h(Box, [\n    h(Secondary, {disabled: open, onClick: () => setOpen(true)}, '+ Add New Event'),\n    !open ? null\n      : h(FormBox, {onSubmit}, [\n        h(EventForm, {state: event, onChange: setEvent, people: props.people}),\n        h(Box, {h: true, style:{justifySelf: \"right\"}}, [\n          h(Secondary, {onClick: ()=>setOpen(!open)}, \"Cancel\"),\n          h(Primary, {type: 'submit', status}, \"Create Event\")\n        ])\n      ])\n  ])\n}\n\nexport const EventForm = (props:{onChange: (e: Event)=>void, state: Event, people: string[]}) => {\n  let timezone = new Date().toLocaleDateString('en-us',{timeZoneName:\"short\"}).split(', ')[1]\n  return h(Box, {width: 640, padding: 32, gap: 32, style: {backgroundColor: colors.grey95}}, [\n      h(LabelBox, {gap:8}, [\n        h('h4', \"Event Name\"),\n        h(Input, {\n          type: 'text',\n          required: true,\n          onChange: e=>props.onChange({...props.state, name: e.currentTarget.value}),\n          value: props.state.name\n        })\n      ]),\n      h(Box, {h: true, gap: 32, style:{gridAutoColumns: 'auto'}}, [\n        h(LabelBox, {gap:8}, [\n          h('h4', 'Date'),\n          h(Input, {\n            type: 'date',\n            placeholder: 'yyyy-mm-dd',\n            required: true,\n            value: props.state.start_date,\n            onChange: e => props.onChange({...props.state, start_date: e.currentTarget.value})\n          })\n        ]),\n        h(LabelBox, {gap:8}, [\n          h('h4', 'Start Time ' + `(${timezone})`),\n          h(Input, {\n            type: 'time',\n            placeholder: '23:59',\n            required: true,\n            value: props.state.start_time,\n            onChange: e => props.onChange({...props.state, start_time: e.currentTarget.value})\n          })\n        ]),\n        h(LabelBox, {gap:8}, [\n          h('h4', 'End Time ' + `(${timezone})`),\n          h(Input, {\n            type: \"time\",\n            required: true,\n            value: props.state.end_time,\n            onChange: e => props.onChange({...props.state, end_time: e.currentTarget.value})\n          })\n        ]),\n      ]),\n      h(LabelBox, {gap:8}, [\n        h('div', [\n          h('h4', \"Location\"),\n          h('small.textSecondary', \"A link to where the conversation will happen (like Zoom)\")\n        ]),\n        h(Input, {\n          type: 'text',\n            required: true,\n          value: props.state.location,\n          onChange: e => props.onChange({...props.state, location: e.currentTarget.value})\n        })\n      ]),\n      h(LabelBox, {gap: 8}, [\n        h('h4', \"Description\"),\n        h(Textarea, {\n          value: props.state.description,\n          onChange: e => props.onChange({...props.state, description: e.currentTarget.value})\n        })\n      ]),\n    h(Box, [\n      h('h4', \"Attendees\"),\n      h(Select, {onChange:(e)=>{\n        if(e.currentTarget.value !== ''){\n          props.onChange({...props.state, people: [...props.state.people, e.currentTarget.value]})\n          e.currentTarget.value = ''\n        }\n      }}, [\n        h('option', {value:''}, props.state.people.length === 0 ? 'Everyone' : 'Select another attendee'),\n        ...props.people\n          .filter(p=>!props.state.people.includes(p))\n          .map(p=>h('option', {value: p}, p))\n      ]),\n      h(AttendeeList, props.state.people.map(p=> h('div', {style:{display:'grid', gridTemplateColumns: 'auto min-content', maxWidth: '400px'}}, [\n        h(AttendeePill, [\n        p, ' ', h(LinkButton, {style:{color: colors.textSecondary}, onClick:(e)=>{\n          e.preventDefault()\n          props.onChange({...props.state, people: props.state.people.filter(person=>person!==p)})\n        }}, h(Cross, {width: 10}))\n        ])\n      ])))\n    ])\n  ])\n}\n\nlet AttendeeList = styled('div')`\ndisplay: flex;\nflex-wrap: wrap;\n`\n\nlet AttendeePill = styled(Pill)`\nbackground-color: ${colors.appBackground};\nmargin: 0 8px 8px 0;\n`\n","import h from 'react-hyperscript'\nimport { getTimeBetween } from 'src/utils'\nimport { useState } from 'react'\nimport { Box, FormBox } from 'components/Layout'\nimport styled from '@emotion/styled'\nimport Link from 'next/link'\nimport { colors } from 'components/Tokens'\nimport {Calendar, Pencil} from 'components/Icons'\nimport { EventForm } from './CreateEvent'\nimport { SmallLinkButton, LinkButton, Primary, IconButton, Destructive } from 'components/Button'\nimport { useApi } from 'src/apiHelpers'\nimport { UpdateEventMsg, UpdateEventResult, DeleteEventResult } from 'pages/api/events/[id]'\nimport Text from 'components/Text'\nimport { Cohort, useUserData } from 'src/data'\nimport { Pill } from 'components/Pill'\nimport { useFormData } from 'src/hooks'\n\nexport const CohortEvents = (props: {\n  facilitating: boolean,\n  inCohort: boolean,\n  cohort: number,\n  people: string[],\n  events:Cohort[\"cohort_events\"],\n  mutate: (E:Cohort[\"cohort_events\"])=>void,\n  showCal: boolean,\n})=>{\n  let {data:user} = useUserData()\n  let pastEvents = props.events.filter((event)=>new Date() > new Date(event.events.end_date))\n  let [showPastEvents, setShowPastEvents] = useState(pastEvents.length === props.events.length)\n\n  let displayedEvents = props.events\n        .filter((event)=>showPastEvents ? true : new Date() < new Date(event.events.end_date) )\n        .sort((a, b) => new Date(a.events.start_date) > new Date(b.events.start_date) ? 1 : -1)\n  return h(Box, [\n    // (inCohort || isFacilitator) && cohort.cohort_events.length > 0 ? h(Link, {href: \"/calendar\"}, \n    h(Box, {h:true, gap:0, style: {gridTemplateColumns: 'auto min-content', gridGap:0}}, [\n\n      pastEvents.length === 0 ? null : h(SmallLinkButton, {textSecondary: true, onClick: ()=>{\n        setShowPastEvents(!showPastEvents)\n      }}, showPastEvents ? \"hide past events\" : \"show past events\"),\n      !props.showCal ? null :\n        h(Link, {href: \"/calendar\"}, h(SmallLinkButton, {textSecondary: true, style:{justifySelf: 'end'}},\n        h(Box, {h:true, gap:8, style:{textAlign:'right'}}, ['add to your calendar ', Calendar]),\n      ))\n\n    ]),\n\n    h(TimelineContainer, {},\n      displayedEvents\n        .map((event,index) => h(Event, {\n          user: user ? user.id : undefined,\n          inCohort: props.inCohort,\n          key: event.events.id,\n          facilitating: props.facilitating,\n          event,\n          people: props.people,\n          cohort: props.cohort,\n          mutate: (newEvent) => {\n            let events = props.events.slice(0)\n            events[index] === newEvent\n            return props.mutate(events)\n          },\n          mutateDelete: ()=>{\n            let events = props.events.slice(0)\n            events.splice(index, 1)\n            return props.mutate(events)\n          },\n          first: showPastEvents ? index === pastEvents.length : index === 0,\n          last: index === displayedEvents.length -1,\n        }))\n     )\n  ])\n\n}\n\nconst Event = (props: {\n  event:Cohort[\"cohort_events\"][0],\n  user?: string,\n  facilitating: boolean\n  inCohort: boolean\n  people: string[]\n  cohort: number,\n  last: boolean,\n  first: boolean,\n  mutate: (e:Cohort[\"cohort_events\"][0])=>void,\n  mutateDelete: ()=>void,\n})=>{\n  let [editting, setEditing] = useState(false)\n  let [expanded, setExpanded] = useState(props.first)\n  let event = props.event\n  let start_date = new Date(event.events.start_date)\n  let end_date = new Date(event.events.end_date)\n  let past = end_date < new Date()\n\n  let {state, setState} = useFormData({\n    everyone: !event.everyone,\n    name: event.events.name,\n    location: event.events.location,\n    description: event.events.description,\n    start_date: `${start_date.getFullYear()}-${('0'+(start_date.getMonth()+1)).slice(-2)}-${('0'+start_date.getDate()).slice(-2)}`,\n    start_time: start_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n    end_time: end_date.toLocaleTimeString([], {hour:\"2-digit\", minute: \"2-digit\", hour12: false}),\n    people: event.events.people_in_events.map(p=>p.people.username)\n  }, [event])\n\n  let[status, callUpdateEvent] = useApi<UpdateEventMsg, UpdateEventResult>([props], async (event)=>{\n    if(event.type === 'cohort') props.mutate(event.data)\n    setEditing(false)\n  })\n\n  let [deleteStatus, callDeleteEvent] = useApi<null, DeleteEventResult>([], ()=>{\n    setEditing(false)\n    props.mutateDelete()\n  })\n\n  const onSubmit = (e: React.FormEvent)=>{\n    e.preventDefault()\n    let event = state\n\n    let d1 = event.start_date.split('-').map(x=>parseInt(x))\n    let t1 = event.start_time.split(':').map(x=>parseInt(x))\n    let t2 = event.end_time.split(':').map(x=>parseInt(x))\n    let start_date = new Date(d1[0], d1[1] -1, d1[2], t1[0], t1[1])\n    let end_date = new Date(d1[0], d1[1] - 1, d1[2], t2[0], t2[1])\n\n    callUpdateEvent('/api/events/'+props.event.events.id, {\n      type: 'cohort',\n      cohort: props.cohort,\n      data: {\n        name: event.name,\n        description: event.description,\n        location: event.location,\n        start_date: start_date.toISOString(),\n        end_date: end_date.toISOString(),\n        people: event.people\n      }\n    })\n  }\n\n  return h(EventContainer, {last: props.last, selected: expanded}, [\n    h(Dot, {selected: expanded, onClick: ()=>setExpanded(event.events.description === '' ? false : !expanded), past}),\n    editting\n      ? h(FormBox, {onSubmit}, [\n      h(EventForm, {onChange: setState, state, people: props.people}),\n      h(Box, {h: true, style:{justifySelf: \"right\", alignItems: \"center\"}}, [\n        h(LinkButton, {textSecondary: true, onClick: ()=>setEditing(false)}, \"cancel\"),\n        h(Destructive, {status: deleteStatus, onClick: (e)=>{\n          e.preventDefault()\n          callDeleteEvent('/api/events/'+props.event.events.id, null, \"DELETE\")\n        }}, \"Delete Event\"),\n        h(Primary, {type: 'submit', status}, \"Save Changes\")\n      ])\n    ])\n      : h(Box, [\n        h(Box, [\n          h(Box, {gap: 8}, [\n            h('p.textSecondary', {style: {color: past ? colors.grey55 : undefined}}, [\n              h('b', {style:{fontWeight:\"900\"}}, start_date.toLocaleDateString([], {weekday: 'short', month: \"short\", day: \"numeric\"}).toUpperCase()),\n              ' ' + start_date.toLocaleTimeString([], {hour: \"numeric\", minute: \"2-digit\", hour12: true, timeZoneName: 'short'}) +\n                ` | ` + getTimeBetween(start_date, end_date) + ' hrs ',\n              (()=>{\n                if(event.everyone) return null\n                switch(event.events.people_in_events.length) {\n                  case 1: return h(Pill, {style:{alignSelf:\"center\"}}, \"Solo\")\n                  case 2: return h(Pill, {style:{alignSelf:\"center\"}}, \"1:1\")\n                  default: return h(Pill, {style:{alignSelf:\"center\"}}, \"Group\")\n                }\n              })()\n            ]),\n            h(Box, {h: true, style:{gridTemplateColumns:\"auto auto min-content\"}}, [\n              h(EventTitle, {past, onClick: ()=>setExpanded(!expanded)}, [\n                event.events.name\n              ]),\n              props.facilitating || props.user === event.events.created_by ? h(IconButton, {\n                style: {alignSelf: 'baseline', justifySelf: 'right'},\n                onClick: ()=>setEditing(true)\n              }, Pencil) : null\n            ]),\n          ]),\n          event.events.location && expanded ? h('a', {href: event.events.location}, h(Primary,  \"Join Event\")) : null,\n        ]),\n        !expanded || event.events.description === '' ? null\n          : h(Box, [\n            h('div', {\n              style: {padding: '32px', backgroundColor: 'white', border: 'dotted 1px', overflow:'auto', overflowWrap: \"break-word\"}}, h(Text, {source: event.events.description})),\n            event.events.people_in_events.length === 0 ? null : h('p.textSecondary', [h('b', 'Attendees: '), event.events.people_in_events.map(p=>p.people.display_name || p.people.username).join(', ')])\n          ])\n      ])\n  ])\n}\n\nconst Dot = styled('div')<{selected: boolean, past: boolean}>`\n${p => {\nlet size = p.selected ? 24 : 16\nreturn `\nwidth: ${size}px;\nheight: ${size}px;\nmargin-right: ${p.selected ? 32 : 34}px;\n`}}\nbox-sizing: border-box;\nborder: 4px solid;\nbackground-color: white;\nborder-radius: 50%;\n\n${p=>p.past ? `background-color: ${colors.grey80};` : ''}\n\n&:hover {\ncursor: pointer;\n}\n`\n\nconst EventTitle = styled('h3')<{past: boolean}>`\n${p=>p.past ? `color: ${colors.textSecondary};` : ''}\n&:hover {\ncursor: pointer;\n}\n`\nconst TimelineContainer = styled('div')`\ndisplay: grid;\ngrid-gap: 32px;\nborder-left: 4px solid;\npadding-left: 32px;\n`\n\nconst EventContainer = styled('div')<{last?: boolean, selected: boolean}>`\nbox-sizing: border-box;\nmargin-left: -${p=>p.selected ? 46 : 42}px;\ndisplay: grid;\ngrid-template-columns: min-content auto;\nmax-width: 1024px;\n${p=>p.last ? `background-color: ${colors.appBackground};` : ''}\n`\n","import h from 'react-hyperscript'\n\nimport styled from '@emotion/styled'\nimport { useRouter } from 'next/router'\nimport Link from 'next/link'\nimport {useState, useEffect, Fragment} from 'react'\nimport { InferGetStaticPropsType } from 'next'\n\nimport CourseDetails from 'components/Course/Enroll'\nimport { EnrollButton } from 'components/Course/EnrollButton';\nimport { SubEnrollButton } from 'components/Course/SubEnrollButton';\n\nimport { TwoColumn, Box, LabelBox, Seperator, Sidebar, WhiteContainer} from 'components/Layout'\nimport { VerticalTabs, StickyWrapper } from 'components/Tabs'\nimport { Primary, Destructive, DestructiveSmallButton, Secondary, LinkButton } from 'components/Button'\nimport Loader, { PageLoader } from 'components/Loader'\nimport { CheckBox, Info, Input } from 'components/Form'\nimport { Modal } from 'components/Modal'\nimport {TwoColumnBanner} from 'components/Banner'\nimport Text from 'components/Text'\nimport {WelcomeModal} from 'components/pages/cohorts/WelcomeModal'\n\nimport { cohortName, prettyDate} from 'src/utils'\nimport {  getTaggedPost } from 'src/discourse'\nimport {DISCOURSE_URL} from 'src/constants'\nimport { callApi, useApi } from 'src/apiHelpers'\nimport { useCohortData, useUserCohorts, useUserData, useCourseData, Cohort, useProfileData } from 'src/data'\nimport ErrorPage from 'pages/404'\nimport { cohortDataQuery, UpdateCohortMsg, UpdateCohortResponse } from 'pages/api/cohorts/[cohortId]'\nimport { courseDataQuery } from 'pages/api/courses/[id]'\nimport Head from 'next/head'\nimport { CohortEvents } from 'components/pages/cohorts/Events'\nimport { CreateEvent } from 'components/pages/cohorts/CreateEvent'\nimport { AccentImg } from 'components/Images'\nimport { TodoList } from 'components/TodoList'\nimport { UnEnrollMsg, UnEnrollResponse } from 'pages/api/cohorts/[cohortId]/enroll'\n\ntype Props = InferGetStaticPropsType<typeof getStaticProps>\nconst WrappedCohortPage = (props: Props)=>  props.notFound ? h(ErrorPage) : h(CohortPage, props)\nexport default WrappedCohortPage\nconst CohortPage = (props: Extract<Props, {notFound:false}>) => {\n  let router = useRouter()\n  let {data: user} = useUserData()\n  let {data: userCohorts} = useUserCohorts()\n  let {data:profile} = useProfileData(user ? user.username : undefined)\n  let {data: cohort, mutate} = useCohortData(props.cohortId, props.cohort)\n  let {data: course} = useCourseData(props.courseId, props.course)\n  let selectedTab = router.query.tab as string | undefined\n\n  useEffect(()=>{\n    mutate(undefined, true)\n  }, [!!cohort])\n\n\n  if(!cohort || !course) return h(PageLoader)\n\n  let invited = !!userCohorts?.invited_courses.find(course=>course.id === props.course.id )\n  let inCohort = cohort.people_in_cohorts.find(p => p.person === (user ? user.id : undefined))\n  let isFacilitator = !!user && !!cohort.cohort_facilitators.find(f=>user &&f.people.username === user.username)\n  let isStarted = cohort && new Date() > new Date(cohort.start_date)\n\n  let Tabs = {\n    Artifacts: props.artifacts.text === '' ? null : h(Box, {gap: 64}, [\n      h(Box, {gap: 32},[\n        h(Box, [\n          h(Text, {source: props.artifacts?.text})\n        ]),\n      ])\n    ]),\n    Schedule: cohort.cohort_events.length === 0 && !isFacilitator ? null : h(Box, {gap: 32}, [\n      isFacilitator || inCohort ? h(CreateEvent, {\n        cohort: cohort.id,\n        people: [...cohort.people_in_cohorts.map(p=>p.people.username), ...cohort.cohort_facilitators.map(f=>f.people.username)],\n        mutate: (c)=>{\n          if(!cohort) return\n          mutate({...cohort, cohort_events: [...cohort.cohort_events, c]})\n        }}) : null,\n      h(Box, [\n        cohort.cohort_events.length === 0\n          ? h(WhiteContainer, [\n            h(Box, {gap:16, style: {maxWidth: 400, textAlign: 'center', margin: 'auto'}}, [\n              h( EmptyImg, {src: '/img/empty.png'}),\n              h('small.textSecondary', \"Events are great for scheduling live calls or other important cohort dates. Learners can add these to their calendars. Looks like you haven't created any events yet. Hit the button above to schedule one!!\" ),\n            ])])\n          : h(CohortEvents, {\n            facilitating: isFacilitator,\n            inCohort:!!inCohort,\n            people: cohort.people_in_cohorts.map(p=>p.people.username),\n            cohort: cohort.id,\n            events: cohort.cohort_events.filter(c=>{\n              if(!user || !cohort) return c.everyone\n              if(isFacilitator) return true\n              return c.everyone || c.events.people_in_events.find(p=>user&&p.people.username===user.username)\n            }),\n            mutate: (events)=>{\n              if(!cohort) return\n              mutate({\n                ...cohort, cohort_events: events})\n            },\n            showCal: (inCohort || isFacilitator) && cohort.cohort_events.length > 0\n          })\n      ])\n    ]),\n    [course.type === 'club' ? \"Details\" : \"Curriculum\"]: h(Box, [\n      !isFacilitator ? null : h(Info, [\n        `ðŸ’¡ You can make changes to this page by editing `,\n        h('a', {href: `${DISCOURSE_URL}/session/sso?return_path=/t/${props.curriculum?.id}`}, `this topic`),\n        ` in the forum`\n      ]),\n      h(Text, {source:props.curriculum?.text})\n    ]),\n    Members: h(CohortMembers, {cohort: cohort, isFacilitator, mutate, user: user ? user.id : undefined})\n      } as {[k:string]:React.ReactElement}\n  let tabKeys = Object.keys(Tabs).filter(t=>!!Tabs[t])\n\n  return h(\"div\", {}, [\n    h(Head, {\n      children: [\n        h(\"meta\", {\n          property: \"og:title\",\n          content: course.name,\n          key: \"og:title\",\n        }),\n        h(\"meta\", {\n          property: \"og:description\",\n          content: \"Starting \" + prettyDate(cohort.start_date),\n          key: \"og:description\",\n        }),\n        h(\"meta\", {\n          property: \"og:image\",\n          content: course.card_image.split(\",\")[0],\n          key: \"og:image\",\n        }),\n        h(\"meta\", {\n          property: \"twitter:card\",\n          content: \"summary\",\n          key: \"twitter:card\",\n        }),\n      ],\n    }),\n    h(WelcomeModal, {\n      display: router.query.welcome !== undefined,\n      cohort,\n      user_calendar: profile ? profile.calendar_id : \"\",\n    }),\n    h(Banners, {\n      cohort,\n      mutate,\n      enrolled: !!inCohort,\n      facilitating: isFacilitator,\n    }),\n    h(Box, { gap: 32 }, [\n      h(TwoColumn, [\n        h(Box, { gap: 8, style: { gridColumn: 1 } }, [\n          course.type === \"course\"\n            ? null\n            : h(\n                Box,\n                { h: true },\n                props.course.card_image\n                  .split(\",\")\n                  .map((src) =>\n                    h(\"img\", { src, style: { imageRendering: \"pixelated\" } })\n                  )\n              ),\n          h(\"h1\", cohortName(cohort.name)),\n          h(\n            Link,\n            {\n              href: `/courses/${cohort.courses.slug}/${cohort.courses.id}`,\n            },\n            h(\"a.notBlue\", {}, h(\"h3.textSecondary\", cohort?.courses.name))\n          ),\n          h(\"p.big\", cohort.description),\n        ]),\n        Tabs[selectedTab ? selectedTab : tabKeys[0]],\n        h(Sidebar, {}, [\n          h(StickyWrapper, [\n            h(Box, { gap: 16 }, [\n              inCohort || isStarted || isFacilitator\n                ? null\n                : h(CourseDetails, { course }),\n              inCohort || isStarted || isFacilitator\n                ? null\n                : \n            h(Box, [\n               h(LabelBox,{style:{fontSize: '2rem'}} ,\"Join this cohort\"),\n                h(SubEnrollButton, {\n                      id: cohort.id,\n                      course: course.id,\n                      max_size: course.cohort_max_size,\n                      learners: cohort.people_in_cohorts.length,\n                      invited: !course.invite_only || invited,\n                    },  \"via Paystack\"),\n                h(EnrollButton,\n                    {\n                      id: cohort.id,\n                      course: course.id,\n                      max_size: course.cohort_max_size,\n                      learners: cohort.people_in_cohorts.length,\n                      invited: !course.invite_only || invited,\n                    },\n                    \"via Stripe\"\n                  ),\n                   ]),\n              h(Box, [\n                h(\"h3\", \"Information\"),\n                h(VerticalTabs, {\n                  selected:\n                    selectedTab && Tabs[selectedTab] ? selectedTab : tabKeys[0],\n                  tabs: tabKeys,\n                  onChange: (tab) => {\n                    let route = new URL(window.location.href);\n                    route.searchParams.set(\"tab\", tab);\n                    router.replace(route, undefined, { shallow: true });\n                  },\n                }),\n              ]),\n              inCohort || isFacilitator || cohort.completed\n                ? h(Box, {}, [\n                    !isFacilitator\n                      ? null\n                      : h(\n                          Link,\n                          { href: window.location.pathname + \"/settings\" },\n                          h(\"a\", {}, h(Primary, \"Cohort Settings\"))\n                        ),\n                    !inCohort && !isFacilitator\n                      ? null\n                      : h(Box, [\n                          h(\n                            \"a\",\n                            {\n                              href: `${DISCOURSE_URL}/session/sso?return_path=/c/${cohort.category_id}`,\n                            },\n                            h(Secondary, \"The Forum\")\n                          ),\n                          !isFacilitator\n                            ? null\n                            : h(\n                                Link,\n                                {\n                                  href:\n                                    \"/courses/[slug]/[id]/cohorts/[cohortId]/templates\",\n                                  as: `/courses/${cohort.courses.slug}/${cohort.courses.id}/cohorts/${cohort.id}/templates`,\n                                },\n                                h(Secondary, \"Forum Post from Template\")\n                              ),\n                          !cohort.completed && isFacilitator && isStarted\n                            ? h(MarkCohortComplete, { cohort, mutate })\n                            : null,\n                        ]),\n                  ])\n                : null,\n            ]),\n          ]),\n        ]),\n      ]),\n    ]),\n  ]);\n}\n\n\nexport let EmptyImg = styled ('img') `\nimage-rendering: pixelated;\nimage-rendering: -moz-crisp-edges;\nimage-rendering: crisp-edges;\ndisplay: block;\nmargin: auto auto;\nborder: none;\nheight: 200px;\nwidth: 200px;\n`\n\nexport const CohortMembers = (props:{cohort:Cohort, isFacilitator: boolean, user?: string, mutate: (c:Cohort)=>void}) => {\n  let [unenrollState, setUnenrollState] = useState<{personID:string, username: string, cohortID:number, display_name?:string, removeMember:()=>void}>()\n  return h(Fragment, [\n    !unenrollState\n      ? null\n      : h(UnenrollModal, {\n          display: !!unenrollState,\n          onExit: () => setUnenrollState(undefined),\n          ...unenrollState,\n        }),\n    h(Box, { gap: 16 }, [\n      h(\"h3\", \"Facilitators\"),\n      props.isFacilitator\n        ? null\n        : h(Info, [\n            `Questions about this `,\n            props.cohort.courses.type === \"club\" ? `club` : `course`,\n            `? `,\n            h(\n              \"a\",\n              {\n                href: `https://forum.krakenedu.com/new-message?groupname=${props.cohort.courses.slug}-m`,\n                target: `_blank`,\n              },\n              `Message the facilitator`\n            ),\n            ` on the forum.`,\n          ]),\n      ...props.cohort.cohort_facilitators.map((f) =>\n        h(Box, [\n          props.user === f.facilitator\n            ? h(Info, [\n                `ðŸ’¡ You can edit your bio in the profile tab on your `,\n                h(Link, { href: \"/dashboard\" }, h(\"a\", \"dashboard\")),\n              ])\n            : null,\n          h(\"h3\", [\n            ``,\n            h(\n              Link,\n              {\n                href: \"/people/[id]\",\n                as: `/people/${f.people.username}`,\n              },\n              h(\n                \"a\",\n                { className: \"notBlue\" },\n                f.people.display_name || f.people.username\n              )\n            ),\n            f.people.pronouns\n              ? h(\"span.textSecondary\", {}, ` (${f.people.pronouns})`)\n              : null,\n          ]),\n          h(Text, { source: f.people.bio || \"\" }),\n        ])\n      ),\n\n      // message facilitator - shows for logged in and anon users; hidden on things you're facilitating\n\n      props.cohort.people_in_cohorts.length === 0\n        ? null\n        : h(Box, { h: true }, [\n            h(\"h4\", [\n              \"Members \",\n              h(\n                \"span.textSecondary\",\n                `(${props.cohort.people_in_cohorts.length}${\n                  props.cohort.courses.cohort_max_size !== 0\n                    ? `/${props.cohort.courses.cohort_max_size}`\n                    : \"\"\n                })`\n              ),\n            ]),\n            !props.isFacilitator\n              ? null\n              : h(\n                  \"a\",\n                  {\n                    href: `mailto:?bcc=${props.cohort.people_in_cohorts\n                      .map((p) => p.people.email)\n                      .join(\",\")}`,\n                  },\n                  \"email everyone\"\n                ),\n          ]),\n      ...props.cohort.people_in_cohorts.map((person) => {\n        return h(\n          \"div\",\n          { style: { display: \"grid\", gridTemplateColumns: \"auto auto\" } },\n          [\n            h(Box, { h: true }, [\n              h(\n                Link,\n                {\n                  href: \"/people/[id]\",\n                  as: `/people/${person.people.username}`,\n                },\n                [\n                  h(\n                    \"a\",\n                    { className: \"notBlue\" },\n                    person.people.display_name || person.people.username\n                  ),\n                ]\n              ),\n              person.people.pronouns\n                ? h(\"span.textSecondary\", {}, ` (${person.people.pronouns})`)\n                : null,\n            ]),\n            !props.isFacilitator\n              ? null\n              : h(\"div\", { style: { justifySelf: \"right\" } }, [\n                  h(\n                    \"a\",\n                    {\n                      style: { marginRight: \"10px\" },\n                      href: `mailto:${person.people.email}`,\n                    },\n                    \"email\"\n                  ),\n                  h(\n                    DestructiveSmallButton,\n                    {\n                      onClick: () => {\n                        setUnenrollState({\n                          personID: person.person,\n                          cohortID: props.cohort.id,\n                          username: person.people.username,\n                          display_name: person.people.display_name,\n                          removeMember: () => {\n                            props.mutate({\n                              ...props.cohort,\n                              people_in_cohorts: props.cohort.people_in_cohorts.filter(\n                                (p) => p.person !== person.person\n                              ),\n                            });\n                          },\n                        });\n                      },\n                    },\n                    \"unenroll\"\n                  ),\n                ]),\n          ]\n        );\n      }),\n    ]),\n  ]);\n}\n\nconst UnenrollModal = (props:{\n  personID: string,\n  username: string,\n  cohortID:number,\n  display_name?: string,\n  removeMember: ()=>void\n  display: boolean,\n  onExit: ()=>void\n})=>{\n  let [status, callUnenroll] = useApi<UnEnrollMsg, UnEnrollResponse>([])\n  return h(Modal, {display: props.display, onExit:props.onExit, hideCloseButton: true} ,[\n    status === 'success'\n      ? h(Box, {style:{textAlign:'center', justifyItems:'center'}}, [\n        h('h2', \"Unenrolled!\"),\n        h('p', [`You've unenrolled `, h('b', props.display_name || props.username), ` from this cohort`]),\n        h('p', [`They'll be refunded within 5 business days`]),\n        h(Secondary, {onClick:props.onExit, style:{width:\"250px\"}}, \"exit\")\n      ])\n      : h(Box, {gap:32, style:{textAlign:'center', justifyItems:'center'}}, [\n        h(Box,[\n          h('h2', \"Un-Enroll and Issue Refund\"),\n          h('p', [\n            `You are about to un-enroll `, h('b', props.display_name || props.username), ` from this cohort`\n          ]),\n        ]),\n        h(Box, {gap:8}, [\n          h(Destructive, {status, onClick:async ()=>{\n            let result = await  callUnenroll(`/api/cohorts/${props.cohortID}/enroll`, {\n              person: props.personID\n            }, \"DELETE\")\n            if(result.status===200){\n              props.removeMember()\n            }\n          }, style:{width:\"250px\"}}, 'Un-enroll'),\n          h(Secondary, {onClick:props.onExit, style:{width:\"250px\"}}, \"Cancel\")\n        ])\n      ])\n  ])\n}\n\n// Button to Publish Draft Cohort\nconst MarkCohortLive = (props:{cohort:Cohort, mutate:(c:Cohort)=>void})=> {\n  let [state, setState] = useState<'normal' | 'confirm' | 'loading'| 'complete' >('normal')\n  if(state === 'confirm' || state === 'loading') return h(Modal, {display: true, closeText:\"nevermind\", onExit: ()=> setState('normal')}, [\n    h(Box, {gap: 32}, [\n      h('h2', \"Are you sure?\"),\n      h(Box, {gap: 16, style: {textAlign: 'right'}}, [\n        h(Primary, {onClick: async e => {\n          e.preventDefault()\n          setState('loading')\n          let res = await callApi<UpdateCohortMsg, UpdateCohortResponse>(`/api/cohorts/${props.cohort.id}`, {data: {live: true}})\n          if(res.status === 200) props.mutate({...props.cohort, live: res.result.live})\n          setState('complete')\n        }}, state === 'loading' ? h(Loader) : 'Publish!'),\n      ])\n    ])\n  ])\n\n  return h(Primary, {style: {justifySelf:\"center\"}, onClick: async e => {\n    e.preventDefault()\n    setState('confirm')\n  }}, 'Publish!')\n}\n//End Button to publish cohort\n\n//Modal to complete cohort\nconst MarkCohortComplete = (props:{cohort:Cohort, mutate:(c:Cohort)=>void})=> {\n  let [state, setState] = useState<'normal' | 'confirm' | 'loading'| 'complete' >('normal')\n\n  if (state === \"confirm\" || state === \"loading\")\n    return h(\n      Modal,\n      {\n        display: true,\n        closeText: \"nevermind\",\n        onExit: () => setState(\"normal\"),\n      },\n      [\n        h(Box, { gap: 32 }, [\n          h(\"h2\", { style: { textAlign: \"center\" } }, \"Are you sure?\"),\n          h(Box, { gap: 16 }, [\n            \"Before closing this course, please...\",\n            h(Box, { gap: 16 }, [\n              h(CheckBox, [\n                h(Input, {\n                  type: \"checkbox\",\n                }),\n                h(\"span\", [\n                  \"Use the \",\n                  h(\n                    Link,\n                    {\n                      href: `http://krakenedu.com/courses/${props.cohort.courses.slug}/${props.cohort.courses.id}/cohorts/${props.cohort.id}/templates?template=Artifact`,\n                    },\n                    \"Artifact template\"\n                  ),\n                  \" to publicly share any artifacts or final projects produced in the cohort\",\n                ]),\n              ]),\n              h(CheckBox, [\n                h(Input, {\n                  type: \"checkbox\",\n                }),\n                h(\"span\", [\n                  \"Use the \",\n                  h(\n                    Link,\n                    {\n                      href: `http://krakenedu.com/courses/${props.cohort.courses.slug}/${props.cohort.courses.id}/cohorts/${props.cohort.id}/templates?template=Retro`,\n                    },\n                    \"Retrospective template\"\n                  ),\n                  \" to post a cohort retro in the forum.\",\n                ]),\n              ]),\n              h(Seperator),\n              h(\"span\", [\n                \"You can find more information about artifacts and retros in our \",\n                h(\n                  Link,\n                  {\n                    href: `https://app.krakenedu.com/manual/facilitators#facilitating-a-cohort`,\n                  },\n                  \"facilitator guide\"\n                ),\n                \".\",\n              ]),\n            ]),\n          ]),\n          h(\n            Primary,\n            {\n              style: { justifySelf: \"center\" },\n              onClick: async (e) => {\n                e.preventDefault();\n                setState(\"loading\");\n                let res = await callApi<UpdateCohortMsg, UpdateCohortResponse>(\n                  `/api/cohorts/${props.cohort.id}`,\n                  { data: { completed: true } }\n                );\n                if (res.status === 200)\n                  props.mutate({\n                    ...props.cohort,\n                    completed: res.result.completed,\n                  });\n                setState(\"complete\");\n              },\n            },\n            state === \"loading\" ? h(Loader) : \"Mark this cohort complete\"\n          ),\n        ]),\n      ]\n    );\n\n  return h(Destructive, {onClick: async e => {\n    e.preventDefault()\n    setState('confirm')\n  }}, 'Mark as complete')\n}\n//end modal to complete cohorts\n\n\n// Defining Banners (upcoming-facilitator, upcoming-learner, draft)\nconst Banners = (props:{\n  cohort: Cohort\n  mutate: (c:Cohort)=>void\n  facilitating?: boolean,\n  enrolled?: boolean,\n})=>{\n  let isStarted = (new Date(props.cohort.start_date)).getTime() - (new Date()).getTime()\n  let forum = `${DISCOURSE_URL}/session/sso?return_path=/c/${props.cohort.category_id}`\n\n  if(props.facilitating && !props.cohort.live) return h(TODOBanner, props)\n\n  if(props.cohort.completed && (props.enrolled || props.facilitating))  return h(TwoColumnBanner, [\n    h(Box, {gap: 8, className: \"textSecondary\"}, [\n      h('h4', `You completed this course on ${prettyDate(props.cohort.completed || '')}!`),\n      h('p', [`This cohort's `, h('a', {href: forum}, 'private forum'), ` will always be open! Feel free to come back whenever`])\n    ])\n  ])\n\n  if(isStarted > 0 && (props.enrolled || props.facilitating)) {\n    if(props.facilitating) {\n      return h(TwoColumnBanner, [\n          h(Box, {gap: 8, className: \"textSecondary\"}, [\n            h('h4', `You're facilitating in ${Math.round(isStarted / (1000 * 60 * 60 * 24))} days `),\n            h('p', [\n              `Check out the `,\n              h('a', {href: forum}, 'forum'),\n              ` and meet the learners. You can also read our `, h('a', {href: \"/manual/facilitators\"}, 'facilitator guide'), ` in the Krakenedu Manual`\n            ])\n          ])\n      ])\n    }\n    return h(TwoColumnBanner, [\n        h(Box, {gap: 8, className: \"textSecondary\"}, [\n          h('h4', `You start in ${Math.round(isStarted / (1000 * 60 * 60 * 24))} days `),\n          h('p', [\n            `Check out the `,\n            h('a', {href: forum}, 'forum'),\n            ` while you're waiting. You can introduce yourself and learn more about what you'll be doing when your cohort starts!`\n          ])\n        ])\n    ])\n  }\n  return null\n}\n\nconst TODOBanner = (props:{\n  cohort:Cohort, \n  mutate:(c:Cohort)=>void\n}) => {\n  let [expanded, setExpanded] = useState(false)\n\n  return h(TwoColumnBanner, { red: true }, [\n    h(BannerContent, [\n      h(AccentImg, {\n        height: 32,\n        width: 36,\n        src:\n          \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Seedling.png\",\n      }),\n      h(Box, { gap: 8 }, [\n        h(\"h4\", \"This cohort is still a draft\"),\n        h(\n          \"p\",\n          \"Itâ€™s hidden from public view. People canâ€™t join until you publish it.\"\n        ),\n      ]),\n\n      ...(!expanded\n        ? []\n        : [\n            h(AccentImg, {\n              height: 32,\n              width: 36,\n              src:\n                \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Bud.png\",\n            }),\n            h(Box, { gap: 16 }, [\n              h(\n                \"h4\",\n                \"Before you publish this cohort make sure that you ...  \"\n              ),\n              h(TodoList, {\n                persistKey: \"cohort-publish-todo-\" + props.cohort.id,\n                items: [\n                  \"Add events to your cohort schedule for any live calls or important dates people need to remember.\",\n                  h(\"span\", [\n                    \"Fill out \",\n                    h(\n                      Link,\n                      {\n                        href: `https://app.krakenedu.com/dashboard?tab=Profile`,\n                      },\n                      \"your bio\"\n                    ),\n                    \" and tell people more about you.\",\n                  ]),\n                  h(\"span\", [\n                    \"Fill out the \",\n                    h(\n                      \"a\",\n                      {\n                        href: `${DISCOURSE_URL}/session/sso?return_path=/c/${props.cohort.category_id}`,\n                      },\n                      \"Getting Started topic\"\n                    ),\n                    \" in the forum with any first steps learners should take. This will be linked in the welcome email sent to everyone who enrolls.\",\n                  ]),\n                ],\n              }),\n            ]),\n\n            h(AccentImg, {\n              height: 32,\n              width: 36,\n              src:\n                \"https://hyperlink-data.nyc3.cdn.digitaloceanspaces.com/icons/Flower.png\",\n            }),\n            h(Box, { gap: 16 }, [\n              h(\n                \"h4\",\n                \"Once you're ready, hit publish and start spreading the word!\"\n              ),\n              h(MarkCohortLive, { cohort: props.cohort, mutate: props.mutate }),\n            ]),\n          ]),\n    ]),\n\n    h(\n      LinkButton,\n      {\n        style: { justifySelf: \"right\", textDecoration: \"none\" },\n        onClick: () => setExpanded(!expanded),\n      },\n      expanded ? \"hide checklist\" : \"show checklist\"\n    ),\n  ]);\n}\n\n\nconst BannerContent = styled('div') `\ndisplay: grid; \ngrid-template-columns: min-content auto;\ngrid-column-gap: 16px;\ngrid-row-gap: 32px;\n\n`\n\n//End Bannera\n\nexport const getStaticProps = async (ctx:any)=>{\n  let courseId = parseInt((ctx.params?.id as string) || \"\");\n  if (Number.isNaN(courseId)) return { props: { notFound: true } } as const;\n\n  let course = await courseDataQuery(courseId);\n  if (!course) return { props: { notFound: true } } as const;\n\n  let cohortId = parseInt((ctx.params?.cohortId as string) || \"\");\n  if (Number.isNaN(cohortId)) return { props: { notFound: true } } as const;\n  let cohort = await cohortDataQuery(cohortId);\n\n  if (!cohort) return { props: { notFound: true } } as const;\n\n  let [artifacts, curriculum] = await Promise.all([\n    getTaggedPost(cohort.category_id, \"artifact\"),\n    getTaggedPost(cohort.courses.category_id, \"curriculum\"),\n  ]);\n\n  return {\n    props: {\n      notFound: false,\n      courseId,\n      cohortId,\n      cohort,\n      course,\n      curriculum,\n      artifacts,\n    },\n    revalidate: 1,\n  } as const;\n}\n\nexport const getStaticPaths = () => {\n  return {paths:[], fallback: true}\n}\n","export let DISCOURSE_URL = 'https://forum.krakenedu.com'\n"],"sourceRoot":""}