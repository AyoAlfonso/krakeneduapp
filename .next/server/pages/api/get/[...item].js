module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../../../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/api/get/[...item].ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\nconst globalAny = global;\n\nlet prisma;\n\nif (process.env.APP_ENV === \"production\") {\n  prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__[\"PrismaClient\"]();\n} else {\n  if (!globalAny.prisma) {\n    globalAny.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__[\"PrismaClient\"]();\n  }\n\n  prisma = globalAny.prisma;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (prisma);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9saWIvcHJpc21hLnRzP2Q3MjgiXSwibmFtZXMiOlsiZ2xvYmFsQW55IiwiZ2xvYmFsIiwicHJpc21hIiwicHJvY2VzcyIsImVudiIsIkFQUF9FTlYiLCJQcmlzbWFDbGllbnQiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBLE1BQU1BLFNBQWEsR0FBR0MsTUFBdEI7QUFDQTtBQUVBLElBQUlDLE1BQUo7O0FBRUEsSUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLE9BQVosS0FBd0IsWUFBNUIsRUFBMEM7QUFDeENILFFBQU0sR0FBRyxJQUFJSSwyREFBSixFQUFUO0FBQ0QsQ0FGRCxNQUVPO0FBQ0wsTUFBSSxDQUFDTixTQUFTLENBQUNFLE1BQWYsRUFBdUI7QUFDckJGLGFBQVMsQ0FBQ0UsTUFBVixHQUFtQixJQUFJSSwyREFBSixFQUFuQjtBQUNEOztBQUNESixRQUFNLEdBQUdGLFNBQVMsQ0FBQ0UsTUFBbkI7QUFDRDs7QUFFY0EscUVBQWYiLCJmaWxlIjoiLi9saWIvcHJpc21hLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZ2xvYmFsQW55OmFueSA9IGdsb2JhbDtcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5sZXQgcHJpc21hOiBQcmlzbWFDbGllbnQ7XG5cbmlmIChwcm9jZXNzLmVudi5BUFBfRU5WID09PSBcInByb2R1Y3Rpb25cIikge1xuICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XG59IGVsc2Uge1xuICBpZiAoIWdsb2JhbEFueS5wcmlzbWEpIHtcbiAgICBnbG9iYWxBbnkucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xuICB9XG4gIHByaXNtYSA9IGdsb2JhbEFueS5wcmlzbWE7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHByaXNtYTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./lib/prisma.ts\n");

/***/ }),

/***/ "./pages/api/get/[...item].ts":
/*!************************************!*\
  !*** ./pages/api/get/[...item].ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _src_apiHelpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../src/apiHelpers */ \"./src/apiHelpers.ts\");\n/* harmony import */ var _src_token__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../src/token */ \"./src/token.ts\");\n/* harmony import */ var lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lib/prisma */ \"./lib/prisma.ts\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Object(_src_apiHelpers__WEBPACK_IMPORTED_MODULE_0__[\"multiRouteHandler\"])('item', {\n  'user_cohorts': getUserCohorts,\n  'user_courses': getUserCourses,\n  'username': checkUsername,\n  'whoami': whoami\n}));\n\nasync function getUserCohorts(req) {\n  let token = Object(_src_token__WEBPACK_IMPORTED_MODULE_1__[\"getToken\"])(req);\n  if (!token) return {\n    status: 403,\n    result: \"Error: no user logged in\"\n  };\n  let [course_cohorts, invited_courses, events] = await Promise.all([lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].course_cohorts.findMany({\n    where: {\n      OR: [{\n        people_in_cohorts: {\n          some: {\n            person: token.id\n          }\n        }\n      }, {\n        cohort_facilitators: {\n          some: {\n            facilitator: token.id\n          }\n        }\n      }]\n    },\n    include: {\n      courses: {\n        select: {\n          name: true,\n          slug: true,\n          card_image: true,\n          id: true,\n          type: true,\n          description: true,\n          cohort_max_size: true\n        }\n      },\n      cohort_facilitators: true,\n      cohort_events: {\n        where: {\n          OR: [{\n            everyone: true\n          }, {\n            events: {\n              people: {\n                id: token.id\n              }\n            }\n          }, {\n            events: {\n              people_in_events: {\n                some: {\n                  people: {\n                    id: token.id\n                  }\n                }\n              }\n            }\n          }]\n        },\n        select: {\n          events: true\n        }\n      },\n      people: {\n        select: {\n          display_name: true,\n          username: true\n        }\n      }\n    }\n  }), lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].courses.findMany({\n    where: {\n      course_invites: {\n        some: {\n          email: token.email\n        }\n      }\n    }\n  }), lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].standalone_events.findMany({\n    include: {\n      events: true\n    },\n    where: {\n      events: {\n        AND: [{\n          OR: [{\n            created_by: token.id\n          }, {\n            people_in_events: {\n              some: {\n                person: token.id\n              }\n            }\n          }]\n        }, {\n          end_date: {\n            gte: new Date().toISOString()\n          }\n        }]\n      }\n    }\n  })]);\n  return {\n    status: 200,\n    result: {\n      course_cohorts,\n      invited_courses,\n      events\n    }\n  };\n}\n\nasync function getUserCourses(req) {\n  let token = Object(_src_token__WEBPACK_IMPORTED_MODULE_1__[\"getToken\"])(req);\n  if (!token) return {\n    status: 403,\n    result: \"Error: no user logged in\"\n  };\n  let [maintaining_courses, watching_courses] = await Promise.all([lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].courses.findMany({\n    where: {\n      course_maintainers: {\n        some: {\n          maintainer: token.id\n        }\n      }\n    },\n    include: {\n      course_cohorts: {\n        select: {\n          start_date: true\n        }\n      }\n    }\n  }), lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].watching_courses.findMany({\n    where: {\n      email: token.email\n    }\n  })]);\n  return {\n    status: 200,\n    result: {\n      maintaining_courses,\n      watching_courses\n    }\n  };\n}\n\nasync function whoami(req) {\n  let token = Object(_src_token__WEBPACK_IMPORTED_MODULE_1__[\"getToken\"])(req);\n  return {\n    status: 200,\n    result: token || false\n  };\n}\n\nasync function checkUsername(req) {\n  let username = req.query.item[1];\n  let headers = {\n    \"Cache-Control\": 's-maxage=60000, stale-while-revalidate'\n  };\n  let people = await lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].people.findFirst({\n    where: {\n      username: {\n        equals: username,\n        mode: \"insensitive\"\n      }\n    },\n    select: {\n      username: true\n    }\n  });\n  return !!people ? {\n    status: 200,\n    result: '',\n    headers\n  } : {\n    status: 404,\n    result: '',\n    headers\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvZ2V0L1suLi5pdGVtXS50cz9lY2U0Il0sIm5hbWVzIjpbIm11bHRpUm91dGVIYW5kbGVyIiwiZ2V0VXNlckNvaG9ydHMiLCJnZXRVc2VyQ291cnNlcyIsImNoZWNrVXNlcm5hbWUiLCJ3aG9hbWkiLCJyZXEiLCJ0b2tlbiIsImdldFRva2VuIiwic3RhdHVzIiwicmVzdWx0IiwiY291cnNlX2NvaG9ydHMiLCJpbnZpdGVkX2NvdXJzZXMiLCJldmVudHMiLCJQcm9taXNlIiwiYWxsIiwicHJpc21hIiwiZmluZE1hbnkiLCJ3aGVyZSIsIk9SIiwicGVvcGxlX2luX2NvaG9ydHMiLCJzb21lIiwicGVyc29uIiwiaWQiLCJjb2hvcnRfZmFjaWxpdGF0b3JzIiwiZmFjaWxpdGF0b3IiLCJpbmNsdWRlIiwiY291cnNlcyIsInNlbGVjdCIsIm5hbWUiLCJzbHVnIiwiY2FyZF9pbWFnZSIsInR5cGUiLCJkZXNjcmlwdGlvbiIsImNvaG9ydF9tYXhfc2l6ZSIsImNvaG9ydF9ldmVudHMiLCJldmVyeW9uZSIsInBlb3BsZSIsInBlb3BsZV9pbl9ldmVudHMiLCJkaXNwbGF5X25hbWUiLCJ1c2VybmFtZSIsImNvdXJzZV9pbnZpdGVzIiwiZW1haWwiLCJzdGFuZGFsb25lX2V2ZW50cyIsIkFORCIsImNyZWF0ZWRfYnkiLCJlbmRfZGF0ZSIsImd0ZSIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1haW50YWluaW5nX2NvdXJzZXMiLCJ3YXRjaGluZ19jb3Vyc2VzIiwiY291cnNlX21haW50YWluZXJzIiwibWFpbnRhaW5lciIsInN0YXJ0X2RhdGUiLCJxdWVyeSIsIml0ZW0iLCJoZWFkZXJzIiwiZmluZEZpcnN0IiwiZXF1YWxzIiwibW9kZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBTUE7QUFFZUEsd0lBQWlCLENBQUMsTUFBRCxFQUFTO0FBQ3ZDLGtCQUFnQkMsY0FEdUI7QUFFdkMsa0JBQWdC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QUFzQkMsR0FBdEIsRUFBbUM7QUFDakMsTUFBSUMsS0FBSyxHQUFHQywyREFBUSxDQUFDRixHQUFELENBQXBCO0FBQ0EsU0FBTztBQUFDRyxVQUFNLEVBQUUsR0FBVDtBQUFjQyxVQUFNLEVBQUVILEtBQUssSUFBSTtBQUEvQixHQUFQO0FBQ0Q7O0FBRUQsZUFBZUgsYUFBZixDQUE2QkUsR0FBN0IsRUFBeUM7QUFDdkMsTUFBSWtDLFFBQVEsR0FBR2xDLEdBQUcsQ0FBQ2lELEtBQUosQ0FBVUMsSUFBVixDQUFlLENBQWYsQ0FBZjtBQUNBLE1BQUlDLE9BQU8sR0FBRztBQUFDLHFCQUFpQjtBQUFsQixHQUFkO0FBQ0EsTUFBSXBCLE1BQU0sR0FBRyxNQUFNckIsa0RBQU0sQ0FBQ3FCLE1BQVAsQ0FBY3FCLFNBQWQsQ0FBd0I7QUFBQ3hDLFNBQUssRUFBQztBQUFDc0IsY0FBUSxFQUFFO0FBQzNEbUIsY0FBTSxFQUFFbkIsUUFEbUQ7QUFFM0RvQixZQUFJLEVBQUU7QUFGcUQ7QUFBWCxLQUFQO0FBR3ZDaEMsVUFBTSxFQUFDO0FBQUNZLGNBQVEsRUFBRTtBQUFYO0FBSGdDLEdBQXhCLENBQW5CO0FBSUEsU0FBTyxDQUFDLENBQUNILE1BQUYsR0FDSDtBQUFDNUIsVUFBTSxFQUFFLEdBQVQ7QUFBY0MsVUFBTSxFQUFFLEVBQXRCO0FBQTBCK0M7QUFBMUIsR0FERyxHQUVIO0FBQUNoRCxVQUFNLEVBQUUsR0FBVDtBQUFjQyxVQUFNLEVBQUUsRUFBdEI7QUFBMEIrQztBQUExQixHQUZKO0FBR0QiLCJmaWxlIjoiLi9wYWdlcy9hcGkvZ2V0L1suLi5pdGVtXS50cy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG11bHRpUm91dGVIYW5kbGVyLCBSZXN1bHRUeXBlLCBSZXF1ZXN0fSBmcm9tICcuLi8uLi8uLi9zcmMvYXBpSGVscGVycydcbmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnLi4vLi4vLi4vc3JjL3Rva2VuJ1xuXG5leHBvcnQgdHlwZSBVc2VyQ29ob3J0c1Jlc3VsdCA9IFJlc3VsdFR5cGU8dHlwZW9mIGdldFVzZXJDb2hvcnRzPlxuZXhwb3J0IHR5cGUgVXNlckNvdXJzZXNSZXN1bHQgPSBSZXN1bHRUeXBlPHR5cGVvZiBnZXRVc2VyQ291cnNlcz5cbmV4cG9ydCB0eXBlIFdob0FtSVJlc3VsdCA9IFJlc3VsdFR5cGU8dHlwZW9mIHdob2FtaT5cbmV4cG9ydCB0eXBlIENoZWNrVXNlcm5hbWVSZXN1bHQgPSBSZXN1bHRUeXBlPHR5cGVvZiBjaGVja1VzZXJuYW1lPlxuaW1wb3J0IHByaXNtYSBmcm9tIFwibGliL3ByaXNtYVwiO1xuXG5leHBvcnQgZGVmYXVsdCBtdWx0aVJvdXRlSGFuZGxlcignaXRlbScsIHtcbiAgJ3VzZXJfY29ob3J0cyc6IGdldFVzZXJDb2hvcnRzLFxuICAndXNlcl9jb3Vyc2VzJzogZ2V0VXNlckNvdXJzZXMsXG4gICd1c2VybmFtZSc6IGNoZWNrVXNlcm5hbWUsXG4gICd3aG9hbWknOiB3aG9hbWksXG59KVxuXG5hc3luYyBmdW5jdGlvbiBnZXRVc2VyQ29ob3J0cyhyZXE6UmVxdWVzdCkge1xuICBsZXQgdG9rZW4gPSBnZXRUb2tlbihyZXEpXG4gIGlmKCF0b2tlbikgcmV0dXJuIHtzdGF0dXM6IDQwMyBhcyBjb25zdCwgcmVzdWx0OiBcIkVycm9yOiBubyB1c2VyIGxvZ2dlZCBpblwifVxuICBsZXQgW2NvdXJzZV9jb2hvcnRzLCBpbnZpdGVkX2NvdXJzZXMsIGV2ZW50c10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgcHJpc21hLmNvdXJzZV9jb2hvcnRzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOntcbiAgICAgICAgT1I6IFtcbiAgICAgICAgICB7cGVvcGxlX2luX2NvaG9ydHM6IHtzb21lOiB7cGVyc29uOiB0b2tlbi5pZH19fSxcbiAgICAgICAgICB7Y29ob3J0X2ZhY2lsaXRhdG9yczoge3NvbWU6e2ZhY2lsaXRhdG9yOiB0b2tlbi5pZH19fVxuICAgICAgICBdXG4gICAgICB9LFxuICAgICAgaW5jbHVkZTp7XG4gICAgICAgIGNvdXJzZXM6IHtzZWxlY3Q6IHtuYW1lOiB0cnVlLCBzbHVnOiB0cnVlLCBjYXJkX2ltYWdlOiB0cnVlLCBpZDogdHJ1ZSwgdHlwZTogdHJ1ZSwgZGVzY3JpcHRpb246IHRydWUsIGNvaG9ydF9tYXhfc2l6ZTogdHJ1ZX19LFxuICAgICAgICBjb2hvcnRfZmFjaWxpdGF0b3JzOiB0cnVlLFxuICAgICAgICBjb2hvcnRfZXZlbnRzOiB7XG4gICAgICAgICAgd2hlcmU6e1xuICAgICAgICAgICAgT1I6W1xuICAgICAgICAgICAgICB7ZXZlcnlvbmU6IHRydWV9LFxuICAgICAgICAgICAgICB7ZXZlbnRzOntwZW9wbGU6e2lkOnRva2VuLmlkfX19LFxuICAgICAgICAgICAgICB7ZXZlbnRzOntwZW9wbGVfaW5fZXZlbnRzOntzb21lOntwZW9wbGU6e2lkOiB0b2tlbi5pZH19fX19XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGV2ZW50czogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgcGVvcGxlOiB7XG4gICAgICAgICAgc2VsZWN0OiB7XG4gICAgICAgICAgICBkaXNwbGF5X25hbWU6IHRydWUsXG4gICAgICAgICAgICB1c2VybmFtZTogdHJ1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgfSksXG4gICAgcHJpc21hLmNvdXJzZXMuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6e1xuICAgICAgICBjb3Vyc2VfaW52aXRlczoge1xuICAgICAgICAgIHNvbWU6IHtcbiAgICAgICAgICAgIGVtYWlsOiB0b2tlbi5lbWFpbFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHByaXNtYS5zdGFuZGFsb25lX2V2ZW50cy5maW5kTWFueSh7XG4gICAgICBpbmNsdWRlOntldmVudHM6IHRydWV9LFxuICAgICAgd2hlcmU6e1xuICAgICAgICBldmVudHM6e0FORDpbXG4gICAgICAgICAge09SOltcbiAgICAgICAgICAgICAge2NyZWF0ZWRfYnk6IHRva2VuLmlkfSxcbiAgICAgICAgICAgICAge3Blb3BsZV9pbl9ldmVudHM6e3NvbWU6e3BlcnNvbjogdG9rZW4uaWR9fX1cbiAgICAgICAgICBdfSxcbiAgICAgICAgICB7ZW5kX2RhdGU6e2d0ZTpuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9fVxuICAgICAgICBdfVxuICAgICAgfVxuICAgIH0pXG4gIF0pXG5cbiAgcmV0dXJuIHtzdGF0dXM6IDIwMCwgcmVzdWx0OiB7Y291cnNlX2NvaG9ydHMsIGludml0ZWRfY291cnNlcywgZXZlbnRzfX0gYXMgY29uc3Rcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJDb3Vyc2VzKHJlcTogUmVxdWVzdCkge1xuICBsZXQgdG9rZW4gPSBnZXRUb2tlbihyZXEpXG4gIGlmKCF0b2tlbikgcmV0dXJuIHtzdGF0dXM6IDQwMyBhcyBjb25zdCwgcmVzdWx0OiBcIkVycm9yOiBubyB1c2VyIGxvZ2dlZCBpblwifVxuXG4gIGxldCBbbWFpbnRhaW5pbmdfY291cnNlcywgd2F0Y2hpbmdfY291cnNlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgcHJpc21hLmNvdXJzZXMuZmluZE1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgY291cnNlX21haW50YWluZXJzOiB7XG4gICAgICAgICAgc29tZToge1xuICAgICAgICAgICAgbWFpbnRhaW5lcjogdG9rZW4uaWRcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGNvdXJzZV9jb2hvcnRzOiB7XG4gICAgICAgICAgc2VsZWN0OiB7c3RhcnRfZGF0ZTogdHJ1ZX1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHByaXNtYS53YXRjaGluZ19jb3Vyc2VzLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGVtYWlsOiB0b2tlbi5lbWFpbFxuICAgICAgfVxuICAgIH0pXG4gIF0pXG4gIHJldHVybiB7c3RhdHVzOiAyMDAsIHJlc3VsdDoge21haW50YWluaW5nX2NvdXJzZXMsIHdhdGNoaW5nX2NvdXJzZXN9fSBhcyBjb25zdFxufVxuXG5hc3luYyBmdW5jdGlvbiB3aG9hbWkocmVxOlJlcXVlc3QpIHtcbiAgbGV0IHRva2VuID0gZ2V0VG9rZW4ocmVxKVxuICByZXR1cm4ge3N0YXR1czogMjAwLCByZXN1bHQ6IHRva2VuIHx8IGZhbHNlIH0gYXMgY29uc3Rcbn1cblxuYXN5bmMgZnVuY3Rpb24gY2hlY2tVc2VybmFtZShyZXE6UmVxdWVzdCl7XG4gIGxldCB1c2VybmFtZSA9IHJlcS5xdWVyeS5pdGVtWzFdXG4gIGxldCBoZWFkZXJzID0ge1wiQ2FjaGUtQ29udHJvbFwiOiAncy1tYXhhZ2U9NjAwMDAsIHN0YWxlLXdoaWxlLXJldmFsaWRhdGUnfVxuICBsZXQgcGVvcGxlID0gYXdhaXQgcHJpc21hLnBlb3BsZS5maW5kRmlyc3Qoe3doZXJlOnt1c2VybmFtZToge1xuICAgIGVxdWFsczogdXNlcm5hbWUsXG4gICAgbW9kZTogXCJpbnNlbnNpdGl2ZVwiLFxuICB9fSwgc2VsZWN0Ont1c2VybmFtZTogdHJ1ZX19KVxuICByZXR1cm4gISFwZW9wbGVcbiAgICA/IHtzdGF0dXM6IDIwMCwgcmVzdWx0OiAnJywgaGVhZGVyc30gYXMgY29uc3RcbiAgICA6IHtzdGF0dXM6IDQwNCwgcmVzdWx0OiAnJywgaGVhZGVyc30gYXMgY29uc3Rcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/get/[...item].ts\n");

/***/ }),

/***/ "./src/apiHelpers.ts":
/*!***************************!*\
  !*** ./src/apiHelpers.ts ***!
  \***************************/
/*! exports provided: APIHandler, multiRouteHandler, callApi, useApi, useApiData */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"APIHandler\", function() { return APIHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"multiRouteHandler\", function() { return multiRouteHandler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"callApi\", function() { return callApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useApi\", function() { return useApi; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"useApiData\", function() { return useApiData; });\n/* harmony import */ var _sentry_node__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sentry/node */ \"@sentry/node\");\n/* harmony import */ var _sentry_node__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_sentry_node__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! swr */ \"swr\");\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(swr__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst APIHandler = handler => {\n  if (process.env.NEXT_PUBLIC_SENTRY_DSN) {\n    _sentry_node__WEBPACK_IMPORTED_MODULE_0__[\"init\"]({\n      dsn: process.env.NEXT_PUBLIC_SENTRY_DSN\n    });\n  }\n\n  return async (req, res) => {\n    let result;\n\n    try {\n      if (typeof handler === 'object') {\n        let method = req.method;\n        let methodHandler = handler[method];\n\n        if (!methodHandler) {\n          res.status(404).end();\n          return;\n        }\n\n        result = await methodHandler(req);\n      } else {\n        result = await handler(req);\n      }\n    } catch (e) {\n      if (process.env.NEXT_PUBLIC_SENTRY_DSN) {\n        _sentry_node__WEBPACK_IMPORTED_MODULE_0__[\"captureException\"](e, {\n          contexts: {\n            headers: req.headers\n          }\n        });\n        await _sentry_node__WEBPACK_IMPORTED_MODULE_0__[\"flush\"](2000);\n      }\n\n      console.log(e);\n      return res.status(500).end();\n    }\n\n    if (result.headers) {\n      for (let header of Object.keys(result.headers)) {\n        res.setHeader(header, result.headers[header]);\n      }\n    }\n\n    if (result.status !== 200) console.log(result.result);\n    if (typeof result.result !== 'object') return res.status(result.status).send(result.result);\n    return res.status(result.status).json(result.result);\n  };\n};\nconst multiRouteHandler = (query, handlers) => {\n  return APIHandler(async req => {\n    let route = typeof req.query[query] === 'string' ? req.query[query] : req.query[query][0];\n    return handlers[route](req);\n  });\n};\nasync function callApi(endpoint, msg, method) {\n  var _result$headers$get;\n\n  let result = await fetch(endpoint, {\n    method: method ? method : msg ? \"POST\" : \"GET\",\n    headers: {\n      'Content-type': typeof msg === 'object' ? 'application/json' : 'text/html'\n    },\n    body: typeof msg === 'string' ? msg : JSON.stringify(msg)\n  });\n  return {\n    status: result.status,\n    result: (_result$headers$get = result.headers.get('Content-type')) !== null && _result$headers$get !== void 0 && _result$headers$get.includes('application/json') ? await result.json() : await result.text()\n  };\n}\nfunction useApi(deps, successCallback) {\n  let {\n    0: state,\n    1: setState\n  } = Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useState\"])('normal');\n  Object(react__WEBPACK_IMPORTED_MODULE_1__[\"useEffect\"])(() => setState('normal'), deps);\n\n  let call = async (path, msg, method) => {\n    setState('loading');\n    let res = await callApi(path, msg, method);\n\n    if (res.status === 200) {\n      if (successCallback) await successCallback(res.result);\n      setState('success');\n    } else setState('error');\n\n    return res;\n  };\n\n  return [state, call, setState];\n}\nfunction useApiData(path, initialData) {\n  return swr__WEBPACK_IMPORTED_MODULE_2___default()(path ? path : null, async path => {\n    let res = await callApi(path);\n    if (res.status = 200) return res.result;\n    return res;\n  }, {\n    initialData\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYXBpSGVscGVycy50cz9kMDIwIl0sIm5hbWVzIjpbIkFQSUhhbmRsZXIiLCJoYW5kbGVyIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NFTlRSWV9EU04iLCJTZW50cnkiLCJkc24iLCJyZXEiLCJyZXMiLCJyZXN1bHQiLCJtZXRob2QiLCJtZXRob2RIYW5kbGVyIiwic3RhdHVzIiwiZW5kIiwiZSIsImNvbnRleHRzIiwiaGVhZGVycyIsImNvbnNvbGUiLCJsb2ciLCJoZWFkZXIiLCJPYmplY3QiLCJrZXlzIiwic2V0SGVhZGVyIiwic2VuZCIsImpzb24iLCJtdWx0aVJvdXRlSGFuZGxlciIsInF1ZXJ5IiwiaGFuZGxlcnMiLCJyb3V0ZSIsImNhbGxBcGkiLCJlbmRwb2ludCIsIm1zZyIsImZldGNoIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXQiLCJpbmNsdWRlcyIsInRleHQiLCJ1c2VBcGkiLCJkZXBzIiwic3VjY2Vzc0NhbGxiYWNrIiwic3RhdGUiLCJzZXRTdGF0ZSIsInVzZVN0YXRlIiwidXNlRWZmZWN0IiwiY2FsbCIsInBhdGgiLCJ1c2VBcGlEYXRhIiwiaW5pdGlhbERhdGEiLCJ1c2VTV1IiXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQW9CTyxNQUFNQSxVQUFVLEdBQUlDLE9BQUQsSUFBOEY7QUFDdEgsTUFBSUMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLHNCQUFoQixFQUF3QztBQUN0Q0MscURBQUEsQ0FBWTtBQUFFQyxTQUFHLEVBQUVKLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQztBQUFuQixLQUFaO0FBQ0Q7O0FBQ0QsU0FBTyxPQUFPRyxHQUFQLEVBQTJCQyxHQUEzQixLQUFvRDtBQUN6RCxRQUFJQyxNQUFKOztBQUNBLFFBQUk7QUFDRixVQUFHLE9BQU9SLE9BQVAsS0FBbUIsUUFBdEIsRUFBZ0M7QUFDOUIsWUFBSVMsTUFBTSxHQUFHSCxHQUFHLENBQUNHLE1BQWpCO0FBQ0EsWUFBSUMsYUFBYSxHQUFHVixPQUFPLENBQUNTLE1BQUQsQ0FBM0I7O0FBQ0EsWUFBRyxDQUFDQyxhQUFKLEVBQW1CO0FBQ2pCSCxhQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxHQUFoQjtBQUNBO0FBQ0Q7O0FBQ0RKLGNBQU0sR0FBRyxNQUFNRSxhQUFhLENBQUNKLEdBQUQsQ0FBNUI7QUFDRCxPQVJELE1BU0s7QUFDSEUsY0FBTSxHQUFHLE1BQU1SLE9BQU8sQ0FBQ00sR0FBRCxDQUF0QjtBQUNEO0FBQ0YsS0FiRCxDQWNBLE9BQU1PLENBQU4sRUFBUztBQUNQLFVBQUlaLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxzQkFBaEIsRUFBd0M7QUFDdENDLHFFQUFBLENBQXdCUyxDQUF4QixFQUEyQjtBQUFDQyxrQkFBUSxFQUFFO0FBQUNDLG1CQUFPLEVBQUVULEdBQUcsQ0FBQ1M7QUFBZDtBQUFYLFNBQTNCO0FBQ0EsY0FBTVgsa0RBQUEsQ0FBYSxJQUFiLENBQU47QUFDRDs7QUFDRFksYUFBTyxDQUFDQyxHQUFSLENBQVlKLENBQVo7QUFDQSxhQUFPTixHQUFHLENBQUNJLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxHQUFoQixFQUFQO0FBQ0Q7O0FBRUQsUUFBR0osTUFBTSxDQUFDTyxPQUFWLEVBQW1CO0FBQ2pCLFdBQUksSUFBSUcsTUFBUixJQUFrQkMsTUFBTSxDQUFDQyxJQUFQLENBQVlaLE1BQU0sQ0FBQ08sT0FBbkIsQ0FBbEIsRUFBK0M7QUFDN0NSLFdBQUcsQ0FBQ2MsU0FBSixDQUFjSCxNQUFkLEVBQXNCVixNQUFNLENBQUNPLE9BQVAsQ0FBZUcsTUFBZixDQUF0QjtBQUNEO0FBQ0Y7O0FBQ0QsUUFBR1YsTUFBTSxDQUFDRyxNQUFQLEtBQWdCLEdBQW5CLEVBQXdCSyxPQUFPLENBQUNDLEdBQVIsQ0FBWVQsTUFBTSxDQUFDQSxNQUFuQjtBQUN4QixRQUFHLE9BQU9BLE1BQU0sQ0FBQ0EsTUFBZCxLQUF5QixRQUE1QixFQUFzQyxPQUFPRCxHQUFHLENBQUNJLE1BQUosQ0FBV0gsTUFBTSxDQUFDRyxNQUFsQixFQUEwQlcsSUFBMUIsQ0FBK0JkLE1BQU0sQ0FBQ0EsTUFBdEMsQ0FBUDtBQUN0QyxXQUFPRCxHQUFHLENBQUNJLE1BQUosQ0FBV0gsTUFBTSxDQUFDRyxNQUFsQixFQUEwQlksSUFBMUIsQ0FBK0JmLE1BQU0sQ0FBQ0EsTUFBdEMsQ0FBUDtBQUNELEdBakNEO0FBa0NELENBdENNO0FBd0NBLE1BQU1nQixpQkFBaUIsR0FBRyxDQUFDQyxLQUFELEVBQWVDLFFBQWYsS0FBb0Q7QUFDbkYsU0FBTzNCLFVBQVUsQ0FBQyxNQUFPTyxHQUFQLElBQWU7QUFDL0IsUUFBSXFCLEtBQUssR0FBSSxPQUFPckIsR0FBRyxDQUFDbUIsS0FBSixDQUFVQSxLQUFWLENBQVAsS0FBNEIsUUFBN0IsR0FDR25CLEdBQUcsQ0FBQ21CLEtBQUosQ0FBVUEsS0FBVixDQURILEdBRUduQixHQUFHLENBQUNtQixLQUFKLENBQVVBLEtBQVYsRUFBaUIsQ0FBakIsQ0FGZjtBQUdBLFdBQU9DLFFBQVEsQ0FBQ0MsS0FBRCxDQUFSLENBQWdCckIsR0FBaEIsQ0FBUDtBQUNELEdBTGdCLENBQWpCO0FBTUQsQ0FQTTtBQVNBLGVBQWVzQixPQUFmLENBQStGQyxRQUEvRixFQUFnSEMsR0FBaEgsRUFBMkhyQixNQUEzSCxFQUE0STtBQUFBOztBQUMvSSxNQUFJRCxNQUFNLEdBQUcsTUFBTXVCLEtBQUssQ0FBQ0YsUUFBRCxFQUFXO0FBQ2pDcEIsVUFBTSxFQUFFQSxNQUFNLEdBQUdBLE1BQUgsR0FBWXFCLEdBQUcsR0FBRyxNQUFILEdBQVksS0FEUjtBQUVqQ2YsV0FBTyxFQUFFO0FBQ1Asc0JBQWlCLE9BQU9lLEdBQVAsS0FBZSxRQUFoQixHQUE0QixrQkFBNUIsR0FBaUQ7QUFEMUQsS0FGd0I7QUFLakNFLFFBQUksRUFBRyxPQUFPRixHQUFQLEtBQWUsUUFBaEIsR0FBNEJBLEdBQTVCLEdBQWtDRyxJQUFJLENBQUNDLFNBQUwsQ0FBZUosR0FBZjtBQUxQLEdBQVgsQ0FBeEI7QUFRQSxTQUFPO0FBQ0xuQixVQUFNLEVBQUVILE1BQU0sQ0FBQ0csTUFEVjtBQUVMSCxVQUFNLEVBQUUsdUJBQUFBLE1BQU0sQ0FBQ08sT0FBUCxDQUFlb0IsR0FBZixDQUFtQixjQUFuQixxRUFBb0NDLFFBQXBDLENBQTZDLGtCQUE3QyxJQUNKLE1BQU01QixNQUFNLENBQUNlLElBQVAsRUFERixHQUVKLE1BQU1mLE1BQU0sQ0FBQzZCLElBQVA7QUFKTCxHQUFQO0FBTUg7QUFHTSxTQUFTQyxNQUFULENBQXVGQyxJQUF2RixFQUFvR0MsZUFBcEcsRUFBMEs7QUFDL0ssTUFBSTtBQUFBLE9BQUNDLEtBQUQ7QUFBQSxPQUFRQztBQUFSLE1BQW9CQyxzREFBUSxDQUFTLFFBQVQsQ0FBaEM7QUFDQUMseURBQVMsQ0FBQyxNQUFLRixRQUFRLENBQUMsUUFBRCxDQUFkLEVBQTBCSCxJQUExQixDQUFUOztBQUNBLE1BQUlNLElBQUksR0FBRSxPQUFPQyxJQUFQLEVBQXFCaEIsR0FBckIsRUFBZ0NyQixNQUFoQyxLQUFxRDtBQUM3RGlDLFlBQVEsQ0FBQyxTQUFELENBQVI7QUFDQSxRQUFJbkMsR0FBRyxHQUFHLE1BQU1xQixPQUFPLENBQVNrQixJQUFULEVBQWVoQixHQUFmLEVBQW9CckIsTUFBcEIsQ0FBdkI7O0FBQ0EsUUFBR0YsR0FBRyxDQUFDSSxNQUFKLEtBQWUsR0FBbEIsRUFBdUI7QUFDckIsVUFBRzZCLGVBQUgsRUFBb0IsTUFBTUEsZUFBZSxDQUFDakMsR0FBRyxDQUFDQyxNQUFMLENBQXJCO0FBQ3BCa0MsY0FBUSxDQUFDLFNBQUQsQ0FBUjtBQUNELEtBSEQsTUFJS0EsUUFBUSxDQUFDLE9BQUQsQ0FBUjs7QUFDTCxXQUFPbkMsR0FBUDtBQUNELEdBVEQ7O0FBVUEsU0FBTyxDQUFDa0MsS0FBRCxFQUFRSSxJQUFSLEVBQWNILFFBQWQsQ0FBUDtBQUNEO0FBRU0sU0FBU0ssVUFBVCxDQUF1REQsSUFBdkQsRUFBc0VFLFdBQXRFLEVBQXNGO0FBQzNGLFNBQU9DLDBDQUFNLENBQXdCSCxJQUFJLEdBQUdBLElBQUgsR0FBVSxJQUF0QyxFQUE0QyxNQUFPQSxJQUFQLElBQWM7QUFDckUsUUFBSXZDLEdBQUcsR0FBRyxNQUFNcUIsT0FBTyxDQUFVa0IsSUFBVixDQUF2QjtBQUNBLFFBQUd2QyxHQUFHLENBQUNJLE1BQUosR0FBYSxHQUFoQixFQUFxQixPQUFPSixHQUFHLENBQUNDLE1BQVg7QUFDckIsV0FBT0QsR0FBUDtBQUNELEdBSlksRUFJVjtBQUFDeUM7QUFBRCxHQUpVLENBQWI7QUFLRCIsImZpbGUiOiIuL3NyYy9hcGlIZWxwZXJzLnRzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZX0gZnJvbSAnbmV4dCdcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tICdAc2VudHJ5L25vZGUnXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0fSBmcm9tICdyZWFjdCdcbmltcG9ydCB1c2VTV1IgZnJvbSAnc3dyJ1xuXG5leHBvcnQgdHlwZSBSZXN1bHRUeXBlPFQgZXh0ZW5kcyAoLi4uYXJnczphbnkpPT4gYW55PiA9IFByb21pc2VSZXR1cm48UmV0dXJuVHlwZTxUPj5cbmV4cG9ydCB0eXBlIFJlcXVlc3QgPSBOZXh0QXBpUmVxdWVzdFxuZXhwb3J0IHR5cGUgU3VjY2VzczxUIGV4dGVuZHMgUmVzdWx0PiA9IEV4dHJhY3Q8VCwge3N0YXR1czogMjAwfT5bJ3Jlc3VsdCddXG5leHBvcnQgdHlwZSBFcnJvcnM8VCBleHRlbmRzIFJlc3VsdD4gPSBFeGNsdWRlPFQsIHtzdGF0dXM6IDIwMH0+XG5cbnR5cGUgSGFuZGxlciA9IChyZXE6UmVxdWVzdCkgPT4gUHJvbWlzZTxSZXN1bHQ+XG50eXBlIFByb21pc2VSZXR1cm48VD4gPSBUIGV4dGVuZHMgUHJvbWlzZUxpa2U8aW5mZXIgVT4gPyBVIDogVFxuXG50eXBlIFJlc3VsdCA9IHtcbiAgc3RhdHVzOiBudW1iZXIsXG4gIHJlc3VsdDogc3RyaW5nIHwgb2JqZWN0IHwgbnVsbCB8IGJvb2xlYW5cbiAgaGVhZGVycz86IHtcbiAgICBba2V5OiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfCBzdHJpbmdbXVxuICB9XG59XG5cbnR5cGUgTWV0aG9kcyA9IFwiUE9TVFwiIHwgXCJHRVRcIiB8IFwiUFVUXCIgfCBcIkRFTEVURVwiXG5cbmV4cG9ydCBjb25zdCBBUElIYW5kbGVyID0gKGhhbmRsZXI6IEhhbmRsZXIgfCBQYXJ0aWFsPHtQT1NUOiBIYW5kbGVyLCBHRVQ6IEhhbmRsZXIsIFBVVDogSGFuZGxlciwgREVMRVRFOiBIYW5kbGVyfT4pID0+IHtcbiAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NFTlRSWV9EU04pIHtcbiAgICBTZW50cnkuaW5pdCh7IGRzbjogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU0VOVFJZX0RTTn0pO1xuICB9XG4gIHJldHVybiBhc3luYyAocmVxOk5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkgPT4ge1xuICAgIGxldCByZXN1bHRcbiAgICB0cnkge1xuICAgICAgaWYodHlwZW9mIGhhbmRsZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGxldCBtZXRob2QgPSByZXEubWV0aG9kIGFzIE1ldGhvZHNcbiAgICAgICAgbGV0IG1ldGhvZEhhbmRsZXIgPSBoYW5kbGVyW21ldGhvZF1cbiAgICAgICAgaWYoIW1ldGhvZEhhbmRsZXIpIHtcbiAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuZW5kKClcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBhd2FpdCBtZXRob2RIYW5kbGVyKHJlcSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICByZXN1bHQgPSBhd2FpdCBoYW5kbGVyKHJlcSlcbiAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NFTlRSWV9EU04pIHtcbiAgICAgICAgU2VudHJ5LmNhcHR1cmVFeGNlcHRpb24oZSwge2NvbnRleHRzOiB7aGVhZGVyczogcmVxLmhlYWRlcnN9fSlcbiAgICAgICAgYXdhaXQgU2VudHJ5LmZsdXNoKDIwMDApXG4gICAgICB9XG4gICAgICBjb25zb2xlLmxvZyhlKVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5lbmQoKVxuICAgIH1cblxuICAgIGlmKHJlc3VsdC5oZWFkZXJzKSB7XG4gICAgICBmb3IobGV0IGhlYWRlciBvZiBPYmplY3Qua2V5cyhyZXN1bHQuaGVhZGVycykpIHtcbiAgICAgICAgcmVzLnNldEhlYWRlcihoZWFkZXIsIHJlc3VsdC5oZWFkZXJzW2hlYWRlcl0pXG4gICAgICB9XG4gICAgfVxuICAgIGlmKHJlc3VsdC5zdGF0dXMhPT0yMDApIGNvbnNvbGUubG9nKHJlc3VsdC5yZXN1bHQpXG4gICAgaWYodHlwZW9mIHJlc3VsdC5yZXN1bHQgIT09ICdvYmplY3QnKSByZXR1cm4gcmVzLnN0YXR1cyhyZXN1bHQuc3RhdHVzKS5zZW5kKHJlc3VsdC5yZXN1bHQpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMocmVzdWx0LnN0YXR1cykuanNvbihyZXN1bHQucmVzdWx0KVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBtdWx0aVJvdXRlSGFuZGxlciA9IChxdWVyeTpzdHJpbmcsIGhhbmRsZXJzOntba2V5OnN0cmluZ106IEhhbmRsZXJ9KSA9PiB7XG4gIHJldHVybiBBUElIYW5kbGVyKGFzeW5jIChyZXEpID0+IHtcbiAgICBsZXQgcm91dGUgPSAodHlwZW9mIHJlcS5xdWVyeVtxdWVyeV0gPT09ICdzdHJpbmcnKVxuICAgICAgICAgICAgICAgICA/IHJlcS5xdWVyeVtxdWVyeV0gYXMgc3RyaW5nXG4gICAgICAgICAgICAgICAgIDogcmVxLnF1ZXJ5W3F1ZXJ5XVswXVxuICAgIHJldHVybiBoYW5kbGVyc1tyb3V0ZV0ocmVxKVxuICB9KVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY2FsbEFwaTxNc2cgZXh0ZW5kcyBvYmplY3QgfCBzdHJpbmcgfCBudWxsLCBSIGV4dGVuZHMgT21pdDxSZXN1bHQsICdoZWFkZXJzJz4+IChlbmRwb2ludDpzdHJpbmcsIG1zZz86IE1zZywgbWV0aG9kPzogTWV0aG9kcyl7XG4gICAgbGV0IHJlc3VsdCA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCA/IG1ldGhvZCA6IG1zZyA/IFwiUE9TVFwiIDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICh0eXBlb2YgbXNnID09PSAnb2JqZWN0JykgPyAnYXBwbGljYXRpb24vanNvbicgOiAndGV4dC9odG1sJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6ICh0eXBlb2YgbXNnID09PSAnc3RyaW5nJykgPyBtc2cgOiBKU09OLnN0cmluZ2lmeShtc2cpXG4gICAgfSlcblxuICAgIHJldHVybiB7XG4gICAgICBzdGF0dXM6IHJlc3VsdC5zdGF0dXMsXG4gICAgICByZXN1bHQ6IHJlc3VsdC5oZWFkZXJzLmdldCgnQ29udGVudC10eXBlJyk/LmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJylcbiAgICAgICAgPyBhd2FpdCByZXN1bHQuanNvbigpXG4gICAgICAgIDogYXdhaXQgcmVzdWx0LnRleHQoKVxuICAgIH0gYXMgUlxufVxuXG5leHBvcnQgdHlwZSBTdGF0dXMgPSAnbm9ybWFsJyB8ICdlcnJvcicgfCAnbG9hZGluZycgfCAnc3VjY2VzcydcbmV4cG9ydCBmdW5jdGlvbiB1c2VBcGk8TXNnIGV4dGVuZHMgb2JqZWN0IHwgc3RyaW5nIHwgbnVsbCwgUiBleHRlbmRzIE9taXQ8UmVzdWx0LCAnaGVhZGVycyc+PihkZXBzOiBhbnlbXSwgc3VjY2Vzc0NhbGxiYWNrPzogKHJlc3VsdDogRXh0cmFjdDxSLCB7c3RhdHVzOjIwMH0+WydyZXN1bHQnXSk9PiBhbnkpIHtcbiAgbGV0IFtzdGF0ZSwgc2V0U3RhdGVdID0gdXNlU3RhdGU8U3RhdHVzPignbm9ybWFsJylcbiAgdXNlRWZmZWN0KCgpPT4gc2V0U3RhdGUoJ25vcm1hbCcpLCBkZXBzKVxuICBsZXQgY2FsbD0gYXN5bmMgKHBhdGg6IHN0cmluZywgbXNnPzogTXNnLCBtZXRob2Q/OiBNZXRob2RzKSA9PiB7XG4gICAgc2V0U3RhdGUoJ2xvYWRpbmcnKVxuICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPE1zZywgUj4ocGF0aCwgbXNnLCBtZXRob2QpXG4gICAgaWYocmVzLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICBpZihzdWNjZXNzQ2FsbGJhY2spIGF3YWl0IHN1Y2Nlc3NDYWxsYmFjayhyZXMucmVzdWx0KVxuICAgICAgc2V0U3RhdGUoJ3N1Y2Nlc3MnKVxuICAgIH1cbiAgICBlbHNlIHNldFN0YXRlKCdlcnJvcicpXG4gICAgcmV0dXJuIHJlc1xuICB9XG4gIHJldHVybiBbc3RhdGUsIGNhbGwsIHNldFN0YXRlXSBhcyBjb25zdFxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXNlQXBpRGF0YTxSIGV4dGVuZHMgT21pdDxSZXN1bHQsICdoZWFkZXJzJz4+KHBhdGg/OiBzdHJpbmcsIGluaXRpYWxEYXRhPzpSKSB7XG4gIHJldHVybiB1c2VTV1I8U3VjY2VzczxSPiwgRXJyb3JzPFI+PihwYXRoID8gcGF0aCA6IG51bGwsIGFzeW5jIChwYXRoKT0+e1xuICAgIGxldCByZXMgPSBhd2FpdCBjYWxsQXBpPG51bGwsIFI+KHBhdGgpXG4gICAgaWYocmVzLnN0YXR1cyA9IDIwMCkgcmV0dXJuIHJlcy5yZXN1bHRcbiAgICByZXR1cm4gcmVzXG4gIH0sIHtpbml0aWFsRGF0YX0pXG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/apiHelpers.ts\n");

/***/ }),

/***/ "./src/token.ts":
/*!**********************!*\
  !*** ./src/token.ts ***!
  \**********************/
/*! exports provided: setTokenHeader, getToken, removeToken */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"setTokenHeader\", function() { return setTokenHeader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getToken\", function() { return getToken; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"removeToken\", function() { return removeToken; });\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cookie */ \"cookie\");\n/* harmony import */ var cookie__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cookie__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction setTokenHeader(token) {\n  return {\n    'Set-Cookie': cookie__WEBPACK_IMPORTED_MODULE_0___default.a.serialize('loginToken', JSON.stringify(token), {\n      path: '/',\n      expires: new Date(Date.now() + 1000 * 60 * 60 * 24 * 30),\n      // 30 days\n      httpOnly: true,\n      sameSite: \"lax\"\n    })\n  };\n}\nfunction getToken(req) {\n  const cookies = req.headers.cookie;\n  if (!cookies) return;\n  const {\n    loginToken\n  } = cookie__WEBPACK_IMPORTED_MODULE_0___default.a.parse(cookies);\n  if (loginToken) return JSON.parse(loginToken);\n  return;\n}\nfunction removeToken(res) {\n  res.setHeader('Set-Cookie', cookie__WEBPACK_IMPORTED_MODULE_0___default.a.serialize('loginToken', '', {\n    path: '/',\n    expires: new Date(Date.now() - 1000),\n    httpOnly: false\n  }));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvdG9rZW4udHM/YWU0NyJdLCJuYW1lcyI6WyJzZXRUb2tlbkhlYWRlciIsInRva2VuIiwiY29va2llIiwic2VyaWFsaXplIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhdGgiLCJleHBpcmVzIiwiRGF0ZSIsIm5vdyIsImh0dHBPbmx5Iiwic2FtZVNpdGUiLCJnZXRUb2tlbiIsInJlcSIsImNvb2tpZXMiLCJoZWFkZXJzIiwibG9naW5Ub2tlbiIsInBhcnNlIiwicmVtb3ZlVG9rZW4iLCJyZXMiLCJzZXRIZWFkZXIiXSwibWFwcGluZ3MiOiJBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWU8sU0FBU0EsY0FBVCxDQUF3QkMsS0FBeEIsRUFBc0M7QUFDM0MsU0FBTztBQUNMLGtCQUFhQyw2Q0FBTSxDQUFDQyxTQUFQLENBQWlCLFlBQWpCLEVBQStCQyxJQUFJLENBQUNDLFNBQUwsQ0FBZUosS0FBZixDQUEvQixFQUFzRDtBQUNqRUssVUFBSSxFQUFFLEdBRDJEO0FBRWpFQyxhQUFPLEVBQUUsSUFBSUMsSUFBSixDQUFTQSxJQUFJLENBQUNDLEdBQUwsS0FBYSxPQUFPLEVBQVAsR0FBWSxFQUFaLEdBQWlCLEVBQWpCLEdBQXNCLEVBQTVDLENBRndEO0FBRVA7QUFDMURDLGNBQVEsRUFBRSxJQUh1RDtBQUlqRUMsY0FBUSxFQUFFO0FBSnVELEtBQXREO0FBRFIsR0FBUDtBQVFEO0FBRU0sU0FBU0MsUUFBVCxDQUFrQkMsR0FBbEIsRUFBdUM7QUFDNUMsUUFBTUMsT0FBTyxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWWIsTUFBNUI7QUFDQSxNQUFJLENBQUNZLE9BQUwsRUFBYztBQUVkLFFBQU07QUFBRUU7QUFBRixNQUFpQmQsNkNBQU0sQ0FBQ2UsS0FBUCxDQUFhSCxPQUFiLENBQXZCO0FBQ0EsTUFBR0UsVUFBSCxFQUFlLE9BQU9aLElBQUksQ0FBQ2EsS0FBTCxDQUFXRCxVQUFYLENBQVA7QUFDZjtBQUNEO0FBRU0sU0FBU0UsV0FBVCxDQUFxQkMsR0FBckIsRUFBeUM7QUFDOUNBLEtBQUcsQ0FBQ0MsU0FBSixDQUNJLFlBREosRUFFSWxCLDZDQUFNLENBQUNDLFNBQVAsQ0FBaUIsWUFBakIsRUFBK0IsRUFBL0IsRUFBbUM7QUFDakNHLFFBQUksRUFBRSxHQUQyQjtBQUVqQ0MsV0FBTyxFQUFFLElBQUlDLElBQUosQ0FBU0EsSUFBSSxDQUFDQyxHQUFMLEtBQWEsSUFBdEIsQ0FGd0I7QUFHakNDLFlBQVEsRUFBRTtBQUh1QixHQUFuQyxDQUZKO0FBUUQiLCJmaWxlIjoiLi9zcmMvdG9rZW4udHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTZXJ2ZXJSZXNwb25zZSwgSW5jb21pbmdNZXNzYWdlIH0gZnJvbSBcImh0dHBcIjtcbmltcG9ydCBjb29raWUgZnJvbSAnY29va2llJ1xuXG5leHBvcnQgdHlwZSBUb2tlbiA9IHtcbiAgZW1haWw6IHN0cmluZyxcbiAgaWQ6IHN0cmluZyxcbiAgdXNlcm5hbWU6IHN0cmluZyxcbiAgZGlzcGxheV9uYW1lPzogc3RyaW5nIHwgbnVsbCxcbiAgbGluaz86IHN0cmluZyB8IG51bGxcbiAgYmlvPzogc3RyaW5nIHwgbnVsbFxuICBhZG1pbj86IGJvb2xlYW5cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFRva2VuSGVhZGVyKHRva2VuOlRva2VuKSAge1xuICByZXR1cm4ge1xuICAgICdTZXQtQ29va2llJzpjb29raWUuc2VyaWFsaXplKCdsb2dpblRva2VuJywgSlNPTi5zdHJpbmdpZnkodG9rZW4pLCB7XG4gICAgICBwYXRoOiAnLycsXG4gICAgICBleHBpcmVzOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMTAwMCAqIDYwICogNjAgKiAyNCAqIDMwKSwgLy8gMzAgZGF5c1xuICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICBzYW1lU2l0ZTogXCJsYXhcIlxuICAgIH0pXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRva2VuKHJlcTpJbmNvbWluZ01lc3NhZ2UpIHtcbiAgY29uc3QgY29va2llcyA9IHJlcS5oZWFkZXJzLmNvb2tpZVxuICBpZiAoIWNvb2tpZXMpIHJldHVybjtcblxuICBjb25zdCB7IGxvZ2luVG9rZW4gfSA9IGNvb2tpZS5wYXJzZShjb29raWVzKTtcbiAgaWYobG9naW5Ub2tlbikgcmV0dXJuIEpTT04ucGFyc2UobG9naW5Ub2tlbikgYXMgVG9rZW47XG4gIHJldHVyblxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlVG9rZW4ocmVzOlNlcnZlclJlc3BvbnNlKSB7XG4gIHJlcy5zZXRIZWFkZXIoXG4gICAgICAnU2V0LUNvb2tpZScsXG4gICAgICBjb29raWUuc2VyaWFsaXplKCdsb2dpblRva2VuJywgJycsIHtcbiAgICAgICAgcGF0aDogJy8nLFxuICAgICAgICBleHBpcmVzOiBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMTAwMCksXG4gICAgICAgIGh0dHBPbmx5OiBmYWxzZVxuICAgICAgfSlcbiAgICApO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/token.ts\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@prisma/client\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAcHJpc21hL2NsaWVudFwiP2UwMDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiQHByaXNtYS9jbGllbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJAcHJpc21hL2NsaWVudFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@prisma/client\n");

/***/ }),

/***/ "@sentry/node":
/*!*******************************!*\
  !*** external "@sentry/node" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"@sentry/node\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJAc2VudHJ5L25vZGVcIj83MThmIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IkBzZW50cnkvbm9kZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcIkBzZW50cnkvbm9kZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///@sentry/node\n");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cookie\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb29raWVcIj8yZDIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImNvb2tpZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///cookie\n");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"react\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFjdFwiPzU4OGUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoicmVhY3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJyZWFjdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///react\n");

/***/ }),

/***/ "swr":
/*!**********************!*\
  !*** external "swr" ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"swr\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJzd3JcIj9jMjg5Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6InN3ci5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcInN3clwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///swr\n");

/***/ })

/******/ });